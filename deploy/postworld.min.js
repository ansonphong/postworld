"use strict";function userAutocomplete($scope,pwData){$scope.username=void 0,$scope.queryList=function(){var searchTerm=$scope.username+"*",query_args={number:20,fields:["user_nicename","display_name"],search:searchTerm};pwData.user_query_autocomplete(query_args).then(function(response){$scope.authors=response.data.results},function(response){throw{message:"Error: "+JSON.stringify(response)}})},$scope.$watch("username",function(){$scope.$emit("updateUsername",$scope.username)},1),$scope.$on("updateUsername",function(event,data){$scope.username=data})}function tagsAutocomplete($scope,$filter,pwData){$scope.tags_input=[],$scope.tags_input_obj=[],$scope.queryTags=function(){var args=($scope.queryTag,{search:$scope.queryTag,taxonomy:"post_tag"});pwData.tags_autocomplete(args).then(function(response){console.log(response.data),$scope.tagOptions=response.data},function(response){throw{message:"Error: "+JSON.stringify(response)}})},$scope.addTag=function(){angular.forEach($scope.tagOptions,function(tag){tag.slug==$scope.queryTag&&($scope.tags_input_obj.push(tag),$scope.queryTag="")})},$scope.removeTag=function(removeSlug){$scope.tags_input_obj=$filter("filter")($scope.tags_input_obj,function(item){return!(item.slug==removeSlug)})},$scope.newTag=function(){var newTag={name:$scope.queryTag,slug:$scope.queryTag};$scope.tags_input_obj.push(newTag),$scope.queryTag=""},$scope.$watch("tags_input_obj",function(){$scope.tags_input=[],angular.forEach($scope.tags_input_obj,function(tag){$scope.tags_input.push(tag.slug)}),$scope.$emit("updateTagsInput",$scope.tags_input)},1),$scope.$on("postTagsObject",function(event,data){$scope.tags_input_obj=data})}function tinyMCE_init_custom(){}if(function(Y,T,s){function P(a){return function(){var c,b=arguments[0],b="["+(a?a+":":"")+b+"] http://errors.angularjs.org/undefined/"+(a?a+"/":"")+b;for(c=1;c<arguments.length;c++)b=b+(1==c?"?":"&")+"p"+(c-1)+"="+encodeURIComponent("function"==typeof arguments[c]?arguments[c].toString().replace(/ \{[\s\S]*$/,""):"undefined"==typeof arguments[c]?"undefined":"string"!=typeof arguments[c]?JSON.stringify(arguments[c]):arguments[c]);return Error(b)}}function kb(a){if(null==a||va(a))return!1;var b=a.length;return 1===a.nodeType&&b?!0:D(a)||!B(a)&&(0===b||"number"==typeof b&&b>0&&b-1 in a)}function q(a,b,c){var d;if(a)if(B(a))for(d in a)"prototype"!=d&&"length"!=d&&"name"!=d&&a.hasOwnProperty(d)&&b.call(c,a[d],d);else if(a.forEach&&a.forEach!==q)a.forEach(b,c);else if(kb(a))for(d=0;d<a.length;d++)b.call(c,a[d],d);else for(d in a)a.hasOwnProperty(d)&&b.call(c,a[d],d);return a}function Fb(a){var c,b=[];for(c in a)a.hasOwnProperty(c)&&b.push(c);return b.sort()}function Bc(a,b,c){for(var d=Fb(a),e=0;e<d.length;e++)b.call(c,a[d[e]],d[e]);return d}function Gb(a){return function(b,c){a(c,b)}}function Ta(){for(var b,a=ha.length;a;){if(a--,b=ha[a].charCodeAt(0),57==b)return ha[a]="A",ha.join("");if(90!=b)return ha[a]=String.fromCharCode(b+1),ha.join("");ha[a]="0"}return ha.unshift("0"),ha.join("")}function Hb(a,b){b?a.$$hashKey=b:delete a.$$hashKey}function E(a){var b=a.$$hashKey;return q(arguments,function(b){b!==a&&q(b,function(b,c){a[c]=b})}),Hb(a,b),a}function V(a){return parseInt(a,10)}function Cc(a,b){return E(new(E(function(){},{prototype:a})),b)}function A(){}function wa(a){return a}function $(a){return function(){return a}}function M(a){return"undefined"==typeof a}function z(a){return"undefined"!=typeof a}function U(a){return null!=a&&"object"==typeof a}function H(a){return"string"==typeof a}function lb(a){return"number"==typeof a}function Ea(a){return"[object Date]"==Ua.apply(a)}function D(a){return"[object Array]"==Ua.apply(a)}function B(a){return"function"==typeof a}function mb(a){return"[object RegExp]"==Ua.apply(a)}function va(a){return a&&a.document&&a.location&&a.alert&&a.setInterval}function Dc(a){return a&&(a.nodeName||a.on&&a.find)}function Ec(a,b,c){var d=[];return q(a,function(a,g,h){d.push(b.call(c,a,g,h))}),d}function Va(a,b){if(a.indexOf)return a.indexOf(b);for(var c=0;c<a.length;c++)if(b===a[c])return c;return-1}function Fa(a,b){var c=Va(a,b);return c>=0&&a.splice(c,1),b}function da(a,b){if(va(a)||a&&a.$evalAsync&&a.$watch)throw Wa("cpws");if(b){if(a===b)throw Wa("cpi");if(D(a))for(var c=b.length=0;c<a.length;c++)b.push(da(a[c]));else{c=b.$$hashKey,q(b,function(a,c){delete b[c]});for(var d in a)b[d]=da(a[d]);Hb(b,c)}}else(b=a)&&(D(a)?b=da(a,[]):Ea(a)?b=new Date(a.getTime()):mb(a)?b=RegExp(a.source):U(a)&&(b=da(a,{})));return b}function Fc(a,b){b=b||{};for(var c in a)a.hasOwnProperty(c)&&"$$"!==c.substr(0,2)&&(b[c]=a[c]);return b}function xa(a,b){if(a===b)return!0;if(null===a||null===b)return!1;if(a!==a&&b!==b)return!0;var d,c=typeof a;if(c==typeof b&&"object"==c){if(!D(a)){if(Ea(a))return Ea(b)&&a.getTime()==b.getTime();if(mb(a)&&mb(b))return a.toString()==b.toString();if(a&&a.$evalAsync&&a.$watch||b&&b.$evalAsync&&b.$watch||va(a)||va(b)||D(b))return!1;c={};for(d in a)if("$"!==d.charAt(0)&&!B(a[d])){if(!xa(a[d],b[d]))return!1;c[d]=!0}for(d in b)if(!c.hasOwnProperty(d)&&"$"!==d.charAt(0)&&b[d]!==s&&!B(b[d]))return!1;return!0}if(!D(b))return!1;if((c=a.length)==b.length){for(d=0;c>d;d++)if(!xa(a[d],b[d]))return!1;return!0}}return!1}function nb(a,b){var c=2<arguments.length?ta.call(arguments,2):[];return!B(b)||b instanceof RegExp?b:c.length?function(){return arguments.length?b.apply(a,c.concat(ta.call(arguments,0))):b.apply(a,c)}:function(){return arguments.length?b.apply(a,arguments):b.call(a)}}function Gc(a,b){var c=b;return/^\$+/.test(a)?c=s:va(b)?c="$WINDOW":b&&T===b?c="$DOCUMENT":b&&b.$evalAsync&&b.$watch&&(c="$SCOPE"),c}function oa(a,b){return"undefined"==typeof a?s:JSON.stringify(a,Gc,b?"  ":null)}function Ib(a){return H(a)?JSON.parse(a):a}function Ga(a){return a&&0!==a.length?(a=J(""+a),a=!("f"==a||"0"==a||"false"==a||"no"==a||"n"==a||"[]"==a)):a=!1,a}function ia(a){a=w(a).clone();try{a.html("")}catch(b){}var c=w("<div>").append(a).html();try{return 3===a[0].nodeType?J(c):c.match(/^(<[^>]+>)/)[1].replace(/^<([\w\-]+)/,function(b,a){return"<"+J(a)})}catch(d){return J(c)}}function Jb(a){try{return decodeURIComponent(a)}catch(b){}}function Kb(a){var c,d,b={};return q((a||"").split("&"),function(a){a&&(c=a.split("="),d=Jb(c[0]),z(d)&&(a=z(c[1])?Jb(c[1]):!0,b[d]?D(b[d])?b[d].push(a):b[d]=[b[d],a]:b[d]=a))}),b}function Lb(a){var b=[];return q(a,function(a,d){D(a)?q(a,function(a){b.push(ua(d,!0)+(!0===a?"":"="+ua(a,!0)))}):b.push(ua(d,!0)+(!0===a?"":"="+ua(a,!0)))}),b.length?b.join("&"):""}function ob(a){return ua(a,!0).replace(/%26/gi,"&").replace(/%3D/gi,"=").replace(/%2B/gi,"+")}function ua(a,b){return encodeURIComponent(a).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,b?"%20":"+")}function Hc(a,b){function c(a){a&&d.push(a)}var e,g,d=[a],h=["ng:app","ng-app","x-ng-app","data-ng-app"],f=/\sng[:\-]app(:\s*([\w\d_]+);?)?\s/;q(h,function(b){h[b]=!0,c(T.getElementById(b)),b=b.replace(":","\\:"),a.querySelectorAll&&(q(a.querySelectorAll("."+b),c),q(a.querySelectorAll("."+b+"\\:"),c),q(a.querySelectorAll("["+b+"]"),c))}),q(d,function(b){if(!e){var a=f.exec(" "+b.className+" ");a?(e=b,g=(a[2]||"").replace(/\s+/g,",")):q(b.attributes,function(a){!e&&h[a.name]&&(e=b,g=a.value)})}}),e&&b(e,g?[g]:[])}function Mb(a,b){var c=function(){if(a=w(a),a.injector()){var c=a[0]===T?"document":ia(a);throw Wa("btstrpd",c)}return b=b||[],b.unshift(["$provide",function(b){b.value("$rootElement",a)}]),b.unshift("ng"),c=Nb(b),c.invoke(["$rootScope","$rootElement","$compile","$injector","$animate",function(b,a,c,d,e){b.$apply(function(){a.data("$injector",d),c(a)(b)}),e.enabled(!0)}]),c},d=/^NG_DEFER_BOOTSTRAP!/;return Y&&!d.test(Y.name)?c():(Y.name=Y.name.replace(d,""),Ha.resumeBootstrap=function(a){q(a,function(a){b.push(a)}),c()},void 0)}function pb(a,b){return b=b||"_",a.replace(Ic,function(a,d){return(d?b:"")+a.toLowerCase()})}function qb(a,b,c){if(!a)throw Wa("areq",b||"?",c||"required");return a}function Ia(a,b,c){return c&&D(a)&&(a=a[a.length-1]),qb(B(a),b,"not a function, got "+(a&&"object"==typeof a?a.constructor.name||"Object":typeof a)),a}function rb(a,b,c){if(!b)return a;b=b.split(".");for(var d,e=a,g=b.length,h=0;g>h;h++)d=b[h],a&&(a=(e=a)[d]);return!c&&B(a)?nb(e,a):a}function Jc(a){function b(a,b,e){return a[b]||(a[b]=e())}return b(b(a,"angular",Object),"module",function(){var a={};return function(d,e,g){return e&&a.hasOwnProperty(d)&&(a[d]=null),b(a,d,function(){function a(c,d,e){return function(){return b[e||"push"]([c,d,arguments]),m}}if(!e)throw P("$injector")("nomod",d);var b=[],c=[],l=a("$injector","invoke"),m={_invokeQueue:b,_runBlocks:c,requires:e,name:d,provider:a("$provide","provider"),factory:a("$provide","factory"),service:a("$provide","service"),value:a("$provide","value"),constant:a("$provide","constant","unshift"),animation:a("$animateProvider","register"),filter:a("$filterProvider","register"),controller:a("$controllerProvider","register"),directive:a("$compileProvider","directive"),config:l,run:function(a){return c.push(a),this}};return g&&l(g),m})}})}function Ja(a){return a.replace(Kc,function(a,c,d,e){return e?d.toUpperCase():d}).replace(Lc,"Moz$1")}function sb(a,b,c,d){function e(a){var l,m,p,n,t,r,e=c&&a?[this.filter(a)]:[this],k=b;if(!d||null!=a)for(;e.length;)for(l=e.shift(),m=0,p=l.length;p>m;m++)for(n=w(l[m]),k?n.triggerHandler("$destroy"):k=!k,t=0,n=(r=n.children()).length;n>t;t++)e.push(ya(r[t]));return g.apply(this,arguments)}var g=ya.fn[a],g=g.$original||g;e.$original=g,ya.fn[a]=e}function S(a){if(a instanceof S)return a;if(!(this instanceof S)){if(H(a)&&"<"!=a.charAt(0))throw tb("nosel");return new S(a)}if(H(a)){var b=T.createElement("div");b.innerHTML="<div>&#160;</div>"+a,b.removeChild(b.firstChild),ub(this,b.childNodes),w(T.createDocumentFragment()).append(this)}else ub(this,a)}function vb(a){return a.cloneNode(!0)}function Ka(a){Ob(a);var b=0;for(a=a.childNodes||[];b<a.length;b++)Ka(a[b])}function Pb(a,b,c,d){if(z(d))throw tb("offargs");var e=ja(a,"events");ja(a,"handle")&&(M(b)?q(e,function(b,c){wb(a,c,b),delete e[c]}):q(b.split(" "),function(b){M(c)?(wb(a,b,e[b]),delete e[b]):Fa(e[b]||[],c)}))}function Ob(a,b){var c=a[Xa],d=La[c];d&&(b?delete La[c].data[b]:(d.handle&&(d.events.$destroy&&d.handle({},"$destroy"),Pb(a)),delete La[c],a[Xa]=s))}function ja(a,b,c){var d=a[Xa],d=La[d||-1];return z(c)?(d||(a[Xa]=d=++Mc,d=La[d]={}),d[b]=c,void 0):d&&d[b]}function Qb(a,b,c){var d=ja(a,"data"),e=z(c),g=!e&&z(b),h=g&&!U(b);if(d||h||ja(a,"data",d={}),e)d[b]=c;else{if(!g)return d;if(h)return d&&d[b];E(d,b)}}function Ya(a,b){return-1<(" "+a.className+" ").replace(/[\n\t]/g," ").indexOf(" "+b+" ")}function Rb(a,b){b&&q(b.split(" "),function(b){a.className=aa((" "+a.className+" ").replace(/[\n\t]/g," ").replace(" "+aa(b)+" "," "))})}function Sb(a,b){b&&q(b.split(" "),function(b){Ya(a,b)||(a.className=aa(a.className+" "+aa(b)))})}function ub(a,b){if(b){b=b.nodeName||!z(b.length)||va(b)?[b]:b;for(var c=0;c<b.length;c++)a.push(b[c])}}function Tb(a,b){return Za(a,"$"+(b||"ngController")+"Controller")}function Za(a,b,c){for(a=w(a),9==a[0].nodeType&&(a=a.find("html"));a.length;){if((c=a.data(b))!==s)return c;a=a.parent()}}function Ub(a,b){var c=$a[b.toLowerCase()];return c&&Vb[a.nodeName]&&c}function Nc(a,b){var c=function(c,e){if(c.preventDefault||(c.preventDefault=function(){c.returnValue=!1}),c.stopPropagation||(c.stopPropagation=function(){c.cancelBubble=!0}),c.target||(c.target=c.srcElement||T),M(c.defaultPrevented)){var g=c.preventDefault;c.preventDefault=function(){c.defaultPrevented=!0,g.call(c)},c.defaultPrevented=!1}c.isDefaultPrevented=function(){return c.defaultPrevented||0==c.returnValue},q(b[e||c.type],function(b){b.call(a,c)}),8>=Q?(c.preventDefault=null,c.stopPropagation=null,c.isDefaultPrevented=null):(delete c.preventDefault,delete c.stopPropagation,delete c.isDefaultPrevented)};return c.elem=a,c}function za(a){var c,b=typeof a;return"object"==b&&null!==a?"function"==typeof(c=a.$$hashKey)?c=a.$$hashKey():c===s&&(c=a.$$hashKey=Ta()):c=a,b+":"+c}function Ma(a){q(a,this.put,this)}function Wb(a){var b,c;return"function"==typeof a?(b=a.$inject)||(b=[],a.length&&(c=a.toString().replace(Oc,""),c=c.match(Pc),q(c[1].split(Qc),function(a){a.replace(Rc,function(a,c,d){b.push(d)})})),a.$inject=b):D(a)?(c=a.length-1,Ia(a[c],"fn"),b=a.slice(0,c)):Ia(a,"fn",!0),b}function Nb(a){function b(a){return function(b,c){return U(b)?(q(b,Gb(a)),void 0):a(b,c)}}function c(a,b){if((B(b)||D(b))&&(b=p.instantiate(b)),!b.$get)throw Na("pget",a);return m[a+f]=b}function d(a,b){return c(a,{$get:b})}function e(a){var b=[];return q(a,function(a){if(!l.get(a)){l.put(a,!0);try{if(H(a)){var c=Oa(a);b=b.concat(e(c.requires)).concat(c._runBlocks);for(var d=c._invokeQueue,c=0,f=d.length;f>c;c++){var k=d[c],g=p.get(k[0]);g[k[1]].apply(g,k[2])}}else B(a)?b.push(p.invoke(a)):D(a)?b.push(p.invoke(a)):Ia(a,"module")}catch(h){throw D(a)&&(a=a[a.length-1]),h.message&&h.stack&&-1==h.stack.indexOf(h.message)&&(h=h.message+"\n"+h.stack),Na("modulerr",a,h.stack||h.message||h)}}}),b}function g(a,b){function c(d){if(a.hasOwnProperty(d)){if(a[d]===h)throw Na("cdep",k.join(" <- "));return a[d]}try{return k.unshift(d),a[d]=h,a[d]=b(d)}finally{k.shift()}}function d(a,b,e){var g,p,h,k=[],f=Wb(a);for(p=0,g=f.length;g>p;p++){if(h=f[p],"string"!=typeof h)throw Na("itkn",h);k.push(e&&e.hasOwnProperty(h)?e[h]:c(h))}switch(a.$inject||(a=a[g]),b?-1:k.length){case 0:return a();case 1:return a(k[0]);case 2:return a(k[0],k[1]);case 3:return a(k[0],k[1],k[2]);case 4:return a(k[0],k[1],k[2],k[3]);case 5:return a(k[0],k[1],k[2],k[3],k[4]);case 6:return a(k[0],k[1],k[2],k[3],k[4],k[5]);case 7:return a(k[0],k[1],k[2],k[3],k[4],k[5],k[6]);case 8:return a(k[0],k[1],k[2],k[3],k[4],k[5],k[6],k[7]);case 9:return a(k[0],k[1],k[2],k[3],k[4],k[5],k[6],k[7],k[8]);case 10:return a(k[0],k[1],k[2],k[3],k[4],k[5],k[6],k[7],k[8],k[9]);default:return a.apply(b,k)}}return{invoke:d,instantiate:function(a,b){var e,c=function(){};return c.prototype=(D(a)?a[a.length-1]:a).prototype,c=new c,e=d(a,c,b),U(e)?e:c},get:c,annotate:Wb,has:function(b){return m.hasOwnProperty(b+f)||a.hasOwnProperty(b)}}}var h={},f="Provider",k=[],l=new Ma,m={$provide:{provider:b(c),factory:b(d),service:b(function(a,b){return d(a,["$injector",function(a){return a.instantiate(b)}])}),value:b(function(a,b){return d(a,$(b))}),constant:b(function(a,b){m[a]=b,n[a]=b}),decorator:function(a,b){var c=p.get(a+f),d=c.$get;c.$get=function(){var a=t.invoke(d,c);return t.invoke(b,null,{$delegate:a})}}}},p=m.$injector=g(m,function(){throw Na("unpr",k.join(" <- "))}),n={},t=n.$injector=g(n,function(a){return a=p.get(a+f),t.invoke(a.$get,a)});return q(e(a),function(a){t.invoke(a||A)}),t}function Sc(){var a=!0;this.disableAutoScrolling=function(){a=!1},this.$get=["$window","$location","$rootScope",function(b,c,d){function e(a){var b=null;return q(a,function(a){b||"a"!==J(a.nodeName)||(b=a)}),b}function g(){var d,a=c.hash();a?(d=h.getElementById(a))?d.scrollIntoView():(d=e(h.getElementsByName(a)))?d.scrollIntoView():"top"===a&&b.scrollTo(0,0):b.scrollTo(0,0)}var h=b.document;return a&&d.$watch(function(){return c.hash()},function(){d.$evalAsync(g)}),g}]}function Tc(a,b,c,d){function e(a){try{a.apply(null,ta.call(arguments,1))}finally{if(r--,0===r)for(;y.length;)try{y.pop()()}catch(b){c.error(b)}}}function g(a,b){!function ab(){q(x,function(a){a()}),R=b(ab,a)}()}function h(){N!=f.url()&&(N=f.url(),q(F,function(a){a(f.url())}))}var f=this,k=b[0],l=a.location,m=a.history,p=a.setTimeout,n=a.clearTimeout,t={};f.isMock=!1;var r=0,y=[];f.$$completeOutstandingRequest=e,f.$$incOutstandingRequestCount=function(){r++},f.notifyWhenNoOutstandingRequests=function(a){q(x,function(a){a()}),0===r?a():y.push(a)};var R,x=[];f.addPollFn=function(a){return M(R)&&g(100,p),x.push(a),a};var N=l.href,u=b.find("base"),v=null;f.url=function(a,b){return a?N!=a?(N=a,d.history?b?m.replaceState(null,"",a):(m.pushState(null,"",a),u.attr("href",u.attr("href"))):b?(l.replace(a),v=a):(l.href=a,v=null),f):void 0:v||l.href.replace(/%27/g,"'")};var F=[],I=!1;f.onUrlChange=function(b){return I||(d.history&&w(a).on("popstate",h),d.hashchange?w(a).on("hashchange",h):f.addPollFn(h),I=!0),F.push(b),b},f.baseHref=function(){var a=u.attr("href");return a?a.replace(/^https?\:\/\/[^\/]*/,""):""};var Z={},ba="",W=f.baseHref();f.cookies=function(a,b){var d,e,f,g;if(!a){if(k.cookie!==ba)for(ba=k.cookie,d=ba.split("; "),Z={},f=0;f<d.length;f++)e=d[f],g=e.indexOf("="),g>0&&(a=unescape(e.substring(0,g)),Z[a]===s&&(Z[a]=unescape(e.substring(g+1))));return Z}b===s?k.cookie=escape(a)+"=;path="+W+";expires=Thu, 01 Jan 1970 00:00:00 GMT":H(b)&&(d=(k.cookie=escape(a)+"="+escape(b)+";path="+W).length+1,d>4096&&c.warn("Cookie '"+a+"' possibly not set or overflowed because it was too large ("+d+" > 4096 bytes)!"))},f.defer=function(a,b){var c;return r++,c=p(function(){delete t[c],e(a)},b||0),t[c]=!0,c},f.defer.cancel=function(a){return t[a]?(delete t[a],n(a),e(A),!0):!1}}function Vc(){this.$get=["$window","$log","$sniffer","$document",function(a,b,c,d){return new Tc(a,d,b,c)}]}function Wc(){this.$get=function(){function a(a,d){function e(a){a!=p&&(n?n==a&&(n=a.n):n=a,g(a.n,a.p),g(a,p),p=a,p.n=null)}function g(a,b){a!=b&&(a&&(a.p=b),b&&(b.n=a))}if(a in b)throw P("$cacheFactory")("iid",a);var h=0,f=E({},d,{id:a}),k={},l=d&&d.capacity||Number.MAX_VALUE,m={},p=null,n=null;return b[a]={put:function(a,b){var c=m[a]||(m[a]={key:a});return e(c),M(b)?void 0:(a in k||h++,k[a]=b,h>l&&this.remove(n.key),b)},get:function(a){var b=m[a];return b?(e(b),k[a]):void 0},remove:function(a){var b=m[a];b&&(b==p&&(p=b.p),b==n&&(n=b.n),g(b.n,b.p),delete m[a],delete k[a],h--)},removeAll:function(){k={},h=0,m={},p=n=null},destroy:function(){m=f=k=null,delete b[a]},info:function(){return E({},f,{size:h})}}}var b={};return a.info=function(){var a={};return q(b,function(b,e){a[e]=b.info()}),a},a.get=function(a){return b[a]},a}}function Xc(){this.$get=["$cacheFactory",function(a){return a("templates")}]}function Xb(a){var b={},c="Directive",d=/^\s*directive\:\s*([\d\w\-_]+)\s+(.*)$/,e=/(([\d\w\-_]+)(?:\:([^;]+))?;?)/,g=/^\s*(https?|ftp|mailto|file):/,h=/^\s*(https?|ftp|file):|data:image\//,f=/^(on[a-z]*|formaction)$/;this.directive=function l(d,e){return H(d)?(qb(e,"directiveFactory"),b.hasOwnProperty(d)||(b[d]=[],a.factory(d+c,["$injector","$exceptionHandler",function(a,c){var e=[];return q(b[d],function(b){try{var f=a.invoke(b);B(f)?f={compile:$(f)}:!f.compile&&f.link&&(f.compile=$(f.link)),f.priority=f.priority||0,f.name=f.name||d,f.require=f.require||f.controller&&f.name,f.restrict=f.restrict||"A",e.push(f)}catch(g){c(g)}}),e}])),b[d].push(e)):q(d,Gb(l)),this},this.aHrefSanitizationWhitelist=function(a){return z(a)?(g=a,this):g},this.imgSrcSanitizationWhitelist=function(a){return z(a)?(h=a,this):h},this.$get=["$injector","$interpolate","$exceptionHandler","$http","$templateCache","$parse","$controller","$rootScope","$document","$sce","$$urlUtils","$animate",function(a,m,p,n,t,r,y,x,R,N,u,v){function F(a,b,c,d){a instanceof w||(a=w(a)),q(a,function(b,c){3==b.nodeType&&b.nodeValue.match(/\S+/)&&(a[c]=w(b).wrap("<span></span>").parent()[0])});var e=Z(a,b,a,c,d);return function(b,c){qb(b,"scope");for(var d=c?Pa.clone.call(a):a,f=0,g=d.length;g>f;f++){var p=d[f];1!=p.nodeType&&9!=p.nodeType||d.eq(f).data("$scope",b)}return I(d,"ng-scope"),c&&c(d,b),e&&e(b,d,d),d}}function I(a,b){try{a.addClass(b)}catch(c){}}function Z(a,b,c,d,e){function f(a,c,d,e){var p,h,m,l,n,t,r,C=[];for(n=0,t=c.length;t>n;n++)C.push(c[n]);for(r=n=0,t=g.length;t>n;r++)h=C[r],c=g[n++],p=g[n++],c?(c.scope?(m=a.$new(U(c.scope)),w(h).data("$scope",m)):m=a,(l=c.transclude)||!e&&b?c(p,m,h,d,function(b){return function(c){var d=a.$new();return d.$$transcluded=!0,b(d,c).on("$destroy",nb(d,d.$destroy))}}(l||b)):c(p,m,h,s,e)):p&&p(a,h.childNodes,s,e)}for(var p,h,l,g=[],m=0;m<a.length;m++)h=new xb,p=ba(a[m],[],h,0==m?d:s,e),h=(p=p.length?ka(p,a[m],h,b,c):null)&&p.terminal||!a[m].childNodes||!a[m].childNodes.length?null:Z(a[m].childNodes,p?p.transclude:b),g.push(p),g.push(h),l=l||p||h;return l?f:null}function ba(a,b,c,f,g){var h,p=c.$attr;switch(a.nodeType){case 1:G(b,la(Aa(a).toLowerCase()),"E",f,g);var m,l,n;h=a.attributes;for(var t=0,r=h&&h.length;r>t;t++){var C,y,Z;m=h[t],(!Q||Q>=8||m.specified)&&(l=m.name,n=la(l),A.test(n)&&(l=n.substr(6).toLowerCase()),-1!=(Z=n.lastIndexOf("Start"))&&Z==n.length-5&&(C=l,y=l.substr(0,l.length-5)+"end",l=l.substr(0,l.length-6)),n=la(l.toLowerCase()),p[n]=l,c[n]=m=aa(Q&&"href"==l?decodeURIComponent(a.getAttribute(l,2)):m.value),Ub(a,n)&&(c[n]=!0),pa(a,b,m,n),G(b,n,"A",f,g,C,y))}if(a=a.className,H(a)&&""!==a)for(;h=e.exec(a);)n=la(h[2]),G(b,n,"C",f,g)&&(c[n]=aa(h[3])),a=a.substr(h.index+h[0].length);break;case 3:K(b,a.nodeValue);break;case 8:try{(h=d.exec(a.nodeValue))&&(n=la(h[1]),G(b,n,"M",f,g)&&(c[n]=aa(h[2])))}catch(I){}}return b.sort(L),b}function W(a,b,c){var d=[],e=0;if(b&&a.hasAttribute&&a.hasAttribute(b)){do{if(!a)throw ga("uterdir",b,c);1==a.nodeType&&(a.hasAttribute(b)&&e++,a.hasAttribute(c)&&e--),d.push(a),a=a.nextSibling}while(e>0)}else d.push(a);return w(d)}function ea(a,b,c){return function(d,e,f,g){return e=W(e[0],b,c),a(d,e,f,g)}}function ka(a,b,c,d,e,f){function g(a,b,c,d){a&&(c&&(a=ea(a,c,d)),a.require=u.require,t.push(a)),b&&(c&&(b=ea(b,c,d)),b.require=u.require,Z.push(b))}function h(a,b){var c,d="data",e=!1;if(H(a)){for(;"^"==(c=a.charAt(0))||"?"==c;)a=a.substr(1),"^"==c&&(d="inheritedData"),e=e||"?"==c;if(c=b[d]("$"+a+"Controller"),!c&&!e)throw ga("ctreq",a,R)}else D(a)&&(c=[],q(a,function(a){c.push(h(a,b))}));return c}function l(a,d,e,f,g){var n,C,u,I,x;if(n=b===e?c:Fc(c,new xb(w(e),c.$attr)),C=n.$$element,v){var K=/^\s*([@=&])(\??)\s*(\w*)\s*$/,F=d.$parent||d;q(v.scope,function(a,b){var g,h,p,c=a.match(K)||[],e=c[3]||b,f="?"==c[2],c=c[1];switch(d.$$isolateBindings[b]=c+e,c){case"@":n.$observe(e,function(a){d[b]=a}),n.$$observers[e].$$scope=F,n[e]&&(d[b]=m(n[e])(F));break;case"=":if(f&&!n[e])break;h=r(n[e]),p=h.assign||function(){throw g=d[b]=h(F),ga("nonassign",n[e],v.name)},g=d[b]=h(F),d.$watch(function(){var a=h(F);return a!==d[b]&&(a!==g?g=d[b]=a:p(F,a=g=d[b])),a});break;case"&":h=r(n[e]),d[b]=function(a){return h(F,a)};break;default:throw ga("iscp",v.name,b,a)}})}for(pa&&q(pa,function(a){var c,b={$scope:d,$element:C,$attrs:n,$transclude:g};x=a.controller,"@"==x&&(x=n[a.name]),c=y(x,b),C.data("$"+a.name+"Controller",c),a.controllerAs&&(b.$scope[a.controllerAs]=c)}),f=0,u=t.length;u>f;f++)try{I=t[f],I(d,C,n,I.require&&h(I.require,C))}catch(G){p(G,ia(C))}for(a&&a(d,e.childNodes,s,g),f=0,u=Z.length;u>f;f++)try{I=Z[f],I(d,C,n,I.require&&h(I.require,C))}catch(ba){p(ba,ia(C))}}for(var u,R,O,N,pa,ka,n=-Number.MAX_VALUE,t=[],Z=[],x=null,v=null,G=null,K=c.$$element=w(b),qa=d,L=0,ma=a.length;ma>L;L++){u=a[L];var A=u.$$start,z=u.$$end;if(A&&(K=W(b,A,z)),O=s,n>u.priority)break;if((O=u.scope)&&(C("isolated scope",v,u,K),U(O)&&(I(K,"ng-isolate-scope"),v=u),I(K,"ng-scope"),x=x||u),R=u.name,(O=u.controller)&&(pa=pa||{},C("'"+R+"' controller",pa[R],u,K),pa[R]=u),(O=u.transclude)&&(C("transclusion",N,u,K),N=u,n=u.priority,"element"==O?(O=W(b,A,z),K=c.$$element=w(T.createComment(" "+R+": "+c[R]+" ")),b=K[0],bb(e,w(ta.call(O,0)),b),qa=F(O,d,n,f&&f.name)):(O=w(vb(b)).contents(),K.html(""),qa=F(O,d))),u.template)if(C("template",G,u,K),G=u,O=B(u.template)?u.template(K,c):u.template,O=Yb(O),u.replace){if(f=u,O=w("<div>"+aa(O)+"</div>").contents(),b=O[0],1!=O.length||1!==b.nodeType)throw ga("tplrt",R,"");bb(e,K,b),ma={$attr:{}},a=a.concat(ba(b,a.splice(L+1,a.length-(L+1)),ma)),ab(c,ma),ma=a.length}else K.html(O);if(u.templateUrl)C("template",G,u,K),G=u,u.replace&&(f=u),l=Uc(a.splice(L,a.length-L),l,K,c,e,qa),ma=a.length;else if(u.compile)try{ka=u.compile(K,c,qa),B(ka)?g(null,ka,A,z):ka&&g(ka.pre,ka.post,A,z)}catch(E){p(E,ia(K))}u.terminal&&(l.terminal=!0,n=Math.max(n,u.priority))}return l.scope=x&&x.scope,l.transclude=N&&qa,l}function G(d,e,f,g,h,n,m){if(e===h)return null;if(h=null,b.hasOwnProperty(e)){var t;e=a.get(e+c);for(var r=0,C=e.length;C>r;r++)try{t=e[r],(g===s||g>t.priority)&&-1!=t.restrict.indexOf(f)&&(n&&(t=Cc(t,{$$start:n,$$end:m})),d.push(t),h=t)}catch(u){p(u)}}return h}function ab(a,b){var c=b.$attr,d=a.$attr,e=a.$$element;q(a,function(d,e){"$"!=e.charAt(0)&&(b[e]&&(d+=("style"===e?";":" ")+b[e]),a.$set(e,d,!0,c[e]))}),q(b,function(b,f){"class"==f?(I(e,b),a["class"]=(a["class"]?a["class"]+" ":"")+b):"style"==f?e.attr("style",e.attr("style")+";"+b):"$"==f.charAt(0)||a.hasOwnProperty(f)||(a[f]=b,d[f]=c[f])})}function Uc(a,b,c,d,e,f){var h,p,g=[],l=c[0],m=a.shift(),r=E({},m,{controller:null,templateUrl:null,transclude:null,scope:null,replace:null}),C=B(m.templateUrl)?m.templateUrl(c,d):m.templateUrl;return c.html(""),n.get(N.getTrustedResourceUrl(C),{cache:t}).success(function(n){var t;if(n=Yb(n),m.replace){if(n=w("<div>"+aa(n)+"</div>").contents(),t=n[0],1!=n.length||1!==t.nodeType)throw ga("tplrt",m.name,C);n={$attr:{}},bb(e,c,t),ba(t,a,n),ab(d,n)}else t=l,c.html(n);for(a.unshift(r),h=ka(a,t,d,f,c,m),q(e,function(a,b){a==t&&(e[b]=c[0])}),p=Z(c[0].childNodes,f);g.length;){n=g.shift();var u=g.shift(),y=g.shift(),I=g.shift(),x=c[0];u!==l&&(x=vb(t),bb(y,w(u),x)),h(b(p,n,x,e,I),n,x,e,I)}g=null}).error(function(a,b,c,d){throw ga("tpload",d.url)}),function(a,c,d,e,f){g?(g.push(c),g.push(d),g.push(e),g.push(f)):h(function(){b(p,c,d,e,f)},c,d,e,f)}}function L(a,b){return b.priority-a.priority}function C(a,b,c,d){if(b)throw ga("multidir",b.name,c.name,a,ia(d))}function K(a,b){var c=m(b,!0);c&&a.push({priority:0,compile:$(function(a,b){var d=b.parent(),e=d.data("$binding")||[];e.push(c),I(d.data("$binding",e),"ng-binding"),a.$watch(c,function(a){b[0].nodeValue=a})})})}function O(a,b){return"xlinkHref"==b||"IMG"!=Aa(a)&&("src"==b||"ngSrc"==b)?N.RESOURCE_URL:void 0}function pa(a,b,c,d){var e=m(c,!0);if(e){if("multiple"===d&&"SELECT"===Aa(a))throw ga("selmulti",ia(a));b.push({priority:100,compile:$(function(b,c,g){if(c=g.$$observers||(g.$$observers={}),f.test(d))throw ga("nodomevents");(e=m(g[d],!0,O(a,d)))&&(g[d]=e(b),(c[d]||(c[d]=[])).$$inter=!0,(g.$$observers&&g.$$observers[d].$$scope||b).$watch(e,function(a){g.$set(d,a)}))})})}}function bb(a,b,c){var g,h,d=b[0],e=b.length,f=d.parentNode;if(a)for(g=0,h=a.length;h>g;g++)if(a[g]==d){a[g++]=c,h=g+e-1;for(var p=a.length;p>g;g++,h++)p>h?a[g]=a[h]:delete a[g];a.length-=e-1;break}for(f&&f.replaceChild(c,d),a=T.createDocumentFragment(),a.appendChild(d),c[w.expando]=d[w.expando],d=1,e=b.length;e>d;d++)f=b[d],w(f).remove(),a.appendChild(f),delete b[d];b[0]=c,b.length=1}var xb=function(a,b){this.$$element=a,this.$attr=b||{}};xb.prototype={$normalize:la,$addClass:function(a){a&&0<a.length&&v.addClass(this.$$element,a)},$removeClass:function(a){a&&0<a.length&&v.removeClass(this.$$element,a)},$set:function(a,b,c,d){function e(a,b){var c=[],d=a.split(/\s+/),f=b.split(/\s+/),g=0;a:for(;g<d.length;g++){for(var h=d[g],p=0;p<f.length;p++)if(h==f[p])continue a;c.push(h)}return c}if("class"==a)b=b||"",c=this.$$element.attr("class")||"",this.$removeClass(e(c,b).join(" ")),this.$addClass(e(b,c).join(" "));else{var f=Ub(this.$$element[0],a);f&&(this.$$element.prop(a,b),d=f),this[a]=b,d?this.$attr[a]=d:(d=this.$attr[a])||(this.$attr[a]=d=pb(a,"-")),f=Aa(this.$$element),("A"===f&&"href"===a||"IMG"===f&&"src"===a)&&(!Q||Q>=8)&&(f=u.resolve(b),""!==f&&("href"===a&&!f.match(g)||"src"===a&&!f.match(h))&&(this[a]=b="unsafe:"+f)),!1!==c&&(null===b||b===s?this.$$element.removeAttr(d):this.$$element.attr(d,b))}(c=this.$$observers)&&q(c[a],function(a){try{a(b)}catch(c){p(c)}})},$observe:function(a,b){var c=this,d=c.$$observers||(c.$$observers={}),e=d[a]||(d[a]=[]);return e.push(b),x.$evalAsync(function(){e.$$inter||b(c[a])}),b}},R[0].createElement("a");var ma=m.startSymbol(),qa=m.endSymbol(),Yb="{{"==ma||"}}"==qa?wa:function(a){return a.replace(/\{\{/g,ma).replace(/}}/g,qa)},A=/^ngAttr[A-Z]/;return F}]}function la(a){return Ja(a.replace(Yc,""))}function Zc(){var a={},b=/^(\S+)(\s+as\s+(\w+))?$/;this.register=function(b,d){U(b)?E(a,b):a[b]=d},this.$get=["$injector","$window",function(c,d){return function(e,g){var h,f,k;if(H(e)&&(h=e.match(b),f=h[1],k=h[3],e=a.hasOwnProperty(f)?a[f]:rb(g.$scope,f,!0)||rb(d,f,!0),Ia(e,f,!0)),h=c.instantiate(e,g),k){if(!g||"object"!=typeof g.$scope)throw P("$controller")("noscp",f||e.name,k);g.$scope[k]=h}return h}}]}function $c(){this.$get=["$window",function(a){return w(a.document)}]}function ad(){this.$get=["$log",function(a){return function(){a.error.apply(a,arguments)}}]}function Zb(a){var c,d,e,b={};return a?(q(a.split("\n"),function(a){e=a.indexOf(":"),c=J(aa(a.substr(0,e))),d=aa(a.substr(e+1)),c&&(b[c]=b[c]?b[c]+(", "+d):d)}),b):b}function $b(a){var b=U(a)?a:s;return function(c){return b||(b=Zb(a)),c?b[J(c)]||null:b}}function ac(a,b,c){return B(c)?c(a,b):(q(c,function(c){a=c(a,b)}),a)}function bd(){var a=/^\s*(\[|\{[^\{])/,b=/[\}\]]\s*$/,c=/^\)\]\}',?\n/,d={"Content-Type":"application/json;charset=utf-8"},e=this.defaults={transformResponse:[function(d){return H(d)&&(d=d.replace(c,""),a.test(d)&&b.test(d)&&(d=Ib(d))),d}],transformRequest:[function(a){return U(a)&&"[object File]"!==Ua.apply(a)?oa(a):a}],headers:{common:{Accept:"application/json, text/plain, */*"},post:d,put:d,patch:d},xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN"},g=this.interceptors=[],h=this.responseInterceptors=[];this.$get=["$httpBackend","$browser","$cacheFactory","$rootScope","$q","$injector","$$urlUtils",function(a,b,c,d,p,n,t){function r(a){function c(a){var b=E({},a,{data:ac(a.data,a.headers,d.transformResponse)});return 200<=a.status&&300>a.status?b:p.reject(b)}var d={transformRequest:e.transformRequest,transformResponse:e.transformResponse},f=function(a){function b(a){var c;q(a,function(b,d){B(b)&&(c=b(),null!=c?a[d]=c:delete a[d])})}var f,g,c=e.headers,d=E({},a.headers),c=E({},c.common,c[J(a.method)]);b(c),b(d);a:for(f in c){a=J(f);for(g in d)if(J(g)===a)continue a;d[f]=c[f]}return d}(a);E(d,a),d.headers=f,d.method=Ba(d.method),(a=t.isSameOrigin(d.url)?b.cookies()[d.xsrfCookieName||e.xsrfCookieName]:s)&&(f[d.xsrfHeaderName||e.xsrfHeaderName]=a);var g=[function(a){f=a.headers;var b=ac(a.data,$b(f),a.transformRequest);return M(a.data)&&q(f,function(a,b){"content-type"===J(b)&&delete f[b]}),M(a.withCredentials)&&!M(e.withCredentials)&&(a.withCredentials=e.withCredentials),y(a,b,f).then(c,c)},s],h=p.when(d);for(q(N,function(a){(a.request||a.requestError)&&g.unshift(a.request,a.requestError),(a.response||a.responseError)&&g.push(a.response,a.responseError)});g.length;){a=g.shift();var n=g.shift(),h=h.then(a,n)}return h.success=function(a){return h.then(function(b){a(b.data,b.status,b.headers,d)}),h},h.error=function(a){return h.then(null,function(b){a(b.data,b.status,b.headers,d)}),h},h}function y(b,c,g){function k(a,b,c){y&&(a>=200&&300>a?y.put(s,[a,b,Zb(c)]):y.remove(s)),h(b,a,c),d.$$phase||d.$apply()}function h(a,c,d){c=Math.max(c,0),(c>=200&&300>c?l.resolve:l.reject)({data:a,status:c,headers:$b(d),config:b})}function n(){var a=Va(r.pendingRequests,b);-1!==a&&r.pendingRequests.splice(a,1)}var y,q,l=p.defer(),t=l.promise,s=x(b.url,b.params);if(r.pendingRequests.push(b),t.then(n,n),(b.cache||e.cache)&&!1!==b.cache&&"GET"==b.method&&(y=U(b.cache)?b.cache:U(e.cache)?e.cache:R),y)if(q=y.get(s),z(q)){if(q.then)return q.then(n,n),q;D(q)?h(q[1],q[0],da(q[2])):h(q,200,{})}else y.put(s,t);return M(q)&&a(b.method,s,c,k,g,b.timeout,b.withCredentials,b.responseType),t}function x(a,b){if(!b)return a;var c=[];return Bc(b,function(a,b){null!=a&&a!=s&&(D(a)||(a=[a]),q(a,function(a){U(a)&&(a=oa(a)),c.push(ua(b)+"="+ua(a))}))}),a+(-1==a.indexOf("?")?"?":"&")+c.join("&")}var R=c("$http"),N=[];return q(g,function(a){N.unshift(H(a)?n.get(a):n.invoke(a))}),q(h,function(a,b){var c=H(a)?n.get(a):n.invoke(a);N.splice(b,0,{response:function(a){return c(p.when(a))},responseError:function(a){return c(p.reject(a))}})}),r.pendingRequests=[],function(){q(arguments,function(a){r[a]=function(b,c){return r(E(c||{},{method:a,url:b}))}})}("get","delete","head","jsonp"),function(){q(arguments,function(a){r[a]=function(b,c,d){return r(E(d||{},{method:a,url:b,data:c}))
}})}("post","put"),r.defaults=e,r}]}function cd(){this.$get=["$browser","$window","$document",function(a,b,c){return dd(a,ed,a.defer,b.angular.callbacks,c[0],b.location.protocol.replace(":",""))}]}function dd(a,b,c,d,e,g){function h(a,b){var c=e.createElement("script"),d=function(){e.body.removeChild(c),b&&b()};return c.type="text/javascript",c.src=a,Q?c.onreadystatechange=function(){/loaded|complete/.test(c.readyState)&&d()}:c.onload=c.onerror=d,e.body.appendChild(c),d}return function(e,k,l,m,p,n,t,r){function y(){R=-1,u&&u(),v&&v.abort()}function x(b,d,e,f){var h=(k.match(bc)||["",g])[1];F&&c.cancel(F),u=v=null,d="file"==h?e?200:404:d,b(1223==d?204:d,e,f),a.$$completeOutstandingRequest(A)}var R;if(a.$$incOutstandingRequestCount(),k=k||a.url(),"jsonp"==J(e)){var s="_"+(d.counter++).toString(36);d[s]=function(a){d[s].data=a};var u=h(k.replace("JSON_CALLBACK","angular.callbacks."+s),function(){d[s].data?x(m,200,d[s].data):x(m,R||-2),delete d[s]})}else{var v=new b;v.open(e,k,!0),q(p,function(a,b){a&&v.setRequestHeader(b,a)}),v.onreadystatechange=function(){if(4==v.readyState){var a=v.getAllResponseHeaders(),b="Cache-Control Content-Language Content-Type Expires Last-Modified Pragma".split(" ");a||(a="",q(b,function(b){var c=v.getResponseHeader(b);c&&(a+=b+": "+c+"\n")})),x(m,R||v.status,v.responseType?v.response:v.responseText,a)}},t&&(v.withCredentials=!0),r&&(v.responseType=r),v.send(l||"")}if(n>0)var F=c(y,n);else n&&n.then&&n.then(y)}}function fd(){var a="{{",b="}}";this.startSymbol=function(b){return b?(a=b,this):a},this.endSymbol=function(a){return a?(b=a,this):b},this.$get=["$parse","$exceptionHandler","$sce",function(c,d,e){function g(g,l,m){for(var p,n,t=0,r=[],y=g.length,x=!1,q=[];y>t;)-1!=(p=g.indexOf(a,t))&&-1!=(n=g.indexOf(b,p+h))?(t!=p&&r.push(g.substring(t,p)),r.push(t=c(x=g.substring(p+h,n))),t.exp=x,t=n+f,x=!0):(t!=y&&r.push(g.substring(t)),t=y);if((y=r.length)||(r.push(""),y=1),m&&1<r.length)throw cc("noconcat",g);return!l||x?(q.length=y,t=function(a){try{for(var f,b=0,c=y;c>b;b++)"function"==typeof(f=r[b])&&(f=f(a),f=m?e.getTrusted(m,f):e.valueOf(f),null==f||f==s?f="":"string"!=typeof f&&(f=oa(f))),q[b]=f;return q.join("")}catch(h){a=cc("interr",g,h.toString()),d(a)}},t.exp=g,t.parts=r,t):void 0}var h=a.length,f=b.length;return g.startSymbol=function(){return a},g.endSymbol=function(){return b},g}]}function gd(){this.$get=function(){return{id:"en-us",NUMBER_FORMATS:{DECIMAL_SEP:".",GROUP_SEP:",",PATTERNS:[{minInt:1,minFrac:0,maxFrac:3,posPre:"",posSuf:"",negPre:"-",negSuf:"",gSize:3,lgSize:3},{minInt:1,minFrac:2,maxFrac:2,posPre:"¤",posSuf:"",negPre:"(¤",negSuf:")",gSize:3,lgSize:3}],CURRENCY_SYM:"$"},DATETIME_FORMATS:{MONTH:"January February March April May June July August September October November December".split(" "),SHORTMONTH:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),DAY:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),SHORTDAY:"Sun Mon Tue Wed Thu Fri Sat".split(" "),AMPMS:["AM","PM"],medium:"MMM d, y h:mm:ss a","short":"M/d/yy h:mm a",fullDate:"EEEE, MMMM d, y",longDate:"MMMM d, y",mediumDate:"MMM d, y",shortDate:"M/d/yy",mediumTime:"h:mm:ss a",shortTime:"h:mm a"},pluralCat:function(a){return 1===a?"one":"other"}}}}function dc(a){a=a.split("/");for(var b=a.length;b--;)a[b]=ob(a[b]);return a.join("/")}function ec(a,b){var c=bc.exec(a);b.$$protocol=c[1],b.$$host=c[3],b.$$port=V(c[5])||hd[c[1]]||null}function fc(a,b){var c=gc.exec(a);b.$$path=decodeURIComponent(c[1]),b.$$search=Kb(c[3]),b.$$hash=decodeURIComponent(c[5]||""),b.$$path&&"/"!=b.$$path.charAt(0)&&(b.$$path="/"+b.$$path)}function na(a,b,c){return 0==b.indexOf(a)?b.substr(a.length):c}function Qa(a){var b=a.indexOf("#");return-1==b?a:a.substr(0,b)}function yb(a){return a.substr(0,Qa(a).lastIndexOf("/")+1)}function hc(a,b){this.$$html5=!0,b=b||"";var c=yb(a);this.$$parse=function(a){var b={};ec(a,b);var g=na(c,a);if(!H(g))throw zb("ipthprfx",a,c);fc(g,b),E(this,b),this.$$path||(this.$$path="/"),this.$$compose()},this.$$compose=function(){var a=Lb(this.$$search),b=this.$$hash?"#"+ob(this.$$hash):"";this.$$url=dc(this.$$path)+(a?"?"+a:"")+b,this.$$absUrl=c+this.$$url.substr(1)},this.$$rewrite=function(d){var e;return(e=na(a,d))!==s?(d=e,(e=na(b,e))!==s?c+(na("/",e)||e):a+d):(e=na(c,d))!==s?c+e:c==d+"/"?c:void 0}}function Ab(a,b){var c=yb(a);ec(a,this),this.$$parse=function(d){var e=na(a,d)||na(c,d),e="#"==e.charAt(0)?na(b,e):this.$$html5?e:"";if(!H(e))throw zb("ihshprfx",d,b);fc(e,this),this.$$compose()},this.$$compose=function(){var c=Lb(this.$$search),e=this.$$hash?"#"+ob(this.$$hash):"";this.$$url=dc(this.$$path)+(c?"?"+c:"")+e,this.$$absUrl=a+(this.$$url?b+this.$$url:"")},this.$$rewrite=function(b){return Qa(a)==Qa(b)?b:void 0}}function ic(a,b){this.$$html5=!0,Ab.apply(this,arguments);var c=yb(a);this.$$rewrite=function(d){var e;return a==Qa(d)?d:(e=na(c,d))?a+b+e:c===d+"/"?c:void 0}}function cb(a){return function(){return this[a]}}function jc(a,b){return function(c){return M(c)?this[a]:(this[a]=b(c),this.$$compose(),this)}}function id(){var a="",b=!1;this.hashPrefix=function(b){return z(b)?(a=b,this):a},this.html5Mode=function(a){return z(a)?(b=a,this):b},this.$get=["$rootScope","$browser","$sniffer","$rootElement",function(c,d,e,g){function h(a){c.$broadcast("$locationChangeSuccess",f.absUrl(),a)}var f,k=d.baseHref(),l=d.url();b?(k=l.substring(0,l.indexOf("/",l.indexOf("//")+2))+(k||"/"),e=e.history?hc:ic):(k=Qa(l),e=Ab),f=new e(k,"#"+a),f.$$parse(f.$$rewrite(l)),g.on("click",function(a){if(!a.ctrlKey&&!a.metaKey&&2!=a.which){for(var b=w(a.target);"a"!==J(b[0].nodeName);)if(b[0]===g[0]||!(b=b.parent())[0])return;var e=b.prop("href"),h=f.$$rewrite(e);e&&!b.attr("target")&&h&&!a.isDefaultPrevented()&&(a.preventDefault(),h!=d.url()&&(f.$$parse(h),c.$apply(),Y.angular["ff-684208-preventDefault"]=!0))}}),f.absUrl()!=l&&d.url(f.absUrl(),!0),d.onUrlChange(function(a){f.absUrl()!=a&&(c.$broadcast("$locationChangeStart",a,f.absUrl()).defaultPrevented?d.url(f.absUrl()):(c.$evalAsync(function(){var b=f.absUrl();f.$$parse(a),h(b)}),c.$$phase||c.$digest()))});var m=0;return c.$watch(function(){var a=d.url(),b=f.$$replace;return m&&a==f.absUrl()||(m++,c.$evalAsync(function(){c.$broadcast("$locationChangeStart",f.absUrl(),a).defaultPrevented?f.$$parse(a):(d.url(f.absUrl(),b),h(a))})),f.$$replace=!1,m}),f}]}function jd(){var a=!0,b=this;this.debugEnabled=function(b){return z(b)?(a=b,this):a},this.$get=["$window",function(c){function d(a){return a instanceof Error&&(a.stack?a=a.message&&-1===a.stack.indexOf(a.message)?"Error: "+a.message+"\n"+a.stack:a.stack:a.sourceURL&&(a=a.message+"\n"+a.sourceURL+":"+a.line)),a}function e(a){var b=c.console||{},e=b[a]||b.log||A;return e.apply?function(){var a=[];return q(arguments,function(b){a.push(d(b))}),e.apply(b,a)}:function(a,b){e(a,b)}}return{log:e("log"),info:e("info"),warn:e("warn"),error:e("error"),debug:function(){var c=e("debug");return function(){a&&c.apply(b,arguments)}}()}}]}function ra(a,b){if("constructor"===a)throw Ra("isecfld",b);return a}function kc(a,b){if(a&&a.constructor===a)throw Ra("isecfn",b);return a}function kd(a,b){function c(a){return-1!=a.indexOf(x)}function d(b){return b=b||1,r+b<a.length?a.charAt(r+b):!1}function e(a){return a>="0"&&"9">=a}function g(a){return" "==a||"\r"==a||"	"==a||"\n"==a||""==a||" "==a}function h(a){return a>="a"&&"z">=a||a>="A"&&"Z">=a||"_"==a||"$"==a}function f(a){return"-"==a||"+"==a||e(a)}function k(b,c,d){throw d=d||r,c=z(c)?"s "+c+"-"+r+" ["+a.substring(c,d)+"]":" "+d,Ra("lexerr",b,c,a)}function l(){for(var b="",c=r;r<a.length;){var g=J(a.charAt(r));if("."==g||e(g))b+=g;else{var h=d();if("e"==g&&f(h))b+=g;else if(f(g)&&h&&e(h)&&"e"==b.charAt(b.length-1))b+=g;else{if(!f(g)||h&&e(h)||"e"!=b.charAt(b.length-1))break;k("Invalid exponent")}}r++}b*=1,n.push({index:c,text:b,json:!0,fn:function(){return b}})}function m(){for(var f,k,p,m,c="",d=r;r<a.length&&(m=a.charAt(r),"."==m||h(m)||e(m));)"."==m&&(f=r),c+=m,r++;if(f)for(k=r;k<a.length;){if(m=a.charAt(k),"("==m){p=c.substr(f-d+1),c=c.substr(0,f-d),r=k;break}if(!g(m))break;k++}if(d={index:d,text:c},Sa.hasOwnProperty(c))d.fn=d.json=Sa[c];else{var l=lc(c,b,a);d.fn=E(function(a,b){return l(a,b)},{assign:function(b,d){return db(b,c,d,a)}})}n.push(d),p&&(n.push({index:f,text:".",json:!1}),n.push({index:f+1,text:p,json:!1}))}function p(b){var c=r;r++;for(var d="",e=b,f=!1;r<a.length;){var g=a.charAt(r),e=e+g;if(f)"u"==g?(g=a.substring(r+1,r+5),g.match(/[\da-f]{4}/i)||k("Invalid unicode escape [\\u"+g+"]"),r+=4,d+=String.fromCharCode(parseInt(g,16))):d=(f=ld[g])?d+f:d+g,f=!1;else if("\\"==g)f=!0;else{if(g==b)return r++,n.push({index:c,text:e,string:d,json:!0,fn:function(){return d}}),void 0;d+=g}r++}k("Unterminated quote",c)}for(var t,x,n=[],r=0,y=[],q=":";r<a.length;){if(x=a.charAt(r),c("\"'"))p(x);else if(e(x)||c(".")&&e(d()))l();else if(h(x))m(),-1!="{,".indexOf(q)&&"{"==y[0]&&(t=n[n.length-1])&&(t.json=-1==t.text.indexOf("."));else if(c("(){}[].,;:?"))n.push({index:r,text:x,json:-1!=":[,".indexOf(q)&&c("{[")||c("}]:,")}),c("{[")&&y.unshift(x),c("}]")&&y.shift(),r++;else{if(g(x)){r++;continue}var s=x+d(),u=s+d(2),v=Sa[x],F=Sa[s],I=Sa[u];I?(n.push({index:r,text:u,fn:I}),r+=3):F?(n.push({index:r,text:s,fn:F}),r+=2):v?(n.push({index:r,text:x,fn:v,json:-1!="[,:".indexOf(q)&&c("+-")}),r+=1):k("Unexpected next character ",r,r+1)}q=x}return n}function md(a,b,c,d){function e(b,c){throw Ra("syntax",c.text,b,c.index+1,a,a.substring(c.index))}function g(){if(0===ea.length)throw Ra("ueoe",a);return ea[0]}function h(a,b,c,d){if(0<ea.length){var e=ea[0],f=e.text;if(f==a||f==b||f==c||f==d||!(a||b||c||d))return e}return!1}function f(a,c,d,f){return(a=h(a,c,d,f))?(b&&!a.json&&e("is not valid json",a),ea.shift(),a):!1}function k(a){f(a)||e("is unexpected, expecting ["+a+"]",h())}function l(a,b){return E(function(c,d){return a(c,d,b)},{constant:b.constant})}function m(a,b,c){return E(function(d,e){return a(d,e)?b(d,e):c(d,e)},{constant:a.constant&&b.constant&&c.constant})}function p(a,b,c){return E(function(d,e){return b(d,e,a,c)},{constant:a.constant&&c.constant})}function n(){for(var a=[];;)if(0<ea.length&&!h("}",")",";","]")&&a.push(L()),!f(";"))return 1==a.length?a[0]:function(b,c){for(var d,e=0;e<a.length;e++){var f=a[e];f&&(d=f(b,c))}return d}}function t(){for(var a=f(),b=c(a.text),d=[];;){if(!(a=f(":"))){var e=function(a,c,e){e=[e];for(var f=0;f<d.length;f++)e.push(d[f](a,c));return b.apply(a,e)};return function(){return e}}d.push(z())}}function r(){var b,c,a=y();return f("?")?(b=r(),(c=f(":"))?m(a,b,r()):(e("expected :",c),void 0)):a}function y(){for(var b,a=x();;){if(!(b=f("||")))return a;a=p(a,b.fn,x())}}function x(){var b,a=q();return(b=f("&&"))&&(a=p(a,b.fn,x())),a}function q(){var b,a=N();return(b=f("==","!=","===","!=="))&&(a=p(a,b.fn,q())),a}function N(){var a;a=u();for(var b;b=f("+","-");)a=p(a,b.fn,u());return(b=f("<",">","<=",">="))&&(a=p(a,b.fn,N())),a}function u(){for(var b,a=v();b=f("*","/","%");)a=p(a,b.fn,v());return a}function v(){var a;return f("+")?F():(a=f("-"))?p(ba,a.fn,v()):(a=f("!"))?l(a.fn,v()):F()}function F(){var a;if(f("("))a=L(),k(")");else if(f("["))a=I();else if(f("{"))a=w();else{var b=f();(a=b.fn)||e("not a primary expression",b),b.json&&(a.constant=a.literal=!0)}for(var c;b=f("(","[",".");)"("===b.text?(a=G(a,c),c=null):"["===b.text?(c=a,a=D(a)):"."===b.text?(c=a,a=H(a)):e("IMPOSSIBLE");return a}function I(){var a=[],b=!0;if("]"!=g().text)do{var c=z();a.push(c),c.constant||(b=!1)}while(f(","));return k("]"),E(function(b,c){for(var d=[],e=0;e<a.length;e++)d.push(a[e](b,c));return d},{literal:!0,constant:b})}function w(){var a=[],b=!0;if("}"!=g().text)do{var c=f(),c=c.string||c.text;k(":");var d=z();a.push({key:c,value:d}),d.constant||(b=!1)}while(f(","));return k("}"),E(function(b,c){for(var d={},e=0;e<a.length;e++){var f=a[e];d[f.key]=f.value(b,c)}return d},{literal:!0,constant:b})}var W,ba=$(0),ea=kd(a,d),z=function(){var c,d,b=r();return(d=f("="))?(b.assign||e("implies assignment but ["+a.substring(0,d.index)+"] can not be assigned to",d),c=r(),function(a,d){return b.assign(a,c(a,d),d)}):b},G=function(a,b){var c=[];if(")"!=g().text)do c.push(z());while(f(","));return k(")"),function(d,e){for(var f=[],g=b?b(d,e):d,h=0;h<c.length;h++)f.push(c[h](d,e));if(h=a(d,e,g)||A,(f=h.apply?h.apply(g,f):h(f[0],f[1],f[2],f[3],f[4]))&&f.then){var k=f;"$$v"in f||(k.$$v=s,k.then(function(a){k.$$v=a})),f=f.$$v}return f}},H=function(b){var c=f().text,e=lc(c,d,a);return E(function(a,c,d){return e(d||b(a,c),c)},{assign:function(d,e,f){return db(b(d,f),c,e,a)}})},D=function(b){var c=z();return k("]"),E(function(d,e){var h,f=b(d,e),g=c(d,e);return f?((f=kc(f[g],a))&&f.then&&(h=f,"$$v"in f||(h.$$v=s,h.then(function(a){h.$$v=a})),f=f.$$v),f):s},{assign:function(d,e,f){var g=c(d,f);return kc(b(d,f),a)[g]=e}})},L=function(){for(var b,a=z();;){if(!(b=f("|")))return a;a=p(a,b.fn,t())}};return b?(z=y,G=H=D=L=function(){e("is not valid json",{text:a,index:0})},W=F()):W=n(),0!==ea.length&&e("is an unexpected token",ea[0]),W.literal=!!W.literal,W.constant=!!W.constant,W}function db(a,b,c,d){b=b.split(".");for(var e,g=0;1<b.length;g++){e=ra(b.shift(),d);var h=a[e];h||(h={},a[e]=h),a=h,a.then&&("$$v"in a||function(a){a.then(function(b){a.$$v=b})}(a),a.$$v===s&&(a.$$v={}),a=a.$$v)}return e=ra(b.shift(),d),a[e]=c}function mc(a,b,c,d,e,g){return ra(a,g),ra(b,g),ra(c,g),ra(d,g),ra(e,g),function(g,f){var l,k=f&&f.hasOwnProperty(a)?f:g;return null===k||k===s?k:((k=k[a])&&k.then&&("$$v"in k||(l=k,l.$$v=s,l.then(function(a){l.$$v=a})),k=k.$$v),b&&null!==k&&k!==s?((k=k[b])&&k.then&&("$$v"in k||(l=k,l.$$v=s,l.then(function(a){l.$$v=a})),k=k.$$v),c&&null!==k&&k!==s?((k=k[c])&&k.then&&("$$v"in k||(l=k,l.$$v=s,l.then(function(a){l.$$v=a})),k=k.$$v),d&&null!==k&&k!==s?((k=k[d])&&k.then&&("$$v"in k||(l=k,l.$$v=s,l.then(function(a){l.$$v=a})),k=k.$$v),e&&null!==k&&k!==s?((k=k[e])&&k.then&&("$$v"in k||(l=k,l.$$v=s,l.then(function(a){l.$$v=a})),k=k.$$v),k):k):k):k):k)}}function lc(a,b,c){if(Bb.hasOwnProperty(a))return Bb[a];var d=a.split("."),e=d.length;if(b)b=6>e?mc(d[0],d[1],d[2],d[3],d[4],c):function(a,b){var l,g=0;do l=mc(d[g++],d[g++],d[g++],d[g++],d[g++],c)(a,b),b=s,a=l;while(e>g);return l};else{var g="var l, fn, p;\n";q(d,function(a,b){ra(a,c),g+="if(s === null || s === undefined) return s;\nl=s;\ns="+(b?"s":'((k&&k.hasOwnProperty("'+a+'"))?k:s)')+'["'+a+'"];\nif (s && s.then) {\n if (!("$$v" in s)) {\n p=s;\n p.$$v = undefined;\n p.then(function(v) {p.$$v=v;});\n}\n s=s.$$v\n}\n'}),g+="return s;",b=Function("s","k",g),b.toString=function(){return g}}return Bb[a]=b}function nd(){var a={};this.$get=["$filter","$sniffer",function(b,c){return function(d){switch(typeof d){case"string":return a.hasOwnProperty(d)?a[d]:a[d]=md(d,!1,b,c.csp);case"function":return d;default:return A}}}]}function od(){this.$get=["$rootScope","$exceptionHandler",function(a,b){return pd(function(b){a.$evalAsync(b)},b)}]}function pd(a,b){function c(a){return a}function d(a){return h(a)}var e=function(){var k,l,f=[];return l={resolve:function(b){if(f){var c=f;f=s,k=g(b),c.length&&a(function(){for(var a,b=0,d=c.length;d>b;b++)a=c[b],k.then(a[0],a[1],a[2])})}},reject:function(a){l.resolve(h(a))},notify:function(b){if(f){var c=f;f.length&&a(function(){for(var a,d=0,e=c.length;e>d;d++)a=c[d],a[2](b)})}},promise:{then:function(a,g,h){var l=e(),r=function(d){try{l.resolve((B(a)?a:c)(d))}catch(e){l.reject(e),b(e)}},y=function(a){try{l.resolve((B(g)?g:d)(a))}catch(c){l.reject(c),b(c)}},x=function(a){try{l.notify((B(h)?h:c)(a))}catch(d){b(d)}};return f?f.push([r,y,x]):k.then(r,y,x),l.promise},"catch":function(a){return this.then(null,a)},"finally":function(a){function b(a,c){var d=e();return c?d.resolve(a):d.reject(a),d.promise}function d(e,f){var g=null;try{g=(a||c)()}catch(h){return b(h,!1)}return g&&B(g.then)?g.then(function(){return b(e,f)},function(a){return b(a,!1)}):b(e,f)}return this.then(function(a){return d(a,!0)},function(a){return d(a,!1)})}}}},g=function(b){return b&&B(b.then)?b:{then:function(c){var d=e();return a(function(){d.resolve(c(b))}),d.promise}}},h=function(c){return{then:function(g,h){var m=e();return a(function(){try{m.resolve((B(h)?h:d)(c))}catch(a){m.reject(a),b(a)}}),m.promise}}};return{defer:e,reject:h,when:function(f,k,l,m){var n,p=e(),t=function(a){try{return(B(k)?k:c)(a)}catch(d){return b(d),h(d)}},r=function(a){try{return(B(l)?l:d)(a)}catch(c){return b(c),h(c)}},y=function(a){try{return(B(m)?m:c)(a)}catch(d){b(d)}};return a(function(){g(f).then(function(a){n||(n=!0,p.resolve(g(a).then(t,r,y)))},function(a){n||(n=!0,p.resolve(r(a)))},function(a){n||p.notify(y(a))})}),p.promise},all:function(a){var b=e(),c=0,d=D(a)?[]:{};return q(a,function(a,e){c++,g(a).then(function(a){d.hasOwnProperty(e)||(d[e]=a,--c||b.resolve(d))},function(a){d.hasOwnProperty(e)||b.reject(a)})}),0===c&&b.resolve(d),b.promise}}}function qd(){var a=10,b=P("$rootScope");this.digestTtl=function(b){return arguments.length&&(a=b),a},this.$get=["$injector","$exceptionHandler","$parse","$browser",function(c,d,e,g){function h(){this.$id=Ta(),this.$$phase=this.$parent=this.$$watchers=this.$$nextSibling=this.$$prevSibling=this.$$childHead=this.$$childTail=null,this["this"]=this.$root=this,this.$$destroyed=!1,this.$$asyncQueue=[],this.$$postDigestQueue=[],this.$$listeners={},this.$$isolateBindings={}}function f(a){if(m.$$phase)throw b("inprog",m.$$phase);m.$$phase=a}function k(a,b){var c=e(a);return Ia(c,b),c}function l(){}h.prototype={constructor:h,$new:function(a){return a?(a=new h,a.$root=this.$root,a.$$asyncQueue=this.$$asyncQueue,a.$$postDigestQueue=this.$$postDigestQueue):(a=function(){},a.prototype=this,a=new a,a.$id=Ta()),a["this"]=a,a.$$listeners={},a.$parent=this,a.$$watchers=a.$$nextSibling=a.$$childHead=a.$$childTail=null,a.$$prevSibling=this.$$childTail,this.$$childHead?this.$$childTail=this.$$childTail.$$nextSibling=a:this.$$childHead=this.$$childTail=a,a},$watch:function(a,b,c){var d=k(a,"watch"),e=this.$$watchers,f={fn:b,last:l,get:d,exp:a,eq:!!c};if(!B(b)){var g=k(b||A,"listener");f.fn=function(a,b,c){g(c)}}if("string"==typeof a&&d.constant){var h=f.fn;f.fn=function(a,b,c){h.call(this,a,b,c),Fa(e,f)}}return e||(e=this.$$watchers=[]),e.unshift(f),function(){Fa(e,f)}},$watchCollection:function(a,b){var d,f,c=this,g=0,h=e(a),k=[],l={},m=0;return this.$watch(function(){f=h(c);var a,b;if(U(f))if(kb(f))for(d!==k&&(d=k,m=d.length=0,g++),a=f.length,m!==a&&(g++,d.length=m=a),b=0;a>b;b++)d[b]!==f[b]&&(g++,d[b]=f[b]);else{d!==l&&(d=l={},m=0,g++),a=0;for(b in f)f.hasOwnProperty(b)&&(a++,d.hasOwnProperty(b)?d[b]!==f[b]&&(g++,d[b]=f[b]):(m++,d[b]=f[b],g++));if(m>a)for(b in g++,d)d.hasOwnProperty(b)&&!f.hasOwnProperty(b)&&(m--,delete d[b])}else d!==f&&(d=f,g++);return g},function(){b(f,d,c)})},$digest:function(){var c,e,g,h,s,N,v,I,z,k=this.$$asyncQueue,q=this.$$postDigestQueue,u=a,F=[];f("$digest");do{for(N=!1,v=this;k.length;)try{v.$eval(k.shift())}catch(ba){d(ba)}do{if(h=v.$$watchers)for(s=h.length;s--;)try{(c=h[s])&&(e=c.get(v))!==(g=c.last)&&!(c.eq?xa(e,g):"number"==typeof e&&"number"==typeof g&&isNaN(e)&&isNaN(g))&&(N=!0,c.last=c.eq?da(e):e,c.fn(e,g===l?e:g,v),5>u&&(I=4-u,F[I]||(F[I]=[]),z=B(c.exp)?"fn: "+(c.exp.name||c.exp.toString()):c.exp,z+="; newVal: "+oa(e)+"; oldVal: "+oa(g),F[I].push(z)))}catch(W){d(W)}if(!(h=v.$$childHead||v!==this&&v.$$nextSibling))for(;v!==this&&!(h=v.$$nextSibling);)v=v.$parent}while(v=h);if(N&&!u--)throw m.$$phase=null,b("infdig",a,oa(F))}while(N||k.length);for(m.$$phase=null;q.length;)try{q.shift()()}catch(w){d(w)}},$destroy:function(){if(m!=this&&!this.$$destroyed){var a=this.$parent;this.$broadcast("$destroy"),this.$$destroyed=!0,a.$$childHead==this&&(a.$$childHead=this.$$nextSibling),a.$$childTail==this&&(a.$$childTail=this.$$prevSibling),this.$$prevSibling&&(this.$$prevSibling.$$nextSibling=this.$$nextSibling),this.$$nextSibling&&(this.$$nextSibling.$$prevSibling=this.$$prevSibling),this.$parent=this.$$nextSibling=this.$$prevSibling=this.$$childHead=this.$$childTail=null}},$eval:function(a,b){return e(a)(this,b)},$evalAsync:function(a){m.$$phase||m.$$asyncQueue.length||g.defer(function(){m.$$asyncQueue.length&&m.$digest()}),this.$$asyncQueue.push(a)},$$postDigest:function(a){this.$$postDigestQueue.push(a)},$apply:function(a){try{return f("$apply"),this.$eval(a)}catch(b){d(b)}finally{m.$$phase=null;try{m.$digest()}catch(c){throw d(c),c}}},$on:function(a,b){var c=this.$$listeners[a];return c||(this.$$listeners[a]=c=[]),c.push(b),function(){c[Va(c,b)]=null}},$emit:function(a){var e,l,m,c=[],f=this,g=!1,h={name:a,targetScope:f,stopPropagation:function(){g=!0},preventDefault:function(){h.defaultPrevented=!0},defaultPrevented:!1},k=[h].concat(ta.call(arguments,1));do{for(e=f.$$listeners[a]||c,h.currentScope=f,l=0,m=e.length;m>l;l++)if(e[l])try{if(e[l].apply(null,k),g)return h}catch(q){d(q)}else e.splice(l,1),l--,m--;f=f.$parent}while(f);return h},$broadcast:function(a){var h,k,c=this,e=this,f={name:a,targetScope:this,preventDefault:function(){f.defaultPrevented=!0},defaultPrevented:!1},g=[f].concat(ta.call(arguments,1));do{for(c=e,f.currentScope=c,e=c.$$listeners[a]||[],h=0,k=e.length;k>h;h++)if(e[h])try{e[h].apply(null,g)}catch(l){d(l)}else e.splice(h,1),h--,k--;if(!(e=c.$$childHead||c!==this&&c.$$nextSibling))for(;c!==this&&!(e=c.$$nextSibling);)c=c.$parent}while(c=e);return f}};var m=new h;return m}]}function rd(){this.SCE_CONTEXTS=fa;var a=["self"],b=[];this.resourceUrlWhitelist=function(b){return arguments.length&&(a=b),a},this.resourceUrlBlacklist=function(a){return arguments.length&&(b=a),b},this.$get=["$log","$document","$injector","$$urlUtils",function(c,d,e,g){function h(a){var b=function(a){this.$$unwrapTrustedValue=function(){return a}};return a&&(b.prototype=new a),b.prototype.valueOf=function(){return this.$$unwrapTrustedValue()},b.prototype.toString=function(){return this.$$unwrapTrustedValue().toString()},b}var f=function(){throw Ca("unsafe")};e.has("$sanitize")&&(f=e.get("$sanitize"));var k=h(),l={};return l[fa.HTML]=h(k),l[fa.CSS]=h(k),l[fa.URL]=h(k),l[fa.JS]=h(k),l[fa.RESOURCE_URL]=h(l[fa.URL]),{trustAs:function(a,b){var c=l.hasOwnProperty(a)?l[a]:null;if(!c)throw Ca("icontext",a,b);if(null===b||b===s||""===b)return b;if("string"!=typeof b)throw Ca("itype",a);return new c(b)},getTrusted:function(c,d){if(null===d||d===s||""===d)return d;var e=l.hasOwnProperty(c)?l[c]:null;if(e&&d instanceof e)return d.$$unwrapTrustedValue();if(c===fa.RESOURCE_URL){var h,k,e=g.resolve(d.toString(),!0),q=!1;for(h=0,k=a.length;k>h;h++)if("self"===a[h]?g.isSameOrigin(e):e.href.match(a[h])){q=!0;break}if(q)for(h=0,k=b.length;k>h;h++)if("self"===b[h]?g.isSameOrigin(e):e.href.match(b[h])){q=!1;break}if(q)return d;throw Ca("insecurl",d.toString())}if(c===fa.HTML)return f(d);throw Ca("unsafe")},valueOf:function(a){return a instanceof k?a.$$unwrapTrustedValue():a}}}]}function sd(){var a=!0;this.enabled=function(b){return arguments.length&&(a=!!b),a},this.$get=["$parse","$document","$sceDelegate",function(b,c,d){if(a&&Q&&(c=c[0].documentMode,c!==s&&8>c))throw Ca("iequirks");var e=da(fa);e.isEnabled=function(){return a},e.trustAs=d.trustAs,e.getTrusted=d.getTrusted,e.valueOf=d.valueOf,a||(e.trustAs=e.getTrusted=function(a,b){return b},e.valueOf=wa),e.parseAs=function(a,c){var d=b(c);return d.literal&&d.constant?d:function(b,c){return e.getTrusted(a,d(b,c))}};var g=e.parseAs,h=e.getTrusted,f=e.trustAs;return Ha.forEach(fa,function(a,b){var c=J(b);e[Ja("parse_as_"+c)]=function(b){return g(a,b)},e[Ja("get_trusted_"+c)]=function(b){return h(a,b)},e[Ja("trust_as_"+c)]=function(b){return f(a,b)}}),e}]}function td(){this.$get=["$window","$document",function(a,b){var h,c={},d=V((/android (\d+)/.exec(J((a.navigator||{}).userAgent))||[])[1]),e=/Boxee/i.test((a.navigator||{}).userAgent),g=b[0]||{},f=/^(Moz|webkit|O|ms)(?=[A-Z])/,k=g.body&&g.body.style,l=!1,m=!1;if(k){for(var p in k)if(l=f.exec(p)){h=l[0],h=h.substr(0,1).toUpperCase()+h.substr(1);break}h||(h="WebkitOpacity"in k&&"webkit"),l=!!("transition"in k||h+"Transition"in k),m=!!("animation"in k||h+"Animation"in k),!d||l&&m||(l=H(g.body.style.webkitTransition),m=H(g.body.style.webkitAnimation))}return{history:!(!a.history||!a.history.pushState||4>d||e),hashchange:"onhashchange"in a&&(!g.documentMode||7<g.documentMode),hasEvent:function(a){if("input"==a&&9==Q)return!1;if(M(c[a])){var b=g.createElement("div");c[a]="on"+a in b}return c[a]},csp:g.securityPolicy?g.securityPolicy.isActive:!1,vendorPrefix:h,transitions:l,animations:m}}]}function ud(){this.$get=["$rootScope","$browser","$q","$exceptionHandler",function(a,b,c,d){function e(e,f,k){var l=c.defer(),m=l.promise,p=z(k)&&!k;return f=b.defer(function(){try{l.resolve(e())}catch(b){l.reject(b),d(b)}finally{delete g[m.$$timeoutId]}p||a.$apply()},f),m.$$timeoutId=f,g[f]=l,m}var g={};return e.cancel=function(a){return a&&a.$$timeoutId in g?(g[a.$$timeoutId].reject("canceled"),delete g[a.$$timeoutId],b.defer.cancel(a.$$timeoutId)):!1},e}]}function vd(){this.$get=[function(){function a(a,c){var g=a;return 11>=Q&&(b.setAttribute("href",g),g=b.href),b.setAttribute("href",g),c?{href:b.href,protocol:b.protocol,host:b.host}:b.href}var b=T.createElement("a"),c=a(Y.location.href,!0);return{resolve:a,isSameOrigin:function(b){return b="string"==typeof b?a(b,!0):b,b.protocol===c.protocol&&b.host===c.host}}}]}function wd(){this.$get=$(Y)}function nc(a){function b(b,e){return a.factory(b+c,e)}var c="Filter";this.register=b,this.$get=["$injector",function(a){return function(b){return a.get(b+c)}}],b("currency",oc),b("date",pc),b("filter",xd),b("json",yd),b("limitTo",zd),b("lowercase",Ad),b("number",qc),b("orderBy",rc),b("uppercase",Bd)}function xd(){return function(a,b,c){if(!D(a))return a;var d=[];switch(d.check=function(a){for(var b=0;b<d.length;b++)if(!d[b](a))return!1;return!0},typeof c){case"function":break;case"boolean":if(1==c){c=function(a,b){return Ha.equals(a,b)};break}default:c=function(a,b){return b=(""+b).toLowerCase(),-1<(""+a).toLowerCase().indexOf(b)}}var e=function(a,b){if("string"==typeof b&&"!"===b.charAt(0))return!e(a,b.substr(1));switch(typeof a){case"boolean":case"number":case"string":return c(a,b);case"object":switch(typeof b){case"object":return c(a,b);default:for(var d in a)if("$"!==d.charAt(0)&&e(a[d],b))return!0}return!1;case"array":for(d=0;d<a.length;d++)if(e(a[d],b))return!0;return!1;default:return!1}};switch(typeof b){case"boolean":case"number":case"string":b={$:b};case"object":for(var g in b)"$"==g?function(){if(b[g]){var a=g;d.push(function(c){return e(c,b[a])})}}():function(){if("undefined"!=typeof b[g]){var a=g;d.push(function(c){return e(rb(c,a),b[a])})}}();break;case"function":d.push(b);break;default:return a}for(var h=[],f=0;f<a.length;f++){var k=a[f];d.check(k)&&h.push(k)}return h}}function oc(a){var b=a.NUMBER_FORMATS;return function(a,d){return M(d)&&(d=b.CURRENCY_SYM),sc(a,b.PATTERNS[1],b.GROUP_SEP,b.DECIMAL_SEP,2).replace(/\u00A4/g,d)}}function qc(a){var b=a.NUMBER_FORMATS;return function(a,d){return sc(a,b.PATTERNS[0],b.GROUP_SEP,b.DECIMAL_SEP,d)}}function sc(a,b,c,d,e){if(isNaN(a)||!isFinite(a))return"";var g=0>a;a=Math.abs(a);var h=a+"",f="",k=[],l=!1;if(-1!==h.indexOf("e")){var m=h.match(/([\d\.]+)e(-?)(\d+)/);m&&"-"==m[2]&&m[3]>e+1?h="0":(f=h,l=!0)}if(l)e>0&&a>-1&&1>a&&(f=a.toFixed(e));else{h=(h.split(tc)[1]||"").length,M(e)&&(e=Math.min(Math.max(b.minFrac,h),b.maxFrac)),h=Math.pow(10,e),a=Math.round(a*h)/h,a=(""+a).split(tc),h=a[0],a=a[1]||"";var l=0,m=b.lgSize,p=b.gSize;if(h.length>=m+p)for(var l=h.length-m,n=0;l>n;n++)0===(l-n)%p&&0!==n&&(f+=c),f+=h.charAt(n);for(n=l;n<h.length;n++)0===(h.length-n)%m&&0!==n&&(f+=c),f+=h.charAt(n);for(;a.length<e;)a+="0";e&&"0"!==e&&(f+=d+a.substr(0,e))}return k.push(g?b.negPre:b.posPre),k.push(f),k.push(g?b.negSuf:b.posSuf),k.join("")}function Cb(a,b,c){var d="";for(0>a&&(d="-",a=-a),a=""+a;a.length<b;)a="0"+a;return c&&(a=a.substr(a.length-b)),d+a}function X(a,b,c,d){return c=c||0,function(e){return e=e["get"+a](),(c>0||e>-c)&&(e+=c),0===e&&-12==c&&(e=12),Cb(e,b,d)}}function eb(a,b){return function(c,d){var e=c["get"+a](),g=Ba(b?"SHORT"+a:a);return d[g][e]}}function pc(a){function b(a){var b;if(b=a.match(c)){a=new Date(0);var g=0,h=0,f=b[8]?a.setUTCFullYear:a.setFullYear,k=b[8]?a.setUTCHours:a.setHours;b[9]&&(g=V(b[9]+b[10]),h=V(b[9]+b[11])),f.call(a,V(b[1]),V(b[2])-1,V(b[3])),g=V(b[4]||0)-g,h=V(b[5]||0)-h,f=V(b[6]||0),b=Math.round(1e3*parseFloat("0."+(b[7]||0))),k.call(a,g,h,f,b)}return a}var c=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/;return function(c,e){var f,k,g="",h=[];if(e=e||"mediumDate",e=a.DATETIME_FORMATS[e]||e,H(c)&&(c=Cd.test(c)?V(c):b(c)),lb(c)&&(c=new Date(c)),!Ea(c))return c;for(;e;)(k=Dd.exec(e))?(h=h.concat(ta.call(k,1)),e=h.pop()):(h.push(e),e=null);return q(h,function(b){f=Ed[b],g+=f?f(c,a.DATETIME_FORMATS):b.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),g}}function yd(){return function(a){return oa(a,!0)}}function zd(){return function(a,b){if(!D(a)&&!H(a))return a;if(b=V(b),H(a))return b?b>=0?a.slice(0,b):a.slice(b,a.length):"";var d,e,c=[];for(b>a.length?b=a.length:b<-a.length&&(b=-a.length),b>0?(d=0,e=b):(d=a.length+b,e=a.length);e>d;d++)c.push(a[d]);return c}}function rc(a){return function(b,c,d){function e(a,b){return Ga(b)?function(b,c){return a(c,b)}:a}if(!D(b)||!c)return b;c=D(c)?c:[c],c=Ec(c,function(b){var c=!1,d=b||wa;return H(b)&&(("+"==b.charAt(0)||"-"==b.charAt(0))&&(c="-"==b.charAt(0),b=b.substring(1)),d=a(b)),e(function(a,b){var c;c=d(a);var e=d(b),f=typeof c,g=typeof e;return f==g?("string"==f&&(c=c.toLowerCase(),e=e.toLowerCase()),c=c===e?0:e>c?-1:1):c=g>f?-1:1,c},c)});for(var g=[],h=0;h<b.length;h++)g.push(b[h]);return g.sort(e(function(a,b){for(var d=0;d<c.length;d++){var e=c[d](a,b);if(0!==e)return e}return 0},d))}}function sa(a){return B(a)&&(a={link:a}),a.restrict=a.restrict||"AC",$(a)}function uc(a,b){function c(b,c){c=c?"-"+pb(c,"-"):"",a.removeClass((b?fb:gb)+c).addClass((b?gb:fb)+c)}var d=this,e=a.parent().controller("form")||hb,g=0,h=d.$error={},f=[];d.$name=b.name||b.ngForm,d.$dirty=!1,d.$pristine=!0,d.$valid=!0,d.$invalid=!1,e.$addControl(d),a.addClass(Da),c(!0),d.$addControl=function(a){f.push(a),a.$name&&!d.hasOwnProperty(a.$name)&&(d[a.$name]=a)},d.$removeControl=function(a){a.$name&&d[a.$name]===a&&delete d[a.$name],q(h,function(b,c){d.$setValidity(c,!0,a)}),Fa(f,a)},d.$setValidity=function(a,b,f){var p=h[a];if(b)p&&(Fa(p,f),p.length||(g--,g||(c(b),d.$valid=!0,d.$invalid=!1),h[a]=!1,c(!0,a),e.$setValidity(a,!0,d)));else{if(g||c(b),p){if(-1!=Va(p,f))return}else h[a]=p=[],g++,c(!1,a),e.$setValidity(a,!1,d);p.push(f),d.$valid=!1,d.$invalid=!0}},d.$setDirty=function(){a.removeClass(Da).addClass(ib),d.$dirty=!0,d.$pristine=!1,e.$setDirty()},d.$setPristine=function(){a.removeClass(ib).addClass(Da),d.$dirty=!1,d.$pristine=!0,q(f,function(a){a.$setPristine()})}}function ca(a){return M(a)||""===a||null===a||a!==a}function jb(a,b,c,d,e,g){var h=function(){var e=b.val();Ga(c.ngTrim||"T")&&(e=aa(e)),d.$viewValue!==e&&a.$apply(function(){d.$setViewValue(e)})};if(e.hasEvent("input"))b.on("input",h);else{var f,k=function(){f||(f=g.defer(function(){h(),f=null}))};b.on("keydown",function(a){a=a.keyCode,91===a||a>15&&19>a||a>=37&&40>=a||k()}),b.on("change",h),e.hasEvent("paste")&&b.on("paste cut",k)}d.$render=function(){b.val(ca(d.$viewValue)?"":d.$viewValue)};var l=c.ngPattern,m=function(a,b){return ca(b)||a.test(b)?(d.$setValidity("pattern",!0),b):(d.$setValidity("pattern",!1),s)};if(l&&((e=l.match(/^\/(.*)\/([gim]*)$/))?(l=RegExp(e[1],e[2]),e=function(a){return m(l,a)}):e=function(c){var d=a.$eval(l);if(!d||!d.test)throw P("ngPattern")("noregexp",l,d,ia(b));return m(d,c)},d.$formatters.push(e),d.$parsers.push(e)),c.ngMinlength){var p=V(c.ngMinlength);e=function(a){return!ca(a)&&a.length<p?(d.$setValidity("minlength",!1),s):(d.$setValidity("minlength",!0),a)},d.$parsers.push(e),d.$formatters.push(e)}if(c.ngMaxlength){var n=V(c.ngMaxlength);e=function(a){return!ca(a)&&a.length>n?(d.$setValidity("maxlength",!1),s):(d.$setValidity("maxlength",!0),a)
},d.$parsers.push(e),d.$formatters.push(e)}}function Db(a,b){return a="ngClass"+a,function(){return{restrict:"AC",link:function(c,d,e){function g(a){(!0===b||c.$index%2===b)&&(f&&!xa(a,f)&&e.$removeClass(h(f)),e.$addClass(h(a))),f=da(a)}function h(a){if(D(a))return a.join(" ");if(U(a)){var b=[];return q(a,function(a,c){a&&b.push(c)}),b.join(" ")}return a}var f=s;c.$watch(e[a],g,!0),e.$observe("class",function(){g(c.$eval(e[a]))}),"ngClass"!==a&&c.$watch("$index",function(d,f){var g=1&d;g!==f&1&&(g===b?(g=c.$eval(e[a]),e.$addClass(h(g))):(g=c.$eval(e[a]),e.$removeClass(h(g))))})}}}}var Q,w,ya,Oa,Aa,J=function(a){return H(a)?a.toLowerCase():a},Ba=function(a){return H(a)?a.toUpperCase():a},ta=[].slice,Fd=[].push,Ua=Object.prototype.toString,Wa=P("ng"),Ha=Y.angular||(Y.angular={}),ha=["0","0","0"];Q=V((/msie (\d+)/.exec(J(navigator.userAgent))||[])[1]),isNaN(Q)&&(Q=V((/trident\/.*; rv:(\d+)/.exec(J(navigator.userAgent))||[])[1])),A.$inject=[],wa.$inject=[];var aa=function(){return String.prototype.trim?function(a){return H(a)?a.trim():a}:function(a){return H(a)?a.replace(/^\s*/,"").replace(/\s*$/,""):a}}();Aa=9>Q?function(a){return a=a.nodeName?a:a[0],a.scopeName&&"HTML"!=a.scopeName?Ba(a.scopeName+":"+a.nodeName):a.nodeName}:function(a){return a.nodeName?a.nodeName:a[0].nodeName};var Ic=/[A-Z]/g,Gd={full:"1.2.0-rc.2",major:1,minor:2,dot:0,codeName:"barehand-atomsplitting"},La=S.cache={},Xa=S.expando="ng-"+(new Date).getTime(),Mc=1,vc=Y.document.addEventListener?function(a,b,c){a.addEventListener(b,c,!1)}:function(a,b,c){a.attachEvent("on"+b,c)},wb=Y.document.removeEventListener?function(a,b,c){a.removeEventListener(b,c,!1)}:function(a,b,c){a.detachEvent("on"+b,c)},Kc=/([\:\-\_]+(.))/g,Lc=/^moz([A-Z])/,tb=P("jqLite"),Pa=S.prototype={ready:function(a){function b(){c||(c=!0,a())}var c=!1;"complete"===T.readyState?setTimeout(b):(this.on("DOMContentLoaded",b),S(Y).on("load",b))},toString:function(){var a=[];return q(this,function(b){a.push(""+b)}),"["+a.join(", ")+"]"},eq:function(a){return a>=0?w(this[a]):w(this[this.length+a])},length:0,push:Fd,sort:[].sort,splice:[].splice},$a={};q("multiple selected checked disabled readOnly required open".split(" "),function(a){$a[J(a)]=a});var Vb={};q("input select option textarea button form details".split(" "),function(a){Vb[Ba(a)]=!0}),q({data:Qb,inheritedData:Za,scope:function(a){return Za(a,"$scope")},controller:Tb,injector:function(a){return Za(a,"$injector")},removeAttr:function(a,b){a.removeAttribute(b)},hasClass:Ya,css:function(a,b,c){if(b=Ja(b),!z(c)){var d;return 8>=Q&&(d=a.currentStyle&&a.currentStyle[b],""===d&&(d="auto")),d=d||a.style[b],8>=Q&&(d=""===d?s:d),d}a.style[b]=c},attr:function(a,b,c){var d=J(b);if($a[d]){if(!z(c))return a[b]||(a.attributes.getNamedItem(b)||A).specified?d:s;c?(a[b]=!0,a.setAttribute(b,d)):(a[b]=!1,a.removeAttribute(d))}else if(z(c))a.setAttribute(b,c);else if(a.getAttribute)return a=a.getAttribute(b,2),null===a?s:a},prop:function(a,b,c){return z(c)?(a[b]=c,void 0):a[b]},text:function(){function a(a,d){var e=b[a.nodeType];return M(d)?e?a[e]:"":(a[e]=d,void 0)}var b=[];return 9>Q?(b[1]="innerText",b[3]="nodeValue"):b[1]=b[3]="textContent",a.$dv="",a}(),val:function(a,b){if(M(b)){if("SELECT"===Aa(a)&&a.multiple){var c=[];return q(a.options,function(a){a.selected&&c.push(a.value||a.text)}),0===c.length?null:c}return a.value}a.value=b},html:function(a,b){if(M(b))return a.innerHTML;for(var c=0,d=a.childNodes;c<d.length;c++)Ka(d[c]);a.innerHTML=b}},function(a,b){S.prototype[b]=function(b,d){var e,g;if((2==a.length&&a!==Ya&&a!==Tb?b:d)===s){if(U(b)){for(e=0;e<this.length;e++)if(a===Qb)a(this[e],b);else for(g in b)a(this[e],g,b[g]);return this}e=a.$dv,g=e==s?Math.min(this.length,1):this.length;for(var h=0;g>h;h++){var f=a(this[h],b,d);e=e?e+f:f}return e}for(e=0;e<this.length;e++)a(this[e],b,d);return this}}),q({removeData:Ob,dealoc:Ka,on:function b(c,d,e,g){if(z(g))throw tb("onargs");var h=ja(c,"events"),f=ja(c,"handle");h||ja(c,"events",h={}),f||ja(c,"handle",f=Nc(c,h)),q(d.split(" "),function(d){var g=h[d];if(!g){if("mouseenter"==d||"mouseleave"==d){var m=T.body.contains||T.body.compareDocumentPosition?function(b,c){var d=9===b.nodeType?b.documentElement:b,e=c&&c.parentNode;return b===e||!(!e||1!==e.nodeType||!(d.contains?d.contains(e):b.compareDocumentPosition&&16&b.compareDocumentPosition(e)))}:function(b,c){if(c)for(;c=c.parentNode;)if(c===b)return!0;return!1};h[d]=[],b(c,{mouseleave:"mouseout",mouseenter:"mouseover"}[d],function(b){var c=b.relatedTarget;c&&(c===this||m(this,c))||f(b,d)})}else vc(c,d,f),h[d]=[];g=h[d]}g.push(e)})},off:Pb,replaceWith:function(b,c){var d,e=b.parentNode;Ka(b),q(new S(c),function(c){d?e.insertBefore(c,d.nextSibling):e.replaceChild(c,b),d=c})},children:function(b){var c=[];return q(b.childNodes,function(b){1===b.nodeType&&c.push(b)}),c},contents:function(b){return b.childNodes||[]},append:function(b,c){q(new S(c),function(c){1!==b.nodeType&&11!==b.nodeType||b.appendChild(c)})},prepend:function(b,c){if(1===b.nodeType){var d=b.firstChild;q(new S(c),function(c){b.insertBefore(c,d)})}},wrap:function(b,c){c=w(c)[0];var d=b.parentNode;d&&d.replaceChild(c,b),c.appendChild(b)},remove:function(b){Ka(b);var c=b.parentNode;c&&c.removeChild(b)},after:function(b,c){var d=b,e=b.parentNode;q(new S(c),function(b){e.insertBefore(b,d.nextSibling),d=b})},addClass:Sb,removeClass:Rb,toggleClass:function(b,c,d){M(d)&&(d=!Ya(b,c)),(d?Sb:Rb)(b,c)},parent:function(b){return(b=b.parentNode)&&11!==b.nodeType?b:null},next:function(b){if(b.nextElementSibling)return b.nextElementSibling;for(b=b.nextSibling;null!=b&&1!==b.nodeType;)b=b.nextSibling;return b},find:function(b,c){return b.getElementsByTagName(c)},clone:vb,triggerHandler:function(b,c,d){c=(ja(b,"events")||{})[c],d=d||{preventDefault:A,stopPropagation:A},q(c,function(c){c.call(b,d)})}},function(b,c){S.prototype[c]=function(c,e,g){for(var h,f=0;f<this.length;f++)h==s?(h=b(this[f],c,e,g),h!==s&&(h=w(h))):ub(h,b(this[f],c,e,g));return h==s?this:h},S.prototype.bind=S.prototype.on,S.prototype.unbind=S.prototype.off}),Ma.prototype={put:function(b,c){this[za(b)]=c},get:function(b){return this[za(b)]},remove:function(b){var c=this[b=za(b)];return delete this[b],c}};var Pc=/^function\s*[^\(]*\(\s*([^\)]*)\)/m,Qc=/,/,Rc=/^\s*(_?)(\S+?)\1\s*$/,Oc=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm,Na=P("$injector"),Hd=P("$animate"),Id=["$provide",function(b){this.$$selectors={},this.register=function(c,d){var e=c+"-animation";if(c&&"."!=c.charAt(0))throw Hd("notcsel",c);this.$$selectors[c.substr(1)]=e,b.factory(e,d)},this.$get=["$timeout",function(b){return{enter:function(d,e,g,h){g=g&&g[g.length-1];var f=e&&e[0]||g&&g.parentNode,k=g&&g.nextSibling||null;q(d,function(b){f.insertBefore(b,k)}),h&&b(h,0,!1)},leave:function(d,e){d.remove(),e&&b(e,0,!1)},move:function(b,c,g,h){this.enter(b,c,g,h)},addClass:function(d,e,g){e=H(e)?e:D(e)?e.join(" "):"",d.addClass(e),g&&b(g,0,!1)},removeClass:function(d,e,g){e=H(e)?e:D(e)?e.join(" "):"",d.removeClass(e),g&&b(g,0,!1)},enabled:A}}]}],ga=P("$compile");Xb.$inject=["$provide"];var Yc=/^(x[\:\-_]|data[\:\-_])/i,ed=Y.XMLHttpRequest||function(){try{return new ActiveXObject("Msxml2.XMLHTTP.6.0")}catch(b){}try{return new ActiveXObject("Msxml2.XMLHTTP.3.0")}catch(c){}try{return new ActiveXObject("Msxml2.XMLHTTP")}catch(d){}throw P("$httpBackend")("noxhr")},cc=P("$interpolate"),bc=/^([^:]+):\/\/(\w+:{0,1}\w*@)?(\{?[\w\.-]*\}?)(:([0-9]+))?(\/[^\?#]*)?(\?([^#]*))?(#(.*))?$/,gc=/^([^\?#]*)(\?([^#]*))?(#(.*))?$/,hd={http:80,https:443,ftp:21},zb=P("$location");ic.prototype=Ab.prototype=hc.prototype={$$html5:!1,$$replace:!1,absUrl:cb("$$absUrl"),url:function(b,c){if(M(b))return this.$$url;var d=gc.exec(b);return d[1]&&this.path(decodeURIComponent(d[1])),(d[2]||d[1])&&this.search(d[3]||""),this.hash(d[5]||"",c),this},protocol:cb("$$protocol"),host:cb("$$host"),port:cb("$$port"),path:jc("$$path",function(b){return"/"==b.charAt(0)?b:"/"+b}),search:function(b,c){switch(arguments.length){case 0:return this.$$search;case 1:if(H(b))this.$$search=Kb(b);else{if(!U(b))throw zb("isrcharg");this.$$search=b}break;default:c==s||null==c?delete this.$$search[b]:this.$$search[b]=c}return this.$$compose(),this},hash:jc("$$hash",wa),replace:function(){return this.$$replace=!0,this}};var Ra=P("$parse"),Sa={"null":function(){return null},"true":function(){return!0},"false":function(){return!1},undefined:A,"+":function(b,c,d,e){return d=d(b,c),e=e(b,c),z(d)?z(e)?d+e:d:z(e)?e:s},"-":function(b,c,d,e){return d=d(b,c),e=e(b,c),(z(d)?d:0)-(z(e)?e:0)},"*":function(b,c,d,e){return d(b,c)*e(b,c)},"/":function(b,c,d,e){return d(b,c)/e(b,c)},"%":function(b,c,d,e){return d(b,c)%e(b,c)},"^":function(b,c,d,e){return d(b,c)^e(b,c)},"=":A,"===":function(b,c,d,e){return d(b,c)===e(b,c)},"!==":function(b,c,d,e){return d(b,c)!==e(b,c)},"==":function(b,c,d,e){return d(b,c)==e(b,c)},"!=":function(b,c,d,e){return d(b,c)!=e(b,c)},"<":function(b,c,d,e){return d(b,c)<e(b,c)},">":function(b,c,d,e){return d(b,c)>e(b,c)},"<=":function(b,c,d,e){return d(b,c)<=e(b,c)},">=":function(b,c,d,e){return d(b,c)>=e(b,c)},"&&":function(b,c,d,e){return d(b,c)&&e(b,c)},"||":function(b,c,d,e){return d(b,c)||e(b,c)},"&":function(b,c,d,e){return d(b,c)&e(b,c)},"|":function(b,c,d,e){return e(b,c)(b,c,d(b,c))},"!":function(b,c,d){return!d(b,c)}},ld={n:"\n",f:"\f",r:"\r",t:"	",v:"","'":"'",'"':'"'},Bb={},Ca=P("$sce"),fa={HTML:"html",CSS:"css",URL:"url",RESOURCE_URL:"resourceUrl",JS:"js"};nc.$inject=["$provide"],oc.$inject=["$locale"],qc.$inject=["$locale"];var tc=".",Ed={yyyy:X("FullYear",4),yy:X("FullYear",2,0,!0),y:X("FullYear",1),MMMM:eb("Month"),MMM:eb("Month",!0),MM:X("Month",2,1),M:X("Month",1,1),dd:X("Date",2),d:X("Date",1),HH:X("Hours",2),H:X("Hours",1),hh:X("Hours",2,-12),h:X("Hours",1,-12),mm:X("Minutes",2),m:X("Minutes",1),ss:X("Seconds",2),s:X("Seconds",1),sss:X("Milliseconds",3),EEEE:eb("Day"),EEE:eb("Day",!0),a:function(b,c){return 12>b.getHours()?c.AMPMS[0]:c.AMPMS[1]},Z:function(b){return b=-1*b.getTimezoneOffset(),b=(b>=0?"+":"")+(Cb(Math[b>0?"floor":"ceil"](b/60),2)+Cb(Math.abs(b%60),2))}},Dd=/((?:[^yMdHhmsaZE']+)|(?:'(?:[^']|'')*')|(?:E+|y+|M+|d+|H+|h+|m+|s+|a|Z))(.*)/,Cd=/^\d+$/;pc.$inject=["$locale"];var Ad=$(J),Bd=$(Ba);rc.$inject=["$parse"];var Jd=$({restrict:"E",compile:function(b,c){return 8>=Q&&(c.href||c.name||c.$set("href",""),b.append(T.createComment("IE fix"))),function(b,c){c.on("click",function(b){c.attr("href")||b.preventDefault()})}}}),Eb={};q($a,function(b,c){if("multiple"!=b){var d=la("ng-"+c);Eb[d]=function(){return{priority:100,compile:function(){return function(b,g,h){b.$watch(h[d],function(b){h.$set(c,!!b)})}}}}}}),q(["src","srcset","href"],function(b){var c=la("ng-"+b);Eb[c]=function(){return{priority:99,link:function(d,e,g){g.$observe(c,function(c){c&&(g.$set(b,c),Q&&e.prop(b,g[b]))})}}}});var hb={$addControl:A,$removeControl:A,$setValidity:A,$setDirty:A,$setPristine:A};uc.$inject=["$element","$attrs","$scope"];var wc=function(b){return["$timeout",function(c){var d={name:"form",restrict:"E",controller:uc,compile:function(){return{pre:function(b,d,h,f){if(!h.action){var k=function(b){b.preventDefault?b.preventDefault():b.returnValue=!1};vc(d[0],"submit",k),d.on("$destroy",function(){c(function(){wb(d[0],"submit",k)},0,!1)})}var l=d.parent().controller("form"),m=h.name||h.ngForm;m&&db(b,m,f,m),l&&d.on("$destroy",function(){l.$removeControl(f),m&&db(b,m,s,m),E(f,hb)})}}}};return b?E(da(d),{restrict:"EAC"}):d}]},Kd=wc(),Ld=wc(!0),Md=/^(ftp|http|https):\/\/(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?$/,Nd=/^[A-Za-z0-9._%+-]+@[A-Za-z0-9.-]+\.[A-Za-z]{2,6}$/,Od=/^\s*(\-|\+)?(\d+|(\d*(\.\d*)))\s*$/,xc={text:jb,number:function(b,c,d,e,g,h){if(jb(b,c,d,e,g,h),e.$parsers.push(function(b){var c=ca(b);return c||Od.test(b)?(e.$setValidity("number",!0),""===b?null:c?b:parseFloat(b)):(e.$setValidity("number",!1),s)}),e.$formatters.push(function(b){return ca(b)?"":""+b}),d.min){var f=parseFloat(d.min);b=function(b){return!ca(b)&&f>b?(e.$setValidity("min",!1),s):(e.$setValidity("min",!0),b)},e.$parsers.push(b),e.$formatters.push(b)}if(d.max){var k=parseFloat(d.max);d=function(b){return!ca(b)&&b>k?(e.$setValidity("max",!1),s):(e.$setValidity("max",!0),b)},e.$parsers.push(d),e.$formatters.push(d)}e.$formatters.push(function(b){return ca(b)||lb(b)?(e.$setValidity("number",!0),b):(e.$setValidity("number",!1),s)})},url:function(b,c,d,e,g,h){jb(b,c,d,e,g,h),b=function(b){return ca(b)||Md.test(b)?(e.$setValidity("url",!0),b):(e.$setValidity("url",!1),s)},e.$formatters.push(b),e.$parsers.push(b)},email:function(b,c,d,e,g,h){jb(b,c,d,e,g,h),b=function(b){return ca(b)||Nd.test(b)?(e.$setValidity("email",!0),b):(e.$setValidity("email",!1),s)},e.$formatters.push(b),e.$parsers.push(b)},radio:function(b,c,d,e){M(d.name)&&c.attr("name",Ta()),c.on("click",function(){c[0].checked&&b.$apply(function(){e.$setViewValue(d.value)})}),e.$render=function(){c[0].checked=d.value==e.$viewValue},d.$observe("value",e.$render)},checkbox:function(b,c,d,e){var g=d.ngTrueValue,h=d.ngFalseValue;H(g)||(g=!0),H(h)||(h=!1),c.on("click",function(){b.$apply(function(){e.$setViewValue(c[0].checked)})}),e.$render=function(){c[0].checked=e.$viewValue},e.$formatters.push(function(b){return b===g}),e.$parsers.push(function(b){return b?g:h})},hidden:A,button:A,submit:A,reset:A},yc=["$browser","$sniffer",function(b,c){return{restrict:"E",require:"?ngModel",link:function(d,e,g,h){h&&(xc[J(g.type)]||xc.text)(d,e,g,h,c,b)}}}],gb="ng-valid",fb="ng-invalid",Da="ng-pristine",ib="ng-dirty",Pd=["$scope","$exceptionHandler","$attrs","$element","$parse",function(b,c,d,e,g){function h(b,c){c=c?"-"+pb(c,"-"):"",e.removeClass((b?fb:gb)+c).addClass((b?gb:fb)+c)}this.$modelValue=this.$viewValue=Number.NaN,this.$parsers=[],this.$formatters=[],this.$viewChangeListeners=[],this.$pristine=!0,this.$dirty=!1,this.$valid=!0,this.$invalid=!1,this.$name=d.name;var f=g(d.ngModel),k=f.assign;if(!k)throw P("ngModel")("nonassign",d.ngModel,ia(e));this.$render=A;var l=e.inheritedData("$formController")||hb,m=0,p=this.$error={};e.addClass(Da),h(!0),this.$setValidity=function(b,c){p[b]!==!c&&(c?(p[b]&&m--,m||(h(!0),this.$valid=!0,this.$invalid=!1)):(h(!1),this.$invalid=!0,this.$valid=!1,m++),p[b]=!c,h(c,b),l.$setValidity(b,c,this))},this.$setPristine=function(){this.$dirty=!1,this.$pristine=!0,e.removeClass(ib).addClass(Da)},this.$setViewValue=function(d){this.$viewValue=d,this.$pristine&&(this.$dirty=!0,this.$pristine=!1,e.removeClass(Da).addClass(ib),l.$setDirty()),q(this.$parsers,function(b){d=b(d)}),this.$modelValue!==d&&(this.$modelValue=d,k(b,d),q(this.$viewChangeListeners,function(b){try{b()}catch(d){c(d)}}))};var n=this;b.$watch(function(){var c=f(b);if(n.$modelValue!==c){var d=n.$formatters,e=d.length;for(n.$modelValue=c;e--;)c=d[e](c);n.$viewValue!==c&&(n.$viewValue=c,n.$render())}})}],Qd=function(){return{require:["ngModel","^?form"],controller:Pd,link:function(b,c,d,e){var g=e[0],h=e[1]||hb;h.$addControl(g),c.on("$destroy",function(){h.$removeControl(g)})}}},Rd=$({require:"ngModel",link:function(b,c,d,e){e.$viewChangeListeners.push(function(){b.$eval(d.ngChange)})}}),zc=function(){return{require:"?ngModel",link:function(b,c,d,e){if(e){d.required=!0;var g=function(b){return!d.required||!ca(b)&&!1!==b?(e.$setValidity("required",!0),b):(e.$setValidity("required",!1),void 0)};e.$formatters.push(g),e.$parsers.unshift(g),d.$observe("required",function(){g(e.$viewValue)})}}}},Sd=function(){return{require:"ngModel",link:function(b,c,d,e){var g=(b=/\/(.*)\//.exec(d.ngList))&&RegExp(b[1])||d.ngList||",";e.$parsers.push(function(b){var c=[];return b&&q(b.split(g),function(b){b&&c.push(aa(b))}),c}),e.$formatters.push(function(b){return D(b)?b.join(", "):s})}}},Td=/^(true|false|\d+)$/,Ud=function(){return{priority:100,compile:function(b,c){return Td.test(c.ngValue)?function(b,c,g){g.$set("value",b.$eval(g.ngValue))}:function(b,c,g){b.$watch(g.ngValue,function(b){g.$set("value",b)})}}}},Vd=sa(function(b,c,d){c.addClass("ng-binding").data("$binding",d.ngBind),b.$watch(d.ngBind,function(b){c.text(b==s?"":b)})}),Wd=["$interpolate",function(b){return function(c,d,e){c=b(d.attr(e.$attr.ngBindTemplate)),d.addClass("ng-binding").data("$binding",c),e.$observe("ngBindTemplate",function(b){d.text(b)})}}],Xd=["$sce",function(b){return function(c,d,e){d.addClass("ng-binding").data("$binding",e.ngBindHtml),c.$watch(e.ngBindHtml,function(c){d.html(b.getTrustedHtml(c)||"")})}}],Yd=Db("",!0),Zd=Db("Odd",0),$d=Db("Even",1),ae=sa({compile:function(b,c){c.$set("ngCloak",s),b.removeClass("ng-cloak")}}),be=[function(){return{scope:!0,controller:"@"}}],ce=["$sniffer",function(b){return{priority:1e3,compile:function(){b.csp=!0}}}],Ac={};q("click dblclick mousedown mouseup mouseover mouseout mousemove mouseenter mouseleave keydown keyup keypress submit focus blur".split(" "),function(b){var c=la("ng-"+b);Ac[c]=["$parse",function(d){return function(e,g,h){var f=d(h[c]);g.on(J(b),function(b){e.$apply(function(){f(e,{$event:b})})})}}]});var de=["$animate",function(b){return{transclude:"element",priority:1e3,terminal:!0,restrict:"A",compile:function(c,d,e){return function(c,d,f){var k,l;c.$watch(f.ngIf,function(f){k&&(b.leave(k),k=s),l&&(l.$destroy(),l=s),Ga(f)&&(l=c.$new(),e(l,function(c){k=c,b.enter(c,d.parent(),d)}))})}}}}],ee=["$http","$templateCache","$anchorScroll","$compile","$animate","$sce",function(b,c,d,e,g,h){return{restrict:"ECA",terminal:!0,transclude:"element",compile:function(f,k,l){var m=k.ngInclude||k.src,p=k.onload||"",n=k.autoscroll;return function(f,k){var s,w,q=0,A=function(){s&&(s.$destroy(),s=null),w&&(g.leave(w),w=null)};f.$watch(h.parseAsResourceUrl(m),function(h){var m=++q;h?(b.get(h,{cache:c}).success(function(b){if(m===q){var c=f.$new();l(c,function(h){A(),s=c,w=h,w.html(b),g.enter(w,null,k),e(w.contents())(s),!z(n)||n&&!f.$eval(n)||d(),s.$emit("$includeContentLoaded"),f.$eval(p)})}}).error(function(){m===q&&A()}),f.$emit("$includeContentRequested")):A()})}}}}],fe=sa({compile:function(){return{pre:function(b,c,d){b.$eval(d.ngInit)}}}}),ge=sa({terminal:!0,priority:1e3}),he=["$locale","$interpolate",function(b,c){var d=/{}/g;return{restrict:"EA",link:function(e,g,h){var f=h.count,k=h.$attr.when&&g.attr(h.$attr.when),l=h.offset||0,m=e.$eval(k)||{},p={},n=c.startSymbol(),t=c.endSymbol(),r=/^when(Minus)?(.+)$/;q(h,function(b,c){r.test(c)&&(m[J(c.replace("when","").replace("Minus","-"))]=g.attr(h.$attr[c]))}),q(m,function(b,e){p[e]=c(b.replace(d,n+f+"-"+l+t))}),e.$watch(function(){var c=parseFloat(e.$eval(f));return isNaN(c)?"":(c in m||(c=b.pluralCat(c-l)),p[c](e,g,!0))},function(b){g.text(b)})}}}],ie=["$parse","$animate",function(b,c){var d=P("ngRepeat");return{transclude:"element",priority:1e3,terminal:!0,compile:function(e,g,h){return function(e,g,l){var n,t,r,s,x,z,A,m=l.ngRepeat,p=m.match(/^\s*(.+)\s+in\s+(.*?)\s*(\s+track\s+by\s+(.+)\s*)?$/),u={$id:za};if(!p)throw d("iexp",m);if(l=p[1],x=p[2],(p=p[4])?(n=b(p),t=function(b,c,d){return A&&(u[A]=b),u[z]=c,u.$index=d,n(e,u)}):(r=function(b,c){return za(c)},s=function(b){return b}),p=l.match(/^(?:([\$\w]+)|\(([\$\w]+)\s*,\s*([\$\w]+)\))$/),!p)throw d("iidexp",l);z=p[3]||p[1],A=p[2];var v={};e.$watchCollection(x,function(b){var l,n,u,H,G,D,E,L,C,p=g[0],x={},K=[];if(kb(b))L=b,t=t||r;else{t=t||s,L=[];for(D in b)b.hasOwnProperty(D)&&"$"!=D.charAt(0)&&L.push(D);L.sort()}for(H=L.length,n=K.length=L.length,l=0;n>l;l++)if(D=b===L?l:L[l],E=b[D],u=t(D,E,l),v.hasOwnProperty(u))C=v[u],delete v[u],x[u]=C,K[l]=C;else{if(x.hasOwnProperty(u))throw q(K,function(b){b&&b.startNode&&(v[b.id]=b)}),d("dupes",m,u);K[l]={id:u},x[u]=!1}for(D in v)v.hasOwnProperty(D)&&(C=v[D],c.leave(C.elements),q(C.elements,function(b){b.$$NG_REMOVED=!0}),C.scope.$destroy());for(l=0,n=L.length;n>l;l++){if(D=b===L?l:L[l],E=b[D],C=K[l],C.startNode){G=C.scope,u=p;do u=u.nextSibling;while(u&&u.$$NG_REMOVED);C.startNode!=u&&c.move(C.elements,null,w(p)),p=C.endNode}else G=e.$new();G[z]=E,A&&(G[A]=D),G.$index=l,G.$first=0===l,G.$last=l===H-1,G.$middle=!(G.$first||G.$last),G.$odd=!(G.$even=0==l%2),C.startNode||h(G,function(b){c.enter(b,null,w(p)),p=b,C.scope=G,C.startNode=b[0],C.elements=b,C.endNode=b[b.length-1],x[C.id]=C})}v=x})}}}}],je=["$animate",function(b){return function(c,d,e){c.$watch(e.ngShow,function(c){b[Ga(c)?"removeClass":"addClass"](d,"ng-hide")})}}],ke=["$animate",function(b){return function(c,d,e){c.$watch(e.ngHide,function(c){b[Ga(c)?"addClass":"removeClass"](d,"ng-hide")})}}],le=sa(function(b,c,d){b.$watch(d.ngStyle,function(b,d){d&&b!==d&&q(d,function(b,d){c.css(d,"")}),b&&c.css(b)},!0)}),me=["$animate",function(b){return{restrict:"EA",require:"ngSwitch",controller:["$scope",function(){this.cases={}}],link:function(c,d,e,g){var h,f,k=[];c.$watch(e.ngSwitch||e.on,function(d){for(var m=0,p=k.length;p>m;m++)k[m].$destroy(),b.leave(f[m]);f=[],k=[],(h=g.cases["!"+d]||g.cases["?"])&&(c.$eval(e.change),q(h,function(d){var e=c.$new();k.push(e),d.transclude(e,function(c){var e=d.element;f.push(c),b.enter(c,e.parent(),e)})}))})}}}],ne=sa({transclude:"element",priority:500,require:"^ngSwitch",compile:function(b,c,d){return function(b,g,h,f){f.cases["!"+c.ngSwitchWhen]=f.cases["!"+c.ngSwitchWhen]||[],f.cases["!"+c.ngSwitchWhen].push({transclude:d,element:g})}}}),oe=sa({transclude:"element",priority:500,require:"^ngSwitch",compile:function(b,c,d){return function(b,c,h,f){f.cases["?"]=f.cases["?"]||[],f.cases["?"].push({transclude:d,element:c})}}}),pe=sa({controller:["$transclude",function(b){this.$transclude=b}],link:function(b,c,d,e){e.$transclude(function(b){c.html(""),c.append(b)})}}),qe=["$templateCache",function(b){return{restrict:"E",terminal:!0,compile:function(c,d){"text/ng-template"==d.type&&b.put(d.id,c[0].text)}}}],re=$({terminal:!0}),se=["$compile","$parse",function(b,c){var d=/^\s*(.*?)(?:\s+as\s+(.*?))?(?:\s+group\s+by\s+(.*))?\s+for\s+(?:([\$\w][\$\w\d]*)|(?:\(\s*([\$\w][\$\w\d]*)\s*,\s*([\$\w][\$\w\d]*)\s*\)))\s+in\s+(.*?)(?:\s+track\s+by\s+(.*?))?$/,e={$setViewValue:A};return{restrict:"E",require:["select","?ngModel"],controller:["$element","$scope","$attrs",function(b,c,d){var p,k=this,l={},m=e;k.databound=d.ngModel,k.init=function(b,c,d){m=b,p=d},k.addOption=function(c){l[c]=!0,m.$viewValue==c&&(b.val(c),p.parent()&&p.remove())},k.removeOption=function(b){this.hasOption(b)&&(delete l[b],m.$viewValue==b&&this.renderUnknownOption(b))},k.renderUnknownOption=function(c){c="? "+za(c)+" ?",p.val(c),b.prepend(p),b.val(c),p.prop("selected",!0)},k.hasOption=function(b){return l.hasOwnProperty(b)},c.$on("$destroy",function(){k.renderUnknownOption=A})}],link:function(e,h,f,k){function l(b,c,d,e){d.$render=function(){var b=d.$viewValue;e.hasOption(b)?(v.parent()&&v.remove(),c.val(b),""===b&&A.prop("selected",!0)):M(b)&&A?c.val(""):e.renderUnknownOption(b)},c.on("change",function(){b.$apply(function(){v.parent()&&v.remove(),d.$setViewValue(c.val())})})}function m(b,c,d){var e;d.$render=function(){var b=new Ma(d.$viewValue);q(c.find("option"),function(c){c.selected=z(b.get(c.value))})},b.$watch(function(){xa(e,d.$viewValue)||(e=da(d.$viewValue),d.$render())}),c.on("change",function(){b.$apply(function(){var b=[];q(c.find("option"),function(c){c.selected&&b.push(c.value)}),d.$setViewValue(b)})})}function p(e,f,g){function h(){var d,k,w,z,y,b={"":[]},c=[""];w=g.$modelValue,z=t(e)||[];var I,B,F,E=n?Fb(z):z;B={},y=!1;var G,J;if(r)if(v&&D(w))for(y=new Ma([]),k=0;k<w.length;k++)B[m]=w[k],y.put(v(e,B),w[k]);else y=new Ma(w);for(F=0;I=E.length,I>F;F++)B[m]=z[n?B[n]=E[F]:F],d=p(e,B)||"",(k=b[d])||(k=b[d]=[],c.push(d)),r?d=y.remove(v?v(e,B):q(e,B))!=s:(v?(d={},d[m]=w,d=v(e,d)===v(e,B)):d=w===q(e,B),y=y||d),G=l(e,B),G=G===s?"":G,k.push({id:v?v(e,B):n?E[F]:F,label:G,selected:d});for(r||(x||null===w?b[""].unshift({id:"",label:"",selected:!y}):y||b[""].unshift({id:"?",label:"",selected:!0})),B=0,E=c.length;E>B;B++){for(d=c[B],k=b[d],A.length<=B?(w={element:u.clone().attr("label",d),label:k.label},z=[w],A.push(z),f.append(w.element)):(z=A[B],w=z[0],w.label!=d&&w.element.attr("label",w.label=d)),G=null,F=0,I=k.length;I>F;F++)d=k[F],(y=z[F+1])?(G=y.element,y.label!==d.label&&G.text(y.label=d.label),y.id!==d.id&&G.val(y.id=d.id),G[0].selected!==d.selected&&G.prop("selected",y.selected=d.selected)):(""===d.id&&x?J=x:(J=H.clone()).val(d.id).attr("selected",d.selected).text(d.label),z.push({element:J,label:d.label,id:d.id,selected:d.selected}),G?G.after(J):w.element.append(J),G=J);for(F++;z.length>F;)z.pop().element.remove()}for(;A.length>B;)A.pop()[0].element.remove()}var k;if(!(k=y.match(d)))throw P("ngOptions")("iexp",y,ia(f));var l=c(k[2]||k[1]),m=k[4]||k[6],n=k[5],p=c(k[3]||""),q=c(k[2]?k[1]:m),t=c(k[7]),v=k[8]?c(k[8]):null,A=[[{element:f,label:""}]];x&&(b(x)(e),x.removeClass("ng-scope"),x.remove()),f.html(""),f.on("change",function(){e.$apply(function(){var b,h,k,l,p,u,x,c=t(e)||[],d={};if(r){for(k=[],p=0,x=A.length;x>p;p++)for(b=A[p],l=1,u=b.length;u>l;l++)if((h=b[l].element)[0].selected){if(h=h.val(),n&&(d[n]=h),v)for(var w=0;w<c.length&&(d[m]=c[w],v(e,d)!=h);w++);else d[m]=c[h];k.push(q(e,d))}}else if(h=f.val(),"?"==h)k=s;else if(""==h)k=null;else if(v){for(w=0;w<c.length;w++)if(d[m]=c[w],v(e,d)==h){k=q(e,d);break}}else d[m]=c[h],n&&(d[n]=h),k=q(e,d);g.$setViewValue(k)})}),g.$render=h,e.$watch(h)}if(k[1]){var A,n=k[0],t=k[1],r=f.multiple,y=f.ngOptions,x=!1,H=w(T.createElement("option")),u=w(T.createElement("optgroup")),v=H.clone();k=0;for(var E=h.children(),I=E.length;I>k;k++)if(""==E[k].value){A=x=E.eq(k);break}if(n.init(t,x,v),r&&(f.required||f.ngRequired)){var B=function(b){return t.$setValidity("required",!f.required||b&&b.length),b};t.$parsers.push(B),t.$formatters.unshift(B),f.$observe("required",function(){B(t.$viewValue)})}y?p(e,h,t):r?m(e,h,t):l(e,h,t,n)}}}}],te=["$interpolate",function(b){var c={addOption:A,removeOption:A};return{restrict:"E",priority:100,compile:function(d,e){if(M(e.value)){var g=b(d.text(),!0);g||e.$set("value",d.text())}return function(b,d,e){var l=d.parent(),m=l.data("$selectController")||l.parent().data("$selectController");m&&m.databound?d.prop("selected",!1):m=c,g?b.$watch(g,function(b,c){e.$set("value",b),b!==c&&m.removeOption(c),m.addOption(b)}):m.addOption(e.value),d.on("$destroy",function(){m.removeOption(e.value)})}}}}],ue=$({restrict:"E",terminal:!0});(ya=Y.jQuery)?(w=ya,E(ya.fn,{scope:Pa.scope,controller:Pa.controller,injector:Pa.injector,inheritedData:Pa.inheritedData}),sb("remove",!0,!0,!1),sb("empty",!1,!1,!1),sb("html",!1,!1,!0)):w=S,Ha.element=w,function(b){E(b,{bootstrap:Mb,copy:da,extend:E,equals:xa,element:w,forEach:q,injector:Nb,noop:A,bind:nb,toJson:oa,fromJson:Ib,identity:wa,isUndefined:M,isDefined:z,isString:H,isFunction:B,isObject:U,isNumber:lb,isElement:Dc,isArray:D,$$minErr:P,version:Gd,isDate:Ea,lowercase:J,uppercase:Ba,callbacks:{counter:0}}),Oa=Jc(Y);try{Oa("ngLocale")}catch(c){Oa("ngLocale",[]).provider("$locale",gd)}Oa("ng",["ngLocale"],["$provide",function(b){b.provider("$compile",Xb).directive({a:Jd,input:yc,textarea:yc,form:Kd,script:qe,select:se,style:ue,option:te,ngBind:Vd,ngBindHtml:Xd,ngBindTemplate:Wd,ngClass:Yd,ngClassEven:$d,ngClassOdd:Zd,ngCsp:ce,ngCloak:ae,ngController:be,ngForm:Ld,ngHide:ke,ngIf:de,ngInclude:ee,ngInit:fe,ngNonBindable:ge,ngPluralize:he,ngRepeat:ie,ngShow:je,ngStyle:le,ngSwitch:me,ngSwitchWhen:ne,ngSwitchDefault:oe,ngOptions:re,ngTransclude:pe,ngModel:Qd,ngList:Sd,ngChange:Rd,required:zc,ngRequired:zc,ngValue:Ud}).directive(Eb).directive(Ac),b.provider({$anchorScroll:Sc,$animate:Id,$browser:Vc,$cacheFactory:Wc,$controller:Zc,$document:$c,$exceptionHandler:ad,$filter:nc,$interpolate:fd,$http:bd,$httpBackend:cd,$location:id,$log:jd,$parse:nd,$rootScope:qd,$q:od,$sce:sd,$sceDelegate:rd,$sniffer:td,$templateCache:Xc,$timeout:ud,$window:wd,$$urlUtils:vd})}])}(Ha),w(T).ready(function(){Hc(T,Mb)})}(window,document),angular.element(document).find("head").prepend('<style type="text/css">@charset "UTF-8";[ng\\:cloak],[ng-cloak],[data-ng-cloak],[x-ng-cloak],.ng-cloak,.x-ng-cloak,.ng-hide{display:none !important;}ng\\:form{display:block;}</style>'),angular.module("ui.bootstrap",["ui.bootstrap.tpls","ui.bootstrap.transition","ui.bootstrap.collapse","ui.bootstrap.accordion","ui.bootstrap.alert","ui.bootstrap.bindHtml","ui.bootstrap.buttons","ui.bootstrap.carousel","ui.bootstrap.position","ui.bootstrap.datepicker","ui.bootstrap.dropdownToggle","ui.bootstrap.modal","ui.bootstrap.pagination","ui.bootstrap.tooltip","ui.bootstrap.popover","ui.bootstrap.progressbar","ui.bootstrap.rating","ui.bootstrap.tabs","ui.bootstrap.timepicker","ui.bootstrap.typeahead"]),angular.module("ui.bootstrap.tpls",["template/accordion/accordion-group.html","template/accordion/accordion.html","template/alert/alert.html","template/carousel/carousel.html","template/carousel/slide.html","template/datepicker/datepicker.html","template/datepicker/popup.html","template/modal/backdrop.html","template/modal/window.html","template/pagination/pager.html","template/pagination/pagination.html","template/tooltip/tooltip-html-unsafe-popup.html","template/tooltip/tooltip-popup.html","template/popover/popover.html","template/progressbar/bar.html","template/progressbar/progress.html","template/rating/rating.html","template/tabs/tab.html","template/tabs/tabset-titles.html","template/tabs/tabset.html","template/timepicker/timepicker.html","template/typeahead/typeahead-match.html","template/typeahead/typeahead-popup.html"]),angular.module("ui.bootstrap.transition",[]).factory("$transition",["$q","$timeout","$rootScope",function(a,b,c){function d(a){for(var b in a)if(void 0!==f.style[b])return a[b]}var e=function(d,f,g){g=g||{};var h=a.defer(),i=e[g.animation?"animationEndEventName":"transitionEndEventName"],j=function(){c.$apply(function(){d.unbind(i,j),h.resolve(d)})};return i&&d.bind(i,j),b(function(){angular.isString(f)?d.addClass(f):angular.isFunction(f)?f(d):angular.isObject(f)&&d.css(f),i||h.resolve(d)}),h.promise.cancel=function(){i&&d.unbind(i,j),h.reject("Transition cancelled")},h.promise},f=document.createElement("trans"),g={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd",transition:"transitionend"},h={WebkitTransition:"webkitAnimationEnd",MozTransition:"animationend",OTransition:"oAnimationEnd",transition:"animationend"};return e.transitionEndEventName=d(g),e.animationEndEventName=d(h),e}]),angular.module("ui.bootstrap.collapse",["ui.bootstrap.transition"]).directive("collapse",["$transition",function(a){var b=function(a,b,c){b.removeClass("collapse"),b.css({height:c}),b[0].offsetWidth,b.addClass("collapse")};return{link:function(c,d,e){var f,g=!0;c.$watch(function(){return d[0].scrollHeight},function(){0!==d[0].scrollHeight&&(f||(g?b(c,d,d[0].scrollHeight+"px"):b(c,d,"auto")))}),c.$watch(e.collapse,function(a){a?k():j()});var h,i=function(b){return h&&h.cancel(),h=a(d,b),h.then(function(){h=void 0},function(){h=void 0}),h},j=function(){g?(g=!1,f||b(c,d,"auto")):i({height:d[0].scrollHeight+"px"}).then(function(){f||b(c,d,"auto")}),f=!1},k=function(){f=!0,g?(g=!1,b(c,d,0)):(b(c,d,d[0].scrollHeight+"px"),i({height:"0"}))}}}}]),angular.module("ui.bootstrap.accordion",["ui.bootstrap.collapse"]).constant("accordionConfig",{closeOthers:!0}).controller("AccordionController",["$scope","$attrs","accordionConfig",function(a,b,c){this.groups=[],this.closeOthers=function(d){var e=angular.isDefined(b.closeOthers)?a.$eval(b.closeOthers):c.closeOthers;e&&angular.forEach(this.groups,function(a){a!==d&&(a.isOpen=!1)})},this.addGroup=function(a){var b=this;this.groups.push(a),a.$on("$destroy",function(){b.removeGroup(a)})},this.removeGroup=function(a){var b=this.groups.indexOf(a);-1!==b&&this.groups.splice(this.groups.indexOf(a),1)}}]).directive("accordion",function(){return{restrict:"EA",controller:"AccordionController",transclude:!0,replace:!1,templateUrl:"template/accordion/accordion.html"}}).directive("accordionGroup",["$parse","$transition","$timeout",function(a){return{require:"^accordion",restrict:"EA",transclude:!0,replace:!0,templateUrl:"template/accordion/accordion-group.html",scope:{heading:"@"},controller:["$scope",function(){this.setHeading=function(a){this.heading=a
}}],link:function(b,c,d,e){var f,g;e.addGroup(b),b.isOpen=!1,d.isOpen&&(f=a(d.isOpen),g=f.assign,b.$watch(function(){return f(b.$parent)},function(a){b.isOpen=a}),b.isOpen=f?f(b.$parent):!1),b.$watch("isOpen",function(a){a&&e.closeOthers(b),g&&g(b.$parent,a)})}}}]).directive("accordionHeading",function(){return{restrict:"EA",transclude:!0,template:"",replace:!0,require:"^accordionGroup",compile:function(a,b,c){return function(a,b,d,e){e.setHeading(c(a,function(){}))}}}}).directive("accordionTransclude",function(){return{require:"^accordionGroup",link:function(a,b,c,d){a.$watch(function(){return d[c.accordionTransclude]},function(a){a&&(b.html(""),b.append(a))})}}}),angular.module("ui.bootstrap.alert",[]).directive("alert",function(){return{restrict:"EA",templateUrl:"template/alert/alert.html",transclude:!0,replace:!0,scope:{type:"=",close:"&"},link:function(a,b,c){a.closeable="close"in c}}}),angular.module("ui.bootstrap.bindHtml",[]).directive("bindHtmlUnsafe",function(){return function(a,b,c){b.addClass("ng-binding").data("$binding",c.bindHtmlUnsafe),a.$watch(c.bindHtmlUnsafe,function(a){b.html(a||"")})}}),angular.module("ui.bootstrap.buttons",[]).constant("buttonConfig",{activeClass:"active",toggleEvent:"click"}).directive("btnRadio",["buttonConfig",function(a){var b=a.activeClass||"active",c=a.toggleEvent||"click";return{require:"ngModel",link:function(a,d,e,f){f.$render=function(){d.toggleClass(b,angular.equals(f.$modelValue,a.$eval(e.btnRadio)))},d.bind(c,function(){d.hasClass(b)||a.$apply(function(){f.$setViewValue(a.$eval(e.btnRadio)),f.$render()})})}}}]).directive("btnCheckbox",["buttonConfig",function(a){var b=a.activeClass||"active",c=a.toggleEvent||"click";return{require:"ngModel",link:function(a,d,e,f){function g(){var b=a.$eval(e.btnCheckboxTrue);return angular.isDefined(b)?b:!0}function h(){var b=a.$eval(e.btnCheckboxFalse);return angular.isDefined(b)?b:!1}f.$render=function(){d.toggleClass(b,angular.equals(f.$modelValue,g()))},d.bind(c,function(){a.$apply(function(){f.$setViewValue(d.hasClass(b)?h():g()),f.$render()})})}}}]),angular.module("ui.bootstrap.carousel",["ui.bootstrap.transition"]).controller("CarouselController",["$scope","$timeout","$transition","$q",function(a,b,c){function d(){function c(){f?(a.next(),d()):a.pause()}e&&b.cancel(e);var g=+a.interval;!isNaN(g)&&g>=0&&(e=b(c,g))}var e,f,g=this,h=g.slides=[],i=-1;g.currentSlide=null,g.select=function(e,f){function j(){g.currentSlide&&angular.isString(f)&&!a.noTransition&&e.$element?(e.$element.addClass(f),e.$element[0].offsetWidth,angular.forEach(h,function(a){angular.extend(a,{direction:"",entering:!1,leaving:!1,active:!1})}),angular.extend(e,{direction:f,active:!0,entering:!0}),angular.extend(g.currentSlide||{},{direction:f,leaving:!0}),a.$currentTransition=c(e.$element,{}),function(b,c){a.$currentTransition.then(function(){k(b,c)},function(){k(b,c)})}(e,g.currentSlide)):k(e,g.currentSlide),g.currentSlide=e,i=l,d()}function k(b,c){angular.extend(b,{direction:"",active:!0,leaving:!1,entering:!1}),angular.extend(c||{},{direction:"",active:!1,leaving:!1,entering:!1}),a.$currentTransition=null}var l=h.indexOf(e);void 0===f&&(f=l>i?"next":"prev"),e&&e!==g.currentSlide&&(a.$currentTransition?(a.$currentTransition.cancel(),b(j)):j())},g.indexOfSlide=function(a){return h.indexOf(a)},a.next=function(){var b=(i+1)%h.length;return a.$currentTransition?void 0:g.select(h[b],"next")},a.prev=function(){var b=0>i-1?h.length-1:i-1;return a.$currentTransition?void 0:g.select(h[b],"prev")},a.select=function(a){g.select(a)},a.isActive=function(a){return g.currentSlide===a},a.slides=function(){return h},a.$watch("interval",d),a.play=function(){f||(f=!0,d())},a.pause=function(){a.noPause||(f=!1,e&&b.cancel(e))},g.addSlide=function(b,c){b.$element=c,h.push(b),1===h.length||b.active?(g.select(h[h.length-1]),1==h.length&&a.play()):b.active=!1},g.removeSlide=function(a){var b=h.indexOf(a);h.splice(b,1),h.length>0&&a.active?b>=h.length?g.select(h[b-1]):g.select(h[b]):i>b&&i--}}]).directive("carousel",[function(){return{restrict:"EA",transclude:!0,replace:!0,controller:"CarouselController",require:"carousel",templateUrl:"template/carousel/carousel.html",scope:{interval:"=",noTransition:"=",noPause:"="}}}]).directive("slide",["$parse",function(a){return{require:"^carousel",restrict:"EA",transclude:!0,replace:!0,templateUrl:"template/carousel/slide.html",scope:{},link:function(b,c,d,e){if(d.active){var f=a(d.active),g=f.assign,h=b.active=f(b.$parent);b.$watch(function(){var a=f(b.$parent);return a!==b.active&&(a!==h?h=b.active=a:g(b.$parent,a=h=b.active)),a})}e.addSlide(b,c),b.$on("$destroy",function(){e.removeSlide(b)}),b.$watch("active",function(a){a&&e.select(b)})}}}]),angular.module("ui.bootstrap.position",[]).factory("$position",["$document","$window",function(a,b){function c(a,c){return a.currentStyle?a.currentStyle[c]:b.getComputedStyle?b.getComputedStyle(a)[c]:a.style[c]}function d(a){return"static"===(c(a,"position")||"static")}var e=function(b){for(var c=a[0],e=b.offsetParent||c;e&&e!==c&&d(e);)e=e.offsetParent;return e||c};return{position:function(b){var c=this.offset(b),d={top:0,left:0},f=e(b[0]);return f!=a[0]&&(d=this.offset(angular.element(f)),d.top+=f.clientTop-f.scrollTop,d.left+=f.clientLeft-f.scrollLeft),{width:b.prop("offsetWidth"),height:b.prop("offsetHeight"),top:c.top-d.top,left:c.left-d.left}},offset:function(c){var d=c[0].getBoundingClientRect();return{width:c.prop("offsetWidth"),height:c.prop("offsetHeight"),top:d.top+(b.pageYOffset||a[0].body.scrollTop||a[0].documentElement.scrollTop),left:d.left+(b.pageXOffset||a[0].body.scrollLeft||a[0].documentElement.scrollLeft)}}}}]),angular.module("ui.bootstrap.datepicker",["ui.bootstrap.position"]).constant("datepickerConfig",{dayFormat:"dd",monthFormat:"MMMM",yearFormat:"yyyy",dayHeaderFormat:"EEE",dayTitleFormat:"MMMM yyyy",monthTitleFormat:"yyyy",showWeeks:!0,startingDay:0,yearRange:20,minDate:null,maxDate:null}).controller("DatepickerController",["$scope","$attrs","dateFilter","datepickerConfig",function(a,b,c,d){function e(b,c){return angular.isDefined(b)?a.$parent.$eval(b):c}function f(a,b){return new Date(a,b,0).getDate()}function g(a,b){for(var c=new Array(b),d=a,e=0;b>e;)c[e++]=new Date(d),d.setDate(d.getDate()+1);return c}function h(a,b,d,e){return{date:a,label:c(a,b),selected:!!d,secondary:!!e}}var i={day:e(b.dayFormat,d.dayFormat),month:e(b.monthFormat,d.monthFormat),year:e(b.yearFormat,d.yearFormat),dayHeader:e(b.dayHeaderFormat,d.dayHeaderFormat),dayTitle:e(b.dayTitleFormat,d.dayTitleFormat),monthTitle:e(b.monthTitleFormat,d.monthTitleFormat)},j=e(b.startingDay,d.startingDay),k=e(b.yearRange,d.yearRange);this.minDate=d.minDate?new Date(d.minDate):null,this.maxDate=d.maxDate?new Date(d.maxDate):null,this.modes=[{name:"day",getVisibleDates:function(a,b){var d=a.getFullYear(),e=a.getMonth(),k=new Date(d,e,1),l=j-k.getDay(),m=l>0?7-l:-l,n=new Date(k),o=0;m>0&&(n.setDate(-m+1),o+=m),o+=f(d,e+1),o+=(7-o%7)%7;for(var p=g(n,o),q=new Array(7),r=0;o>r;r++){var s=new Date(p[r]);p[r]=h(s,i.day,b&&b.getDate()===s.getDate()&&b.getMonth()===s.getMonth()&&b.getFullYear()===s.getFullYear(),s.getMonth()!==e)}for(var t=0;7>t;t++)q[t]=c(p[t].date,i.dayHeader);return{objects:p,title:c(a,i.dayTitle),labels:q}},compare:function(a,b){return new Date(a.getFullYear(),a.getMonth(),a.getDate())-new Date(b.getFullYear(),b.getMonth(),b.getDate())},split:7,step:{months:1}},{name:"month",getVisibleDates:function(a,b){for(var d=new Array(12),e=a.getFullYear(),f=0;12>f;f++){var g=new Date(e,f,1);d[f]=h(g,i.month,b&&b.getMonth()===f&&b.getFullYear()===e)}return{objects:d,title:c(a,i.monthTitle)}},compare:function(a,b){return new Date(a.getFullYear(),a.getMonth())-new Date(b.getFullYear(),b.getMonth())},split:3,step:{years:1}},{name:"year",getVisibleDates:function(a,b){for(var c=new Array(k),d=a.getFullYear(),e=parseInt((d-1)/k,10)*k+1,f=0;k>f;f++){var g=new Date(e+f,0,1);c[f]=h(g,i.year,b&&b.getFullYear()===g.getFullYear())}return{objects:c,title:[c[0].label,c[k-1].label].join(" - ")}},compare:function(a,b){return a.getFullYear()-b.getFullYear()},split:5,step:{years:k}}],this.isDisabled=function(b,c){var d=this.modes[c||0];return this.minDate&&d.compare(b,this.minDate)<0||this.maxDate&&d.compare(b,this.maxDate)>0||a.dateDisabled&&a.dateDisabled({date:b,mode:d.name})}}]).directive("datepicker",["dateFilter","$parse","datepickerConfig","$log",function(a,b,c,d){return{restrict:"EA",replace:!0,templateUrl:"template/datepicker/datepicker.html",scope:{dateDisabled:"&"},require:["datepicker","?^ngModel"],controller:"DatepickerController",link:function(a,e,f,g){function h(){a.showWeekNumbers=0===o&&q}function i(a,b){for(var c=[];a.length>0;)c.push(a.splice(0,b));return c}function j(b){var c=null,e=!0;n.$modelValue&&(c=new Date(n.$modelValue),isNaN(c)?(e=!1,d.error('Datepicker directive: "ng-model" value must be a Date object, a number of milliseconds since 01.01.1970 or a string representing an RFC2822 or ISO 8601 date.')):b&&(p=c)),n.$setValidity("date",e);var f=m.modes[o],g=f.getVisibleDates(p,c);angular.forEach(g.objects,function(a){a.disabled=m.isDisabled(a.date,o)}),n.$setValidity("date-disabled",!c||!m.isDisabled(c)),a.rows=i(g.objects,f.split),a.labels=g.labels||[],a.title=g.title}function k(a){o=a,h(),j()}function l(a){var b=new Date(a);b.setDate(b.getDate()+4-(b.getDay()||7));var c=b.getTime();return b.setMonth(0),b.setDate(1),Math.floor(Math.round((c-b)/864e5)/7)+1}var m=g[0],n=g[1];if(n){var o=0,p=new Date,q=c.showWeeks;f.showWeeks?a.$parent.$watch(b(f.showWeeks),function(a){q=!!a,h()}):h(),f.min&&a.$parent.$watch(b(f.min),function(a){m.minDate=a?new Date(a):null,j()}),f.max&&a.$parent.$watch(b(f.max),function(a){m.maxDate=a?new Date(a):null,j()}),n.$render=function(){j(!0)},a.select=function(a){if(0===o){var b=new Date(n.$modelValue);b.setFullYear(a.getFullYear(),a.getMonth(),a.getDate()),n.$setViewValue(b),j(!0)}else p=a,k(o-1)},a.move=function(a){var b=m.modes[o].step;p.setMonth(p.getMonth()+a*(b.months||0)),p.setFullYear(p.getFullYear()+a*(b.years||0)),j()},a.toggleMode=function(){k((o+1)%m.modes.length)},a.getWeekNumber=function(b){return 0===o&&a.showWeekNumbers&&7===b.length?l(b[0].date):null}}}}}]).constant("datepickerPopupConfig",{dateFormat:"yyyy-MM-dd",closeOnDateSelection:!0}).directive("datepickerPopup",["$compile","$parse","$document","$position","dateFilter","datepickerPopupConfig",function(a,b,c,d,e,f){return{restrict:"EA",require:"ngModel",link:function(g,h,i,j){function k(a){t?t(g,!!a):r.isOpen=!!a}function l(a){if(a){if(angular.isDate(a))return j.$setValidity("date",!0),a;if(angular.isString(a)){var b=new Date(a);return isNaN(b)?(j.$setValidity("date",!1),void 0):(j.$setValidity("date",!0),b)}return j.$setValidity("date",!1),void 0}return j.$setValidity("date",!0),null}function m(){r.date=j.$modelValue,o()}function n(a,c,d){a&&(g.$watch(b(a),function(a){r[c]=a}),x.attr(d||c,c))}function o(){r.position=d.position(h),r.position.top=r.position.top+h.prop("offsetHeight")}var p=angular.isDefined(i.closeOnDateSelection)?r.$eval(i.closeOnDateSelection):f.closeOnDateSelection,q=i.datepickerPopup||f.dateFormat,r=g.$new();g.$on("$destroy",function(){r.$destroy()});var s,t;i.isOpen&&(s=b(i.isOpen),t=s.assign,g.$watch(s,function(a){r.isOpen=!!a})),r.isOpen=s?s(g):!1;var u=function(a){r.isOpen&&a.target!==h[0]&&r.$apply(function(){k(!1)})},v=function(){r.$apply(function(){k(!0)})},w=angular.element("<datepicker-popup-wrap><datepicker></datepicker></datepicker-popup-wrap>");w.attr({"ng-model":"date","ng-change":"dateSelection()"});var x=w.find("datepicker");i.datepickerOptions&&x.attr(angular.extend({},g.$eval(i.datepickerOptions))),j.$parsers.unshift(l),r.dateSelection=function(){j.$setViewValue(r.date),j.$render(),p&&k(!1)},h.bind("input change keyup",function(){r.$apply(function(){m()})}),j.$render=function(){var a=j.$viewValue?e(j.$viewValue,q):"";h.val(a),m()},n(i.min,"min"),n(i.max,"max"),i.showWeeks?n(i.showWeeks,"showWeeks","show-weeks"):(r.showWeeks=!0,x.attr("show-weeks","showWeeks")),i.dateDisabled&&x.attr("date-disabled",i.dateDisabled);var y=!1,z=!1;r.$watch("isOpen",function(a){a?(o(),c.bind("click",u),z&&h.unbind("focus",v),h[0].focus(),y=!0):(y&&c.unbind("click",u),h.bind("focus",v),z=!0),t&&t(g,a)});var A=b(i.ngModel).assign;r.today=function(){A(g,new Date)},r.clear=function(){A(g,null)},h.after(a(w)(r))}}}]).directive("datepickerPopupWrap",[function(){return{restrict:"E",replace:!0,transclude:!0,templateUrl:"template/datepicker/popup.html",link:function(a,b){b.bind("click",function(a){a.preventDefault(),a.stopPropagation()})}}}]),angular.module("ui.bootstrap.dropdownToggle",[]).directive("dropdownToggle",["$document","$location",function(a){var b=null,c=angular.noop;return{restrict:"CA",link:function(d,e){d.$watch("$location.path",function(){c()}),e.parent().bind("click",function(){c()}),e.bind("click",function(d){var f=e===b;d.preventDefault(),d.stopPropagation(),b&&c(),f||(e.parent().addClass("open"),b=e,c=function(d){d&&(d.preventDefault(),d.stopPropagation()),a.unbind("click",c),e.parent().removeClass("open"),c=angular.noop,b=null},a.bind("click",c))})}}}]),angular.module("ui.bootstrap.modal",[]).factory("$$stackedMap",function(){return{createNew:function(){var a=[];return{add:function(b,c){a.push({key:b,value:c})},get:function(b){for(var c=0;c<a.length;c++)if(b==a[c].key)return a[c]},keys:function(){for(var b=[],c=0;c<a.length;c++)b.push(a[c].key);return b},top:function(){return a[a.length-1]},remove:function(b){for(var c=-1,d=0;d<a.length;d++)if(b==a[d].key){c=d;break}return a.splice(c,1)[0]},removeTop:function(){return a.splice(a.length-1,1)[0]},length:function(){return a.length}}}}}).directive("modalBackdrop",["$timeout",function(a){return{restrict:"EA",replace:!0,templateUrl:"template/modal/backdrop.html",link:function(b){a(function(){b.animate=!0})}}}]).directive("modalWindow",["$modalStack","$timeout",function(a,b){return{restrict:"EA",scope:{index:"@"},replace:!0,transclude:!0,templateUrl:"template/modal/window.html",link:function(c,d,e){c.windowClass=e.windowClass||"",b(function(){c.animate=!0}),c.close=function(b){var c=a.getTop();c&&c.value.backdrop&&"static"!=c.value.backdrop&&b.target===b.currentTarget&&(b.preventDefault(),b.stopPropagation(),a.dismiss(c.key,"backdrop click"))}}}}]).factory("$modalStack",["$document","$compile","$rootScope","$$stackedMap",function(a,b,c,d){function e(){for(var a=-1,b=k.keys(),c=0;c<b.length;c++)k.get(b[c]).value.backdrop&&(a=c);return a}function f(a){var b=k.get(a).value;k.remove(a),b.modalDomEl.remove(),-1==e()&&(h.remove(),h=void 0),b.modalScope.$destroy()}var g,h,i=c.$new(!0),j=a.find("body").eq(0),k=d.createNew(),l={};return c.$watch(k.length,function(){j.toggleClass("modal-open",k.length()>0)}),c.$watch(e,function(a){i.index=a}),a.bind("keydown",function(a){var b;27===a.which&&(b=k.top(),b&&b.value.keyboard&&c.$apply(function(){l.dismiss(b.key)}))}),l.open=function(a,c){k.add(a,{deferred:c.deferred,modalScope:c.scope,backdrop:c.backdrop,keyboard:c.keyboard});var d=angular.element("<div modal-window></div>");d.attr("window-class",c.windowClass),d.attr("index",k.length()-1),d.html(c.content);var f=b(d)(c.scope);k.top().value.modalDomEl=f,j.append(f),e()>=0&&!h&&(g=angular.element("<div modal-backdrop></div>"),h=b(g)(i),j.append(h))},l.close=function(a,b){var c=k.get(a).value;c&&(c.deferred.resolve(b),f(a))},l.dismiss=function(a,b){var c=k.get(a).value;c&&(c.deferred.reject(b),f(a))},l.getTop=function(){return k.top()},l}]).provider("$modal",function(){var a={backdrop:!0,keyboard:!0};return{options:a,$get:["$injector","$rootScope","$q","$http","$templateCache","$controller","$modalStack",function(b,c,d,e,f,g,h){function i(a){return a.template?d.when(a.template):e.get(a.templateUrl,{cache:f}).then(function(a){return a.data})}function j(a){var c=[];return angular.forEach(a,function(a){(angular.isFunction(a)||angular.isArray(a))&&c.push(d.when(b.invoke(a)))}),c}var k={};return k.open=function(b){var e=d.defer(),f=d.defer(),k={result:e.promise,opened:f.promise,close:function(a){h.close(this,a)},dismiss:function(a){h.dismiss(this,a)}};if(b=angular.extend({},a,b),b.resolve=b.resolve||{},!b.template&&!b.templateUrl)throw new Error("One of template or templateUrl options is required.");var l=d.all([i(b)].concat(j(b.resolve)));return l.then(function(a){var d,f=(b.scope||c).$new(),i={},j=1;b.controller&&(i.$scope=f,i.$modalInstance=k,angular.forEach(b.resolve,function(b,c){i[c]=a[j++]}),d=g(b.controller,i)),h.open(k,{scope:f,deferred:e,content:a[0],backdrop:b.backdrop,keyboard:b.keyboard,windowClass:b.windowClass})},function(a){e.reject(a)}),l.then(function(){f.resolve(!0)},function(){f.reject(!1)}),k},k}]}}),angular.module("ui.bootstrap.pagination",[]).controller("PaginationController",["$scope","$attrs","$parse","$interpolate",function(a,b,c,d){var e=this;this.init=function(d){b.itemsPerPage?a.$parent.$watch(c(b.itemsPerPage),function(b){e.itemsPerPage=parseInt(b,10),a.totalPages=e.calculateTotalPages()}):this.itemsPerPage=d},this.noPrevious=function(){return 1===this.page},this.noNext=function(){return this.page===a.totalPages},this.isActive=function(a){return this.page===a},this.calculateTotalPages=function(){return this.itemsPerPage<1?1:Math.ceil(a.totalItems/this.itemsPerPage)},this.getAttributeValue=function(b,c,e){return angular.isDefined(b)?e?d(b)(a.$parent):a.$parent.$eval(b):c},this.render=function(){this.page=parseInt(a.page,10)||1,a.pages=this.getPages(this.page,a.totalPages)},a.selectPage=function(b){!e.isActive(b)&&b>0&&b<=a.totalPages&&(a.page=b,a.onSelectPage({page:b}))},a.$watch("totalItems",function(){a.totalPages=e.calculateTotalPages()}),a.$watch("totalPages",function(c){b.numPages&&(a.numPages=c),e.page>c?a.selectPage(c):e.render()}),a.$watch("page",function(){e.render()})}]).constant("paginationConfig",{itemsPerPage:10,boundaryLinks:!1,directionLinks:!0,firstText:"First",previousText:"Previous",nextText:"Next",lastText:"Last",rotate:!0}).directive("pagination",["$parse","paginationConfig",function(a,b){return{restrict:"EA",scope:{page:"=",totalItems:"=",onSelectPage:" &",numPages:"="},controller:"PaginationController",templateUrl:"template/pagination/pagination.html",replace:!0,link:function(c,d,e,f){function g(a,b,c,d){return{number:a,text:b,active:c,disabled:d}}var h,i=f.getAttributeValue(e.boundaryLinks,b.boundaryLinks),j=f.getAttributeValue(e.directionLinks,b.directionLinks),k=f.getAttributeValue(e.firstText,b.firstText,!0),l=f.getAttributeValue(e.previousText,b.previousText,!0),m=f.getAttributeValue(e.nextText,b.nextText,!0),n=f.getAttributeValue(e.lastText,b.lastText,!0),o=f.getAttributeValue(e.rotate,b.rotate);f.init(b.itemsPerPage),e.maxSize&&c.$parent.$watch(a(e.maxSize),function(a){h=parseInt(a,10),f.render()}),f.getPages=function(a,b){var c=[],d=1,e=b,p=angular.isDefined(h)&&b>h;p&&(o?(d=Math.max(a-Math.floor(h/2),1),e=d+h-1,e>b&&(e=b,d=e-h+1)):(d=(Math.ceil(a/h)-1)*h+1,e=Math.min(d+h-1,b)));for(var q=d;e>=q;q++){var r=g(q,q,f.isActive(q),!1);c.push(r)}if(p&&!o){if(d>1){var s=g(d-1,"...",!1,!1);c.unshift(s)}if(b>e){var t=g(e+1,"...",!1,!1);c.push(t)}}if(j){var u=g(a-1,l,!1,f.noPrevious());c.unshift(u);var v=g(a+1,m,!1,f.noNext());c.push(v)}if(i){var w=g(1,k,!1,f.noPrevious());c.unshift(w);var x=g(b,n,!1,f.noNext());c.push(x)}return c}}}}]).constant("pagerConfig",{itemsPerPage:10,previousText:"« Previous",nextText:"Next »",align:!0}).directive("pager",["pagerConfig",function(a){return{restrict:"EA",scope:{page:"=",totalItems:"=",onSelectPage:" &",numPages:"="},controller:"PaginationController",templateUrl:"template/pagination/pager.html",replace:!0,link:function(b,c,d,e){function f(a,b,c,d,e){return{number:a,text:b,disabled:c,previous:i&&d,next:i&&e}}var g=e.getAttributeValue(d.previousText,a.previousText,!0),h=e.getAttributeValue(d.nextText,a.nextText,!0),i=e.getAttributeValue(d.align,a.align);e.init(a.itemsPerPage),e.getPages=function(a){return[f(a-1,g,e.noPrevious(),!0,!1),f(a+1,h,e.noNext(),!1,!0)]}}}}]),angular.module("ui.bootstrap.tooltip",["ui.bootstrap.position","ui.bootstrap.bindHtml"]).provider("$tooltip",function(){function a(a){var b=/[A-Z]/g,c="-";return a.replace(b,function(a,b){return(b?c:"")+a.toLowerCase()})}var b={placement:"top",animation:!0,popupDelay:0},c={mouseenter:"mouseleave",click:"click",focus:"blur"},d={};this.options=function(a){angular.extend(d,a)},this.setTriggers=function(a){angular.extend(c,a)},this.$get=["$window","$compile","$timeout","$parse","$document","$position","$interpolate",function(e,f,g,h,i,j,k){return function(e,l,m){function n(a){var b=a||o.trigger||m,d=c[b]||b;return{show:b,hide:d}}var o=angular.extend({},b,d),p=a(e),q=k.startSymbol(),r=k.endSymbol(),s="<"+p+'-popup title="'+q+"tt_title"+r+'" content="'+q+"tt_content"+r+'" placement="'+q+"tt_placement"+r+'" animation="tt_animation()" is-open="tt_isOpen"></'+p+"-popup>";return{restrict:"EA",scope:!0,link:function(a,b,c){function d(){a.tt_isOpen?m():k()}function k(){a.tt_popupDelay?t=g(p,a.tt_popupDelay):a.$apply(p)}function m(){a.$apply(function(){q()})}function p(){var c,d,e,f;if(a.tt_content){switch(r&&g.cancel(r),v.css({top:0,left:0,display:"block"}),w?(u=u||i.find("body"),u.append(v)):b.after(v),c=w?j.offset(b):j.position(b),d=v.prop("offsetWidth"),e=v.prop("offsetHeight"),a.tt_placement){case"right":f={top:c.top+c.height/2-e/2,left:c.left+c.width};break;case"bottom":f={top:c.top+c.height,left:c.left+c.width/2-d/2};break;case"left":f={top:c.top+c.height/2-e/2,left:c.left-d};break;default:f={top:c.top-e,left:c.left+c.width/2-d/2}}f.top+="px",f.left+="px",v.css(f),a.tt_isOpen=!0}}function q(){a.tt_isOpen=!1,g.cancel(t),angular.isDefined(a.tt_animation)&&a.tt_animation()?r=g(function(){v.remove()},500):v.remove()}var r,t,u,v=f(s)(a),w=angular.isDefined(o.appendToBody)?o.appendToBody:!1,x=n(void 0),y=!1;a.tt_isOpen=!1,c.$observe(e,function(b){a.tt_content=b}),c.$observe(l+"Title",function(b){a.tt_title=b}),c.$observe(l+"Placement",function(b){a.tt_placement=angular.isDefined(b)?b:o.placement}),c.$observe(l+"Animation",function(b){a.tt_animation=angular.isDefined(b)?h(b):function(){return o.animation}}),c.$observe(l+"PopupDelay",function(b){var c=parseInt(b,10);a.tt_popupDelay=isNaN(c)?o.popupDelay:c}),c.$observe(l+"Trigger",function(a){y&&(b.unbind(x.show,k),b.unbind(x.hide,m)),x=n(a),x.show===x.hide?b.bind(x.show,d):(b.bind(x.show,k),b.bind(x.hide,m)),y=!0}),c.$observe(l+"AppendToBody",function(b){w=angular.isDefined(b)?h(b)(a):w}),w&&a.$on("$locationChangeSuccess",function(){a.tt_isOpen&&q()}),a.$on("$destroy",function(){a.tt_isOpen?q():v.remove()})}}}}]}).directive("tooltipPopup",function(){return{restrict:"E",replace:!0,scope:{content:"@",placement:"@",animation:"&",isOpen:"&"},templateUrl:"template/tooltip/tooltip-popup.html"}}).directive("tooltip",["$tooltip",function(a){return a("tooltip","tooltip","mouseenter")}]).directive("tooltipHtmlUnsafePopup",function(){return{restrict:"E",replace:!0,scope:{content:"@",placement:"@",animation:"&",isOpen:"&"},templateUrl:"template/tooltip/tooltip-html-unsafe-popup.html"}}).directive("tooltipHtmlUnsafe",["$tooltip",function(a){return a("tooltipHtmlUnsafe","tooltip","mouseenter")}]),angular.module("ui.bootstrap.popover",["ui.bootstrap.tooltip"]).directive("popoverPopup",function(){return{restrict:"EA",replace:!0,scope:{title:"@",content:"@",placement:"@",animation:"&",isOpen:"&"},templateUrl:"template/popover/popover.html"}}).directive("popover",["$compile","$timeout","$parse","$window","$tooltip",function(a,b,c,d,e){return e("popover","popover","click")}]),angular.module("ui.bootstrap.progressbar",["ui.bootstrap.transition"]).constant("progressConfig",{animate:!0,autoType:!1,stackedTypes:["success","info","warning","danger"]}).controller("ProgressBarController",["$scope","$attrs","progressConfig",function(a,b,c){function d(a){return g[a]}var e=angular.isDefined(b.animate)?a.$eval(b.animate):c.animate,f=angular.isDefined(b.autoType)?a.$eval(b.autoType):c.autoType,g=angular.isDefined(b.stackedTypes)?a.$eval("["+b.stackedTypes+"]"):c.stackedTypes;this.makeBar=function(a,b,c){var g=angular.isObject(a)?a.value:a||0,h=angular.isObject(b)?b.value:b||0,i=angular.isObject(a)&&angular.isDefined(a.type)?a.type:f?d(c||0):null;return{from:h,to:g,type:i,animate:e}},this.addBar=function(b){a.bars.push(b),a.totalPercent+=b.to},this.clearBars=function(){a.bars=[],a.totalPercent=0},this.clearBars()}]).directive("progress",function(){return{restrict:"EA",replace:!0,controller:"ProgressBarController",scope:{value:"=percent",onFull:"&",onEmpty:"&"},templateUrl:"template/progressbar/progress.html",link:function(a,b,c,d){a.$watch("value",function(a,b){if(d.clearBars(),angular.isArray(a))for(var c=0,e=a.length;e>c;c++)d.addBar(d.makeBar(a[c],b[c],c));else d.addBar(d.makeBar(a,b))},!0),a.$watch("totalPercent",function(b){b>=100?a.onFull():0>=b&&a.onEmpty()},!0)}}}).directive("progressbar",["$transition",function(a){return{restrict:"EA",replace:!0,scope:{width:"=",old:"=",type:"=",animate:"="},templateUrl:"template/progressbar/bar.html",link:function(b,c){b.$watch("width",function(d){b.animate?(c.css("width",b.old+"%"),a(c,{width:d+"%"})):c.css("width",d+"%")})}}}]),angular.module("ui.bootstrap.rating",[]).constant("ratingConfig",{max:5,stateOn:null,stateOff:null}).controller("RatingController",["$scope","$attrs","$parse","ratingConfig",function(a,b,c,d){this.maxRange=angular.isDefined(b.max)?a.$parent.$eval(b.max):d.max,this.stateOn=angular.isDefined(b.stateOn)?a.$parent.$eval(b.stateOn):d.stateOn,this.stateOff=angular.isDefined(b.stateOff)?a.$parent.$eval(b.stateOff):d.stateOff,this.createDefaultRange=function(a){for(var b={stateOn:this.stateOn,stateOff:this.stateOff},c=new Array(a),d=0;a>d;d++)c[d]=b;return c},this.normalizeRange=function(a){for(var b=0,c=a.length;c>b;b++)a[b].stateOn=a[b].stateOn||this.stateOn,a[b].stateOff=a[b].stateOff||this.stateOff;return a},a.range=angular.isDefined(b.ratingStates)?this.normalizeRange(angular.copy(a.$parent.$eval(b.ratingStates))):this.createDefaultRange(this.maxRange),a.rate=function(b){a.readonly||a.value===b||(a.value=b)},a.enter=function(b){a.readonly||(a.val=b),a.onHover({value:b})},a.reset=function(){a.val=angular.copy(a.value),a.onLeave()},a.$watch("value",function(b){a.val=b}),a.readonly=!1,b.readonly&&a.$parent.$watch(c(b.readonly),function(b){a.readonly=!!b})}]).directive("rating",function(){return{restrict:"EA",scope:{value:"=",onHover:"&",onLeave:"&"},controller:"RatingController",templateUrl:"template/rating/rating.html",replace:!0}}),angular.module("ui.bootstrap.tabs",[]).directive("tabs",function(){return function(){throw new Error("The `tabs` directive is deprecated, please migrate to `tabset`. Instructions can be found at http://github.com/angular-ui/bootstrap/tree/master/CHANGELOG.md")}}).controller("TabsetController",["$scope","$element",function(a){var b=this,c=b.tabs=a.tabs=[];b.select=function(a){angular.forEach(c,function(a){a.active=!1}),a.active=!0},b.addTab=function(a){c.push(a),(1===c.length||a.active)&&b.select(a)},b.removeTab=function(a){var d=c.indexOf(a);if(a.active&&c.length>1){var e=d==c.length-1?d-1:d+1;b.select(c[e])}c.splice(d,1)}}]).directive("tabset",function(){return{restrict:"EA",transclude:!0,replace:!0,require:"^tabset",scope:{},controller:"TabsetController",templateUrl:"template/tabs/tabset.html",compile:function(a,b,c){return function(a,b,d,e){a.vertical=angular.isDefined(d.vertical)?a.$parent.$eval(d.vertical):!1,a.justified=angular.isDefined(d.justified)?a.$parent.$eval(d.justified):!1,a.type=angular.isDefined(d.type)?a.$parent.$eval(d.type):"tabs",a.direction=angular.isDefined(d.direction)?a.$parent.$eval(d.direction):"top",a.tabsAbove="below"!=a.direction,e.$scope=a,e.$transcludeFn=c}}}}).directive("tab",["$parse","$http","$templateCache","$compile",function(a){return{require:"^tabset",restrict:"EA",replace:!0,templateUrl:"template/tabs/tab.html",transclude:!0,scope:{heading:"@",onSelect:"&select",onDeselect:"&deselect"},controller:function(){},compile:function(b,c,d){return function(b,c,e,f){var g,h;e.active?(g=a(e.active),h=g.assign,b.$parent.$watch(g,function(a){b.active=!!a}),b.active=g(b.$parent)):h=g=angular.noop,b.$watch("active",function(a){h(b.$parent,a),a?(f.select(b),b.onSelect()):b.onDeselect()}),b.disabled=!1,e.disabled&&b.$parent.$watch(a(e.disabled),function(a){b.disabled=!!a}),b.select=function(){b.disabled||(b.active=!0)},f.addTab(b),b.$on("$destroy",function(){f.removeTab(b)}),b.active&&h(b.$parent,!0),b.$transcludeFn=d}}}}]).directive("tabHeadingTransclude",[function(){return{restrict:"A",require:"^tab",link:function(a,b){a.$watch("headingElement",function(a){a&&(b.html(""),b.append(a))})}}}]).directive("tabContentTransclude",["$compile","$parse",function(){function a(a){return a.tagName&&(a.hasAttribute("tab-heading")||a.hasAttribute("data-tab-heading")||"tab-heading"===a.tagName.toLowerCase()||"data-tab-heading"===a.tagName.toLowerCase())}return{restrict:"A",require:"^tabset",link:function(b,c,d){var e=b.$eval(d.tabContentTransclude);e.$transcludeFn(e.$parent,function(b){angular.forEach(b,function(b){a(b)?e.headingElement=b:c.append(b)})})}}}]).directive("tabsetTitles",["$http",function(){return{restrict:"A",require:"^tabset",templateUrl:"template/tabs/tabset-titles.html",replace:!0,link:function(a,b,c,d){a.$eval(c.tabsetTitles)?d.$transcludeFn(d.$scope.$parent,function(a){b.append(a)}):b.remove()}}}]),angular.module("ui.bootstrap.timepicker",[]).constant("timepickerConfig",{hourStep:1,minuteStep:1,showMeridian:!0,meridians:["AM","PM"],readonlyInput:!1,mousewheel:!0}).directive("timepicker",["$parse","$log","timepickerConfig",function(a,b,c){return{restrict:"EA",require:"?^ngModel",replace:!0,scope:{},templateUrl:"template/timepicker/timepicker.html",link:function(d,e,f,g){function h(){var a=parseInt(d.hours,10),b=d.showMeridian?a>0&&13>a:a>=0&&24>a;return b?(d.showMeridian&&(12===a&&(a=0),d.meridian===p[1]&&(a+=12)),a):void 0}function i(){var a=parseInt(d.minutes,10);return a>=0&&60>a?a:void 0}function j(a){return angular.isDefined(a)&&a.toString().length<2?"0"+a:a}function k(a){l(),g.$setViewValue(new Date(o)),m(a)}function l(){g.$setValidity("time",!0),d.invalidHours=!1,d.invalidMinutes=!1}function m(a){var b=o.getHours(),c=o.getMinutes();d.showMeridian&&(b=0===b||12===b?12:b%12),d.hours="h"===a?b:j(b),d.minutes="m"===a?c:j(c),d.meridian=o.getHours()<12?p[0]:p[1]}function n(a){var b=new Date(o.getTime()+6e4*a);o.setHours(b.getHours(),b.getMinutes()),k()}if(g){var o=new Date,p=c.meridians,q=c.hourStep;f.hourStep&&d.$parent.$watch(a(f.hourStep),function(a){q=parseInt(a,10)});var r=c.minuteStep;f.minuteStep&&d.$parent.$watch(a(f.minuteStep),function(a){r=parseInt(a,10)}),d.showMeridian=c.showMeridian,f.showMeridian&&d.$parent.$watch(a(f.showMeridian),function(a){if(d.showMeridian=!!a,g.$error.time){var b=h(),c=i();angular.isDefined(b)&&angular.isDefined(c)&&(o.setHours(b),k())}else m()});var s=e.find("input"),t=s.eq(0),u=s.eq(1),v=angular.isDefined(f.mousewheel)?d.$eval(f.mousewheel):c.mousewheel;if(v){var w=function(a){a.originalEvent&&(a=a.originalEvent);var b=a.wheelDelta?a.wheelDelta:-a.deltaY;return a.detail||b>0};t.bind("mousewheel wheel",function(a){d.$apply(w(a)?d.incrementHours():d.decrementHours()),a.preventDefault()}),u.bind("mousewheel wheel",function(a){d.$apply(w(a)?d.incrementMinutes():d.decrementMinutes()),a.preventDefault()})}if(d.readonlyInput=angular.isDefined(f.readonlyInput)?d.$eval(f.readonlyInput):c.readonlyInput,d.readonlyInput)d.updateHours=angular.noop,d.updateMinutes=angular.noop;else{var x=function(a,b){g.$setViewValue(null),g.$setValidity("time",!1),angular.isDefined(a)&&(d.invalidHours=a),angular.isDefined(b)&&(d.invalidMinutes=b)};d.updateHours=function(){var a=h();angular.isDefined(a)?(o.setHours(a),k("h")):x(!0)},t.bind("blur",function(){!d.validHours&&d.hours<10&&d.$apply(function(){d.hours=j(d.hours)})}),d.updateMinutes=function(){var a=i();angular.isDefined(a)?(o.setMinutes(a),k("m")):x(void 0,!0)},u.bind("blur",function(){!d.invalidMinutes&&d.minutes<10&&d.$apply(function(){d.minutes=j(d.minutes)
})})}g.$render=function(){var a=g.$modelValue?new Date(g.$modelValue):null;isNaN(a)?(g.$setValidity("time",!1),b.error('Timepicker directive: "ng-model" value must be a Date object, a number of milliseconds since 01.01.1970 or a string representing an RFC2822 or ISO 8601 date.')):(a&&(o=a),l(),m())},d.incrementHours=function(){n(60*q)},d.decrementHours=function(){n(60*-q)},d.incrementMinutes=function(){n(r)},d.decrementMinutes=function(){n(-r)},d.toggleMeridian=function(){n(720*(o.getHours()<12?1:-1))}}}}}]),angular.module("ui.bootstrap.typeahead",["ui.bootstrap.position","ui.bootstrap.bindHtml"]).factory("typeaheadParser",["$parse",function(a){var b=/^\s*(.*?)(?:\s+as\s+(.*?))?\s+for\s+(?:([\$\w][\$\w\d]*))\s+in\s+(.*)$/;return{parse:function(c){var d=c.match(b);if(!d)throw new Error("Expected typeahead specification in form of '_modelValue_ (as _label_)? for _item_ in _collection_' but got '"+c+"'.");return{itemName:d[3],source:a(d[4]),viewMapper:a(d[2]||d[1]),modelMapper:a(d[1])}}}}]).directive("typeahead",["$compile","$parse","$q","$timeout","$document","$position","typeaheadParser",function(a,b,c,d,e,f,g){var h=[9,13,27,38,40];return{require:"ngModel",link:function(i,j,k,l){var m=i.$eval(k.typeaheadMinLength)||1,n=i.$eval(k.typeaheadWaitMs)||0,o=i.$eval(k.typeaheadEditable)!==!1,p=b(k.typeaheadLoading).assign||angular.noop,q=b(k.typeaheadOnSelect),r=k.typeaheadInputFormatter?b(k.typeaheadInputFormatter):void 0,s=b(k.ngModel).assign,t=g.parse(k.typeahead),u=angular.element("<typeahead-popup></typeahead-popup>");u.attr({matches:"matches",active:"activeIdx",select:"select(activeIdx)",query:"query",position:"position"}),angular.isDefined(k.typeaheadTemplateUrl)&&u.attr("template-url",k.typeaheadTemplateUrl);var v=i.$new();i.$on("$destroy",function(){v.$destroy()});var w=function(){v.matches=[],v.activeIdx=-1},x=function(a){var b={$viewValue:a};p(i,!0),c.when(t.source(v,b)).then(function(c){if(a===l.$viewValue){if(c.length>0){v.activeIdx=0,v.matches.length=0;for(var d=0;d<c.length;d++)b[t.itemName]=c[d],v.matches.push({label:t.viewMapper(v,b),model:c[d]});v.query=a,v.position=f.position(j),v.position.top=v.position.top+j.prop("offsetHeight")}else w();p(i,!1)}},function(){w(),p(i,!1)})};w(),v.query=void 0;var y;l.$parsers.unshift(function(a){return w(),a&&a.length>=m&&(n>0?(y&&d.cancel(y),y=d(function(){x(a)},n)):x(a)),o?a:(l.$setValidity("editable",!1),void 0)}),l.$formatters.push(function(a){var b,c,d={};return r?(d.$model=a,r(i,d)):(d[t.itemName]=a,b=t.viewMapper(i,d),d[t.itemName]=void 0,c=t.viewMapper(i,d),b!==c?b:a)}),v.select=function(a){var b,c,d={};d[t.itemName]=c=v.matches[a].model,b=t.modelMapper(i,d),s(i,b),l.$setValidity("editable",!0),q(i,{$item:c,$model:b,$label:t.viewMapper(i,d)}),w(),j[0].focus()},j.bind("keydown",function(a){0!==v.matches.length&&-1!==h.indexOf(a.which)&&(a.preventDefault(),40===a.which?(v.activeIdx=(v.activeIdx+1)%v.matches.length,v.$digest()):38===a.which?(v.activeIdx=(v.activeIdx?v.activeIdx:v.matches.length)-1,v.$digest()):13===a.which||9===a.which?v.$apply(function(){v.select(v.activeIdx)}):27===a.which&&(a.stopPropagation(),w(),v.$digest()))});var z=function(a){j[0]!==a.target&&(w(),v.$digest())};e.bind("click",z),i.$on("$destroy",function(){e.unbind("click",z)}),j.after(a(u)(v))}}}]).directive("typeaheadPopup",function(){return{restrict:"E",scope:{matches:"=",query:"=",active:"=",position:"=",select:"&"},replace:!0,templateUrl:"template/typeahead/typeahead-popup.html",link:function(a,b,c){a.templateUrl=c.templateUrl,a.isOpen=function(){return a.matches.length>0},a.isActive=function(b){return a.active==b},a.selectActive=function(b){a.active=b},a.selectMatch=function(b){a.select({activeIdx:b})}}}}).directive("typeaheadMatch",["$http","$templateCache","$compile","$parse",function(a,b,c,d){return{restrict:"E",scope:{index:"=",match:"=",query:"="},link:function(e,f,g){var h=d(g.templateUrl)(e.$parent)||"template/typeahead/typeahead-match.html";a.get(h,{cache:b}).success(function(a){f.replaceWith(c(a.trim())(e))})}}}]).filter("typeaheadHighlight",function(){function a(a){return a.replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")}return function(b,c){return c?b.replace(new RegExp(a(c),"gi"),"<strong>$&</strong>"):b}}),angular.module("template/accordion/accordion-group.html",[]).run(["$templateCache",function(a){a.put("template/accordion/accordion-group.html",'<div class="panel panel-default">\n  <div class="panel-heading">\n    <h4 class="panel-title">\n      <a href="" class="accordion-toggle" ng-click="isOpen = !isOpen" accordion-transclude="heading">{{heading}}</a>\n    </h4>\n  </div>\n  <div class="panel-collapse" collapse="!isOpen">\n	  <div class="panel-body" ng-transclude></div>\n  </div>\n</div>')}]),angular.module("template/accordion/accordion.html",[]).run(["$templateCache",function(a){a.put("template/accordion/accordion.html",'<div class="panel-group" ng-transclude></div>')}]),angular.module("template/alert/alert.html",[]).run(["$templateCache",function(a){a.put("template/alert/alert.html","<div class='alert' ng-class='\"alert-\" + (type || \"warning\")'>\n    <button ng-show='closeable' type='button' class='close' ng-click='close()'>&times;</button>\n    <div ng-transclude></div>\n</div>\n")}]),angular.module("template/carousel/carousel.html",[]).run(["$templateCache",function(a){a.put("template/carousel/carousel.html",'<div ng-mouseenter="pause()" ng-mouseleave="play()" class="carousel">\n    <ol class="carousel-indicators" ng-show="slides().length > 1">\n        <li ng-repeat="slide in slides()" ng-class="{active: isActive(slide)}" ng-click="select(slide)"></li>\n    </ol>\n    <div class="carousel-inner" ng-transclude></div>\n    <a class="left carousel-control" ng-click="prev()" ng-show="slides().length > 1"><span class="icon-prev"></span></a>\n    <a class="right carousel-control" ng-click="next()" ng-show="slides().length > 1"><span class="icon-next"></span></a>\n</div>\n')}]),angular.module("template/carousel/slide.html",[]).run(["$templateCache",function(a){a.put("template/carousel/slide.html","<div ng-class=\"{\n    'active': leaving || (active && !entering),\n    'prev': (next || active) && direction=='prev',\n    'next': (next || active) && direction=='next',\n    'right': direction=='prev',\n    'left': direction=='next'\n  }\" class=\"item text-center\" ng-transclude></div>\n")}]),angular.module("template/datepicker/datepicker.html",[]).run(["$templateCache",function(a){a.put("template/datepicker/datepicker.html",'<table style="table-layout:fixed;" class="table-condensed">\n  <!-- secondary: last month, disabled: disabled -->\n  <thead class="text-center">\n    <tr>\n      <th style="overflow: hidden; min-width: 26px">\n        <button type="button" class="btn btn-xs btn-link" ng-click="move(-1)"> \n          <span class="glyphicon glyphicon-chevron-left"> </span> \n        </button>\n      </th>\n      <th colspan="{{rows[0].length - 2 + showWeekNumbers}}"><button type="button" class="btn btn-md btn-link btn-block" ng-click="toggleMode()"><strong>{{title}}</strong></button></th>\n      <th style="overflow: hidden; min-width: 26px">\n        <button type="button" class="btn btn-xs btn-link" ng-click="move(1)"> \n          <span class="glyphicon glyphicon-chevron-right"> </span> \n        </button>\n      </th>\n    </tr>\n    <tr ng-show="labels.length > 0">\n      <th class="text-center" ng-show="showWeekNumbers" style="overflow: hidden; min-width: 26px"><h6>#</h6></th>\n      <th class="text-center" ng-repeat="label in labels" style="overflow: hidden; min-width: 26px"><h6>{{label}}</h6></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr ng-repeat="row in rows">\n      <td ng-show="showWeekNumbers" class="text-center" style="overflow: hidden; min-width: 26px"><button type="button" class="btn btn-xs btn-link" disabled><strong><em>{{ getWeekNumber(row) }}</em></strong></button></td>\n      <td ng-repeat="dt in row" class="text-center" style="overflow: hidden; min-width: 26px">\n        <button type="button" style="width: 100%; border: 0px" class="btn btn-xs" ng-class="{\'btn-primary\': dt.selected, \'btn-default\': !dt.selected}" ng-click="select(dt.date)" ng-disabled="dt.disabled"><span ng-class="{\'text-muted\': dt.secondary && !dt.selected}">{{dt.label}}</span></button>\n      </td>\n    </tr>\n  </tbody>\n</table>')}]),angular.module("template/datepicker/popup.html",[]).run(["$templateCache",function(a){a.put("template/datepicker/popup.html",'<ul class="dropdown-menu" ng-style="{display: (isOpen && \'block\') || \'none\', top: position.top+\'px\', left: position.left+\'px\'}" class="dropdown-menu">\n	<li ng-transclude></li>\n	<li class="divider"></li>\n	<li style="padding: 9px;">\n		<span class="btn-group">\n			<button class="btn btn-xs btn-default" ng-click="today()">Today</button>\n			<button class="btn btn-xs btn-info" ng-click="showWeeks = ! showWeeks" ng-class="{active: showWeeks}">Weeks</button>\n			<button class="btn btn-xs btn-danger" ng-click="clear()">Clear</button>\n		</span>\n		<button class="btn btn-xs btn-success pull-right" ng-click="isOpen = false">Close</button>\n	</li>\n</ul>')}]),angular.module("template/modal/backdrop.html",[]).run(["$templateCache",function(a){a.put("template/modal/backdrop.html",'<div class="modal-backdrop fade" ng-class="{in: animate}" ng-style="{\'z-index\': 1040 + index*10}"></div>')}]),angular.module("template/modal/window.html",[]).run(["$templateCache",function(a){a.put("template/modal/window.html",'<div class="modal fade {{ windowClass }}" ng-class="{in: animate}" ng-style="{\'z-index\': 1050 + index*10, display: \'block\'}" ng-click="close($event)">\n    <div class="modal-dialog"><div class="modal-content" ng-transclude></div></div>\n</div>')}]),angular.module("template/pagination/pager.html",[]).run(["$templateCache",function(a){a.put("template/pagination/pager.html",'<ul class="pager">\n    <li ng-repeat="page in pages" ng-class="{disabled: page.disabled, previous: page.previous, next: page.next}"><a ng-click="selectPage(page.number)">{{page.text}}</a></li>\n</ul>')}]),angular.module("template/pagination/pagination.html",[]).run(["$templateCache",function(a){a.put("template/pagination/pagination.html",'<ul class="pagination">\n  <li ng-repeat="page in pages" ng-class="{active: page.active, disabled: page.disabled}"><a ng-click="selectPage(page.number)">{{page.text}}</a></li>\n</ul>\n')}]),angular.module("template/tooltip/tooltip-html-unsafe-popup.html",[]).run(["$templateCache",function(a){a.put("template/tooltip/tooltip-html-unsafe-popup.html",'<div class="tooltip {{placement}}" ng-class="{ in: isOpen(), fade: animation() }">\n  <div class="tooltip-arrow"></div>\n  <div class="tooltip-inner" ng-bind-html-unsafe="content"></div>\n</div>\n')}]),angular.module("template/tooltip/tooltip-popup.html",[]).run(["$templateCache",function(a){a.put("template/tooltip/tooltip-popup.html",'<div class="tooltip {{placement}}" ng-class="{ in: isOpen(), fade: animation() }">\n  <div class="tooltip-arrow"></div>\n  <div class="tooltip-inner" ng-bind="content"></div>\n</div>\n')}]),angular.module("template/popover/popover.html",[]).run(["$templateCache",function(a){a.put("template/popover/popover.html",'<div class="popover {{placement}}" ng-class="{ in: isOpen(), fade: animation() }">\n  <div class="arrow"></div>\n\n  <div class="popover-inner">\n      <h3 class="popover-title" ng-bind="title" ng-show="title"></h3>\n      <div class="popover-content" ng-bind="content"></div>\n  </div>\n</div>\n')}]),angular.module("template/progressbar/bar.html",[]).run(["$templateCache",function(a){a.put("template/progressbar/bar.html",'<div class="bar" ng-class=\'type && "bar-" + type\'></div>')}]),angular.module("template/progressbar/progress.html",[]).run(["$templateCache",function(a){a.put("template/progressbar/progress.html",'<div class="progress"><progressbar ng-repeat="bar in bars" width="bar.to" old="bar.from" animate="bar.animate" type="bar.type"></progressbar></div>')}]),angular.module("template/rating/rating.html",[]).run(["$templateCache",function(a){a.put("template/rating/rating.html",'<span ng-mouseleave="reset()">\n	<i ng-repeat="r in range" ng-mouseenter="enter($index + 1)" ng-click="rate($index + 1)" ng-class="$index < val && (r.stateOn || \'icon-star\') || (r.stateOff || \'icon-star-empty\')"></i>\n</span>')}]),angular.module("template/tabs/tab.html",[]).run(["$templateCache",function(a){a.put("template/tabs/tab.html",'<li ng-class="{active: active, disabled: disabled}">\n  <a ng-click="select()" tab-heading-transclude>{{heading}}</a>\n</li>\n')}]),angular.module("template/tabs/tabset-titles.html",[]).run(["$templateCache",function(a){a.put("template/tabs/tabset-titles.html","<ul class=\"nav {{type && 'nav-' + type}}\" ng-class=\"{'nav-stacked': vertical, 'nav-justified': justified}\">\n</ul>\n")}]),angular.module("template/tabs/tabset.html",[]).run(["$templateCache",function(a){a.put("template/tabs/tabset.html",'\n<div class="tabbable" ng-class="{\'tabs-right\': direction == \'right\', \'tabs-left\': direction == \'left\', \'tabs-below\': direction == \'below\'}">\n  <div tabset-titles="tabsAbove"></div>\n  <div class="tab-content">\n    <div class="tab-pane" \n         ng-repeat="tab in tabs" \n         ng-class="{active: tab.active}"\n         tab-content-transclude="tab">\n    </div>\n  </div>\n  <div tabset-titles="!tabsAbove"></div>\n</div>\n')}]),angular.module("template/timepicker/timepicker.html",[]).run(["$templateCache",function(a){a.put("template/timepicker/timepicker.html",'<span>\n    <div class="row">\n        <div class="col-xs-4 text-center">\n            <a ng-click="incrementHours()" class="btn btn-link"><i class="glyphicon glyphicon-chevron-up"></i></a>\n        </div>\n        <div class="col-xs-6 text-center">\n            <a ng-click="incrementMinutes()" class="btn btn-link"><i class="glyphicon glyphicon-chevron-up"></i></a>\n        </div>\n        <div class="col-xs-2"> </div>\n    </div>\n\n    <div class="row">\n        <div class="col-xs-4">\n            <div class="form-group" ng-class="{\'has-error\': invalidHours}" style="margin-bottom: 0px">\n                <input type="text" ng-model="hours" ng-change="updateHours()" class="form-control text-center" ng-mousewheel="incrementHours()" ng-readonly="readonlyInput" maxlength="2"> \n            </div>\n        </div>\n        <div class="col-xs-6">\n            <div class="input-group" ng-class="{\'has-error\': invalidMinutes}">\n                <span class="input-group-addon">:</span>\n                <input type="text" ng-model="minutes" ng-change="updateMinutes()" class="form-control text-center" ng-readonly="readonlyInput" maxlength="2">\n            </div>\n        </div>\n        <div class="col-xs-2">\n            <button ng-click="toggleMeridian()" class="btn btn-default text-center" ng-show="showMeridian">{{meridian}}</button>\n        </div>\n    </div>\n\n    <div class="row">\n        <div class="col-xs-4 text-center">\n            <a ng-click="decrementHours()" class="btn btn-link"><i class="glyphicon glyphicon-chevron-down"></i></a>\n        </div>\n        <div class="col-xs-6 text-center">\n            <a ng-click="decrementMinutes()" class="btn btn-link"><i class="glyphicon glyphicon-chevron-down"></i></a>\n        </div>\n        <div class="col-xs-2"> </div>\n    </div>\n</span>')}]),angular.module("template/typeahead/typeahead-match.html",[]).run(["$templateCache",function(a){a.put("template/typeahead/typeahead-match.html",'<a tabindex="-1" bind-html-unsafe="match.label | typeaheadHighlight:query"></a>')}]),angular.module("template/typeahead/typeahead-popup.html",[]).run(["$templateCache",function(a){a.put("template/typeahead/typeahead-popup.html","<ul class=\"dropdown-menu\" ng-style=\"{display: isOpen()&&'block' || 'none', top: position.top+'px', left: position.left+'px'}\">\n"+'    <li ng-repeat="match in matches" ng-class="{active: isActive($index) }" ng-mouseenter="selectActive($index)" ng-click="selectMatch($index)">\n        <typeahead-match index="$index" match="match" query="query" template-url="templateUrl"></typeahead-match>\n    </li>\n</ul>')}]),!jQuery)throw new Error("Bootstrap requires jQuery");+function(a){function b(){var a=document.createElement("bootstrap"),b={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var c in b)if(void 0!==a.style[c])return{end:b[c]}}a.fn.emulateTransitionEnd=function(b){var c=!1,d=this;a(this).one(a.support.transition.end,function(){c=!0});var e=function(){c||a(d).trigger(a.support.transition.end)};return setTimeout(e,b),this},a(function(){a.support.transition=b()})}(window.jQuery),+function(a){var b='[data-dismiss="alert"]',c=function(c){a(c).on("click",b,this.close)};c.prototype.close=function(b){function c(){f.trigger("closed.bs.alert").remove()}var d=a(this),e=d.attr("data-target");e||(e=d.attr("href"),e=e&&e.replace(/.*(?=#[^\s]*$)/,""));var f=a(e);b&&b.preventDefault(),f.length||(f=d.hasClass("alert")?d:d.parent()),f.trigger(b=a.Event("close.bs.alert")),b.isDefaultPrevented()||(f.removeClass("in"),a.support.transition&&f.hasClass("fade")?f.one(a.support.transition.end,c).emulateTransitionEnd(150):c())};var d=a.fn.alert;a.fn.alert=function(b){return this.each(function(){var d=a(this),e=d.data("bs.alert");e||d.data("bs.alert",e=new c(this)),"string"==typeof b&&e[b].call(d)})},a.fn.alert.Constructor=c,a.fn.alert.noConflict=function(){return a.fn.alert=d,this},a(document).on("click.bs.alert.data-api",b,c.prototype.close)}(window.jQuery),+function(a){var b=function(c,d){this.$element=a(c),this.options=a.extend({},b.DEFAULTS,d)};b.DEFAULTS={loadingText:"loading..."},b.prototype.setState=function(a){var b="disabled",c=this.$element,d=c.is("input")?"val":"html",e=c.data();a+="Text",e.resetText||c.data("resetText",c[d]()),c[d](e[a]||this.options[a]),setTimeout(function(){"loadingText"==a?c.addClass(b).attr(b,b):c.removeClass(b).removeAttr(b)},0)},b.prototype.toggle=function(){var a=this.$element.closest('[data-toggle="buttons"]');if(a.length){var b=this.$element.find("input").prop("checked",!this.$element.hasClass("active")).trigger("change");"radio"===b.prop("type")&&a.find(".active").removeClass("active")}this.$element.toggleClass("active")};var c=a.fn.button;a.fn.button=function(c){return this.each(function(){var d=a(this),e=d.data("bs.button"),f="object"==typeof c&&c;e||d.data("bs.button",e=new b(this,f)),"toggle"==c?e.toggle():c&&e.setState(c)})},a.fn.button.Constructor=b,a.fn.button.noConflict=function(){return a.fn.button=c,this},a(document).on("click.bs.button.data-api","[data-toggle^=button]",function(b){var c=a(b.target);c.hasClass("btn")||(c=c.closest(".btn")),c.button("toggle"),b.preventDefault()})}(window.jQuery),+function(a){var b=function(b,c){this.$element=a(b),this.$indicators=this.$element.find(".carousel-indicators"),this.options=c,this.paused=this.sliding=this.interval=this.$active=this.$items=null,"hover"==this.options.pause&&this.$element.on("mouseenter",a.proxy(this.pause,this)).on("mouseleave",a.proxy(this.cycle,this))};b.DEFAULTS={interval:5e3,pause:"hover",wrap:!0},b.prototype.cycle=function(b){return b||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(a.proxy(this.next,this),this.options.interval)),this},b.prototype.getActiveIndex=function(){return this.$active=this.$element.find(".item.active"),this.$items=this.$active.parent().children(),this.$items.index(this.$active)},b.prototype.to=function(b){var c=this,d=this.getActiveIndex();return b>this.$items.length-1||0>b?void 0:this.sliding?this.$element.one("slid",function(){c.to(b)}):d==b?this.pause().cycle():this.slide(b>d?"next":"prev",a(this.$items[b]))},b.prototype.pause=function(b){return b||(this.paused=!0),this.$element.find(".next, .prev").length&&a.support.transition.end&&(this.$element.trigger(a.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this},b.prototype.next=function(){return this.sliding?void 0:this.slide("next")},b.prototype.prev=function(){return this.sliding?void 0:this.slide("prev")},b.prototype.slide=function(b,c){var d=this.$element.find(".item.active"),e=c||d[b](),f=this.interval,g="next"==b?"left":"right",h="next"==b?"first":"last",i=this;if(!e.length){if(!this.options.wrap)return;e=this.$element.find(".item")[h]()}this.sliding=!0,f&&this.pause();var j=a.Event("slide.bs.carousel",{relatedTarget:e[0],direction:g});if(!e.hasClass("active")){if(this.$indicators.length&&(this.$indicators.find(".active").removeClass("active"),this.$element.one("slid",function(){var b=a(i.$indicators.children()[i.getActiveIndex()]);b&&b.addClass("active")})),a.support.transition&&this.$element.hasClass("slide")){if(this.$element.trigger(j),j.isDefaultPrevented())return;e.addClass(b),e[0].offsetWidth,d.addClass(g),e.addClass(g),d.one(a.support.transition.end,function(){e.removeClass([b,g].join(" ")).addClass("active"),d.removeClass(["active",g].join(" ")),i.sliding=!1,setTimeout(function(){i.$element.trigger("slid")},0)}).emulateTransitionEnd(600)}else{if(this.$element.trigger(j),j.isDefaultPrevented())return;d.removeClass("active"),e.addClass("active"),this.sliding=!1,this.$element.trigger("slid")}return f&&this.cycle(),this}};var c=a.fn.carousel;a.fn.carousel=function(c){return this.each(function(){var d=a(this),e=d.data("bs.carousel"),f=a.extend({},b.DEFAULTS,d.data(),"object"==typeof c&&c),g="string"==typeof c?c:f.slide;e||d.data("bs.carousel",e=new b(this,f)),"number"==typeof c?e.to(c):g?e[g]():f.interval&&e.pause().cycle()})},a.fn.carousel.Constructor=b,a.fn.carousel.noConflict=function(){return a.fn.carousel=c,this},a(document).on("click.bs.carousel.data-api","[data-slide], [data-slide-to]",function(b){var c,d=a(this),e=a(d.attr("data-target")||(c=d.attr("href"))&&c.replace(/.*(?=#[^\s]+$)/,"")),f=a.extend({},e.data(),d.data()),g=d.attr("data-slide-to");g&&(f.interval=!1),e.carousel(f),(g=d.attr("data-slide-to"))&&e.data("bs.carousel").to(g),b.preventDefault()}),a(window).on("load",function(){a('[data-ride="carousel"]').each(function(){var b=a(this);b.carousel(b.data())})})}(window.jQuery),+function(a){var b=function(c,d){this.$element=a(c),this.options=a.extend({},b.DEFAULTS,d),this.transitioning=null,this.options.parent&&(this.$parent=a(this.options.parent)),this.options.toggle&&this.toggle()};b.DEFAULTS={toggle:!0},b.prototype.dimension=function(){var a=this.$element.hasClass("width");return a?"width":"height"},b.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var b=a.Event("show.bs.collapse");if(this.$element.trigger(b),!b.isDefaultPrevented()){var c=this.$parent&&this.$parent.find("> .panel > .in");if(c&&c.length){var d=c.data("bs.collapse");if(d&&d.transitioning)return;c.collapse("hide"),d||c.data("bs.collapse",null)}var e=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[e](0),this.transitioning=1;var f=function(){this.$element.removeClass("collapsing").addClass("in")[e]("auto"),this.transitioning=0,this.$element.trigger("shown.bs.collapse")};if(!a.support.transition)return f.call(this);var g=a.camelCase(["scroll",e].join("-"));this.$element.one(a.support.transition.end,a.proxy(f,this)).emulateTransitionEnd(350)[e](this.$element[0][g])}}},b.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var b=a.Event("hide.bs.collapse");if(this.$element.trigger(b),!b.isDefaultPrevented()){var c=this.dimension();this.$element[c](this.$element[c]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse").removeClass("in"),this.transitioning=1;var d=function(){this.transitioning=0,this.$element.trigger("hidden.bs.collapse").removeClass("collapsing").addClass("collapse")};return a.support.transition?(this.$element[c](0).one(a.support.transition.end,a.proxy(d,this)).emulateTransitionEnd(350),void 0):d.call(this)}}},b.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()};var c=a.fn.collapse;a.fn.collapse=function(c){return this.each(function(){var d=a(this),e=d.data("bs.collapse"),f=a.extend({},b.DEFAULTS,d.data(),"object"==typeof c&&c);e||d.data("bs.collapse",e=new b(this,f)),"string"==typeof c&&e[c]()})},a.fn.collapse.Constructor=b,a.fn.collapse.noConflict=function(){return a.fn.collapse=c,this},a(document).on("click.bs.collapse.data-api","[data-toggle=collapse]",function(b){var c,d=a(this),e=d.attr("data-target")||b.preventDefault()||(c=d.attr("href"))&&c.replace(/.*(?=#[^\s]+$)/,""),f=a(e),g=f.data("bs.collapse"),h=g?"toggle":d.data(),i=d.attr("data-parent"),j=i&&a(i);g&&g.transitioning||(j&&j.find('[data-toggle=collapse][data-parent="'+i+'"]').not(d).addClass("collapsed"),d[f.hasClass("in")?"addClass":"removeClass"]("collapsed")),f.collapse(h)})}(window.jQuery),+function(a){function b(){a(d).remove(),a(e).each(function(b){var d=c(a(this));d.hasClass("open")&&(d.trigger(b=a.Event("hide.bs.dropdown")),b.isDefaultPrevented()||d.removeClass("open").trigger("hidden.bs.dropdown"))})}function c(b){var c=b.attr("data-target");c||(c=b.attr("href"),c=c&&/#/.test(c)&&c.replace(/.*(?=#[^\s]*$)/,""));var d=c&&a(c);return d&&d.length?d:b.parent()}var d=".dropdown-backdrop",e="[data-toggle=dropdown]",f=function(b){a(b).on("click.bs.dropdown",this.toggle)};f.prototype.toggle=function(d){var e=a(this);if(!e.is(".disabled, :disabled")){var f=c(e),g=f.hasClass("open");if(b(),!g){if("ontouchstart"in document.documentElement&&!f.closest(".navbar-nav").length&&a('<div class="dropdown-backdrop"/>').insertAfter(a(this)).on("click",b),f.trigger(d=a.Event("show.bs.dropdown")),d.isDefaultPrevented())return;f.toggleClass("open").trigger("shown.bs.dropdown"),e.focus()}return!1}},f.prototype.keydown=function(b){if(/(38|40|27)/.test(b.keyCode)){var d=a(this);if(b.preventDefault(),b.stopPropagation(),!d.is(".disabled, :disabled")){var f=c(d),g=f.hasClass("open");if(!g||g&&27==b.keyCode)return 27==b.which&&f.find(e).focus(),d.click();var h=a("[role=menu] li:not(.divider):visible a",f);if(h.length){var i=h.index(h.filter(":focus"));38==b.keyCode&&i>0&&i--,40==b.keyCode&&i<h.length-1&&i++,~i||(i=0),h.eq(i).focus()}}}};var g=a.fn.dropdown;a.fn.dropdown=function(b){return this.each(function(){var c=a(this),d=c.data("dropdown");d||c.data("dropdown",d=new f(this)),"string"==typeof b&&d[b].call(c)})},a.fn.dropdown.Constructor=f,a.fn.dropdown.noConflict=function(){return a.fn.dropdown=g,this},a(document).on("click.bs.dropdown.data-api",b).on("click.bs.dropdown.data-api",".dropdown form",function(a){a.stopPropagation()}).on("click.bs.dropdown.data-api",e,f.prototype.toggle).on("keydown.bs.dropdown.data-api",e+", [role=menu]",f.prototype.keydown)}(window.jQuery),+function(a){var b=function(b,c){this.options=c,this.$element=a(b),this.$backdrop=this.isShown=null,this.options.remote&&this.$element.load(this.options.remote)};b.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},b.prototype.toggle=function(a){return this[this.isShown?"hide":"show"](a)},b.prototype.show=function(b){var c=this,d=a.Event("show.bs.modal",{relatedTarget:b});this.$element.trigger(d),this.isShown||d.isDefaultPrevented()||(this.isShown=!0,this.escape(),this.$element.on("click.dismiss.modal",'[data-dismiss="modal"]',a.proxy(this.hide,this)),this.backdrop(function(){var d=a.support.transition&&c.$element.hasClass("fade");c.$element.parent().length||c.$element.appendTo(document.body),c.$element.show(),d&&c.$element[0].offsetWidth,c.$element.addClass("in").attr("aria-hidden",!1),c.enforceFocus();var e=a.Event("shown.bs.modal",{relatedTarget:b});d?c.$element.find(".modal-dialog").one(a.support.transition.end,function(){c.$element.focus().trigger(e)}).emulateTransitionEnd(300):c.$element.focus().trigger(e)}))},b.prototype.hide=function(b){b&&b.preventDefault(),b=a.Event("hide.bs.modal"),this.$element.trigger(b),this.isShown&&!b.isDefaultPrevented()&&(this.isShown=!1,this.escape(),a(document).off("focusin.bs.modal"),this.$element.removeClass("in").attr("aria-hidden",!0).off("click.dismiss.modal"),a.support.transition&&this.$element.hasClass("fade")?this.$element.one(a.support.transition.end,a.proxy(this.hideModal,this)).emulateTransitionEnd(300):this.hideModal())},b.prototype.enforceFocus=function(){a(document).off("focusin.bs.modal").on("focusin.bs.modal",a.proxy(function(a){this.$element[0]===a.target||this.$element.has(a.target).length||this.$element.focus()},this))},b.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keyup.dismiss.bs.modal",a.proxy(function(a){27==a.which&&this.hide()},this)):this.isShown||this.$element.off("keyup.dismiss.bs.modal")},b.prototype.hideModal=function(){var a=this;this.$element.hide(),this.backdrop(function(){a.removeBackdrop(),a.$element.trigger("hidden.bs.modal")})},b.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},b.prototype.backdrop=function(b){var c=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var d=a.support.transition&&c;if(this.$backdrop=a('<div class="modal-backdrop '+c+'" />').appendTo(document.body),this.$element.on("click.dismiss.modal",a.proxy(function(a){a.target===a.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus.call(this.$element[0]):this.hide.call(this))},this)),d&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!b)return;d?this.$backdrop.one(a.support.transition.end,b).emulateTransitionEnd(150):b()}else!this.isShown&&this.$backdrop?(this.$backdrop.removeClass("in"),a.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one(a.support.transition.end,b).emulateTransitionEnd(150):b()):b&&b()};var c=a.fn.modal;a.fn.modal=function(c,d){return this.each(function(){var e=a(this),f=e.data("bs.modal"),g=a.extend({},b.DEFAULTS,e.data(),"object"==typeof c&&c);f||e.data("bs.modal",f=new b(this,g)),"string"==typeof c?f[c](d):g.show&&f.show(d)})},a.fn.modal.Constructor=b,a.fn.modal.noConflict=function(){return a.fn.modal=c,this},a(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(b){var c=a(this),d=c.attr("href"),e=a(c.attr("data-target")||d&&d.replace(/.*(?=#[^\s]+$)/,"")),f=e.data("modal")?"toggle":a.extend({remote:!/#/.test(d)&&d},e.data(),c.data());b.preventDefault(),e.modal(f,this).one("hide",function(){c.is(":visible")&&c.focus()})}),a(document).on("show.bs.modal",".modal",function(){a(document.body).addClass("modal-open")}).on("hidden.bs.modal",".modal",function(){a(document.body).removeClass("modal-open")})}(window.jQuery),+function(a){var b=function(a,b){this.type=this.options=this.enabled=this.timeout=this.hoverState=this.$element=null,this.init("tooltip",a,b)};b.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1},b.prototype.init=function(b,c,d){this.enabled=!0,this.type=b,this.$element=a(c),this.options=this.getOptions(d);for(var e=this.options.trigger.split(" "),f=e.length;f--;){var g=e[f];if("click"==g)this.$element.on("click."+this.type,this.options.selector,a.proxy(this.toggle,this));else if("manual"!=g){var h="hover"==g?"mouseenter":"focus",i="hover"==g?"mouseleave":"blur";this.$element.on(h+"."+this.type,this.options.selector,a.proxy(this.enter,this)),this.$element.on(i+"."+this.type,this.options.selector,a.proxy(this.leave,this))}}this.options.selector?this._options=a.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},b.prototype.getDefaults=function(){return b.DEFAULTS},b.prototype.getOptions=function(b){return b=a.extend({},this.getDefaults(),this.$element.data(),b),b.delay&&"number"==typeof b.delay&&(b.delay={show:b.delay,hide:b.delay}),b},b.prototype.getDelegateOptions=function(){var b={},c=this.getDefaults();return this._options&&a.each(this._options,function(a,d){c[a]!=d&&(b[a]=d)}),b},b.prototype.enter=function(b){var c=b instanceof this.constructor?b:a(b.currentTarget)[this.type](this.getDelegateOptions()).data("bs."+this.type);
return clearTimeout(c.timeout),c.hoverState="in",c.options.delay&&c.options.delay.show?(c.timeout=setTimeout(function(){"in"==c.hoverState&&c.show()},c.options.delay.show),void 0):c.show()},b.prototype.leave=function(b){var c=b instanceof this.constructor?b:a(b.currentTarget)[this.type](this.getDelegateOptions()).data("bs."+this.type);return clearTimeout(c.timeout),c.hoverState="out",c.options.delay&&c.options.delay.hide?(c.timeout=setTimeout(function(){"out"==c.hoverState&&c.hide()},c.options.delay.hide),void 0):c.hide()},b.prototype.show=function(){var b=a.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){if(this.$element.trigger(b),b.isDefaultPrevented())return;var c=this.tip();this.setContent(),this.options.animation&&c.addClass("fade");var d="function"==typeof this.options.placement?this.options.placement.call(this,c[0],this.$element[0]):this.options.placement,e=/\s?auto?\s?/i,f=e.test(d);f&&(d=d.replace(e,"")||"top"),c.detach().css({top:0,left:0,display:"block"}).addClass(d),this.options.container?c.appendTo(this.options.container):c.insertAfter(this.$element);var g=this.getPosition(),h=c[0].offsetWidth,i=c[0].offsetHeight;if(f){var j=this.$element.parent(),k=d,l=document.documentElement.scrollTop||document.body.scrollTop,m="body"==this.options.container?window.innerWidth:j.outerWidth(),n="body"==this.options.container?window.innerHeight:j.outerHeight(),o="body"==this.options.container?0:j.offset().left;d="bottom"==d&&g.top+g.height+i-l>n?"top":"top"==d&&g.top-l-i<0?"bottom":"right"==d&&g.right+h>m?"left":"left"==d&&g.left-h<o?"right":d,c.removeClass(k).addClass(d)}var p=this.getCalculatedOffset(d,g,h,i);this.applyPlacement(p,d),this.$element.trigger("shown.bs."+this.type)}},b.prototype.applyPlacement=function(a,b){var c,d=this.tip(),e=d[0].offsetWidth,f=d[0].offsetHeight,g=parseInt(d.css("margin-top"),10),h=parseInt(d.css("margin-left"),10);isNaN(g)&&(g=0),isNaN(h)&&(h=0),a.top=a.top+g,a.left=a.left+h,d.offset(a).addClass("in");var i=d[0].offsetWidth,j=d[0].offsetHeight;if("top"==b&&j!=f&&(c=!0,a.top=a.top+f-j),/bottom|top/.test(b)){var k=0;a.left<0&&(k=-2*a.left,a.left=0,d.offset(a),i=d[0].offsetWidth,j=d[0].offsetHeight),this.replaceArrow(k-e+i,i,"left")}else this.replaceArrow(j-f,j,"top");c&&d.offset(a)},b.prototype.replaceArrow=function(a,b,c){this.arrow().css(c,a?50*(1-a/b)+"%":"")},b.prototype.setContent=function(){var a=this.tip(),b=this.getTitle();a.find(".tooltip-inner")[this.options.html?"html":"text"](b),a.removeClass("fade in top bottom left right")},b.prototype.hide=function(){function b(){"in"!=c.hoverState&&d.detach()}var c=this,d=this.tip(),e=a.Event("hide.bs."+this.type);return this.$element.trigger(e),e.isDefaultPrevented()?void 0:(d.removeClass("in"),a.support.transition&&this.$tip.hasClass("fade")?d.one(a.support.transition.end,b).emulateTransitionEnd(150):b(),this.$element.trigger("hidden.bs."+this.type),this)},b.prototype.fixTitle=function(){var a=this.$element;(a.attr("title")||"string"!=typeof a.attr("data-original-title"))&&a.attr("data-original-title",a.attr("title")||"").attr("title","")},b.prototype.hasContent=function(){return this.getTitle()},b.prototype.getPosition=function(){var b=this.$element[0];return a.extend({},"function"==typeof b.getBoundingClientRect?b.getBoundingClientRect():{width:b.offsetWidth,height:b.offsetHeight},this.$element.offset())},b.prototype.getCalculatedOffset=function(a,b,c,d){return"bottom"==a?{top:b.top+b.height,left:b.left+b.width/2-c/2}:"top"==a?{top:b.top-d,left:b.left+b.width/2-c/2}:"left"==a?{top:b.top+b.height/2-d/2,left:b.left-c}:{top:b.top+b.height/2-d/2,left:b.left+b.width}},b.prototype.getTitle=function(){var a,b=this.$element,c=this.options;return a=b.attr("data-original-title")||("function"==typeof c.title?c.title.call(b[0]):c.title)},b.prototype.tip=function(){return this.$tip=this.$tip||a(this.options.template)},b.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},b.prototype.validate=function(){this.$element[0].parentNode||(this.hide(),this.$element=null,this.options=null)},b.prototype.enable=function(){this.enabled=!0},b.prototype.disable=function(){this.enabled=!1},b.prototype.toggleEnabled=function(){this.enabled=!this.enabled},b.prototype.toggle=function(b){var c=b?a(b.currentTarget)[this.type](this.getDelegateOptions()).data("bs."+this.type):this;c.tip().hasClass("in")?c.leave(c):c.enter(c)},b.prototype.destroy=function(){this.hide().$element.off("."+this.type).removeData("bs."+this.type)};var c=a.fn.tooltip;a.fn.tooltip=function(c){return this.each(function(){var d=a(this),e=d.data("bs.tooltip"),f="object"==typeof c&&c;e||d.data("bs.tooltip",e=new b(this,f)),"string"==typeof c&&e[c]()})},a.fn.tooltip.Constructor=b,a.fn.tooltip.noConflict=function(){return a.fn.tooltip=c,this}}(window.jQuery),+function(a){var b=function(a,b){this.init("popover",a,b)};if(!a.fn.tooltip)throw new Error("Popover requires tooltip.js");b.DEFAULTS=a.extend({},a.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),b.prototype=a.extend({},a.fn.tooltip.Constructor.prototype),b.prototype.constructor=b,b.prototype.getDefaults=function(){return b.DEFAULTS},b.prototype.setContent=function(){var a=this.tip(),b=this.getTitle(),c=this.getContent();a.find(".popover-title")[this.options.html?"html":"text"](b),a.find(".popover-content")[this.options.html?"html":"text"](c),a.removeClass("fade top bottom left right in"),a.find(".popover-title").html()||a.find(".popover-title").hide()},b.prototype.hasContent=function(){return this.getTitle()||this.getContent()},b.prototype.getContent=function(){var a=this.$element,b=this.options;return a.attr("data-content")||("function"==typeof b.content?b.content.call(a[0]):b.content)},b.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")},b.prototype.tip=function(){return this.$tip||(this.$tip=a(this.options.template)),this.$tip};var c=a.fn.popover;a.fn.popover=function(c){return this.each(function(){var d=a(this),e=d.data("bs.popover"),f="object"==typeof c&&c;e||d.data("bs.popover",e=new b(this,f)),"string"==typeof c&&e[c]()})},a.fn.popover.Constructor=b,a.fn.popover.noConflict=function(){return a.fn.popover=c,this}}(window.jQuery),+function(a){function b(c,d){var e,f=a.proxy(this.process,this);this.$element=a(c).is("body")?a(window):a(c),this.$body=a("body"),this.$scrollElement=this.$element.on("scroll.bs.scroll-spy.data-api",f),this.options=a.extend({},b.DEFAULTS,d),this.selector=(this.options.target||(e=a(c).attr("href"))&&e.replace(/.*(?=#[^\s]+$)/,"")||"")+" .nav li > a",this.offsets=a([]),this.targets=a([]),this.activeTarget=null,this.refresh(),this.process()}b.DEFAULTS={offset:10},b.prototype.refresh=function(){var b=this.$element[0]==window?"offset":"position";this.offsets=a([]),this.targets=a([]);var c=this;this.$body.find(this.selector).map(function(){var d=a(this),e=d.data("target")||d.attr("href"),f=/^#\w/.test(e)&&a(e);return f&&f.length&&[[f[b]().top+(!a.isWindow(c.$scrollElement.get(0))&&c.$scrollElement.scrollTop()),e]]||null}).sort(function(a,b){return a[0]-b[0]}).each(function(){c.offsets.push(this[0]),c.targets.push(this[1])})},b.prototype.process=function(){var a,b=this.$scrollElement.scrollTop()+this.options.offset,c=this.$scrollElement[0].scrollHeight||this.$body[0].scrollHeight,d=c-this.$scrollElement.height(),e=this.offsets,f=this.targets,g=this.activeTarget;if(b>=d)return g!=(a=f.last()[0])&&this.activate(a);for(a=e.length;a--;)g!=f[a]&&b>=e[a]&&(!e[a+1]||b<=e[a+1])&&this.activate(f[a])},b.prototype.activate=function(b){this.activeTarget=b,a(this.selector).parents(".active").removeClass("active");var c=this.selector+'[data-target="'+b+'"],'+this.selector+'[href="'+b+'"]',d=a(c).parents("li").addClass("active");d.parent(".dropdown-menu").length&&(d=d.closest("li.dropdown").addClass("active")),d.trigger("activate")};var c=a.fn.scrollspy;a.fn.scrollspy=function(c){return this.each(function(){var d=a(this),e=d.data("bs.scrollspy"),f="object"==typeof c&&c;e||d.data("bs.scrollspy",e=new b(this,f)),"string"==typeof c&&e[c]()})},a.fn.scrollspy.Constructor=b,a.fn.scrollspy.noConflict=function(){return a.fn.scrollspy=c,this},a(window).on("load",function(){a('[data-spy="scroll"]').each(function(){var b=a(this);b.scrollspy(b.data())})})}(window.jQuery),+function(a){var b=function(b){this.element=a(b)};b.prototype.show=function(){var b=this.element,c=b.closest("ul:not(.dropdown-menu)"),d=b.attr("data-target");if(d||(d=b.attr("href"),d=d&&d.replace(/.*(?=#[^\s]*$)/,"")),!b.parent("li").hasClass("active")){var e=c.find(".active:last a")[0],f=a.Event("show.bs.tab",{relatedTarget:e});if(b.trigger(f),!f.isDefaultPrevented()){var g=a(d);this.activate(b.parent("li"),c),this.activate(g,g.parent(),function(){b.trigger({type:"shown.bs.tab",relatedTarget:e})})}}},b.prototype.activate=function(b,c,d){function e(){f.removeClass("active").find("> .dropdown-menu > .active").removeClass("active"),b.addClass("active"),g?(b[0].offsetWidth,b.addClass("in")):b.removeClass("fade"),b.parent(".dropdown-menu")&&b.closest("li.dropdown").addClass("active"),d&&d()}var f=c.find("> .active"),g=d&&a.support.transition&&f.hasClass("fade");g?f.one(a.support.transition.end,e).emulateTransitionEnd(150):e(),f.removeClass("in")};var c=a.fn.tab;a.fn.tab=function(c){return this.each(function(){var d=a(this),e=d.data("bs.tab");e||d.data("bs.tab",e=new b(this)),"string"==typeof c&&e[c]()})},a.fn.tab.Constructor=b,a.fn.tab.noConflict=function(){return a.fn.tab=c,this},a(document).on("click.bs.tab.data-api",'[data-toggle="tab"], [data-toggle="pill"]',function(b){b.preventDefault(),a(this).tab("show")})}(window.jQuery),+function(a){var b=function(c,d){this.options=a.extend({},b.DEFAULTS,d),this.$window=a(window).on("scroll.bs.affix.data-api",a.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",a.proxy(this.checkPositionWithEventLoop,this)),this.$element=a(c),this.affixed=this.unpin=null,this.checkPosition()};b.RESET="affix affix-top affix-bottom",b.DEFAULTS={offset:0},b.prototype.checkPositionWithEventLoop=function(){setTimeout(a.proxy(this.checkPosition,this),1)},b.prototype.checkPosition=function(){if(this.$element.is(":visible")){var c=a(document).height(),d=this.$window.scrollTop(),e=this.$element.offset(),f=this.options.offset,g=f.top,h=f.bottom;"object"!=typeof f&&(h=g=f),"function"==typeof g&&(g=f.top()),"function"==typeof h&&(h=f.bottom());var i=null!=this.unpin&&d+this.unpin<=e.top?!1:null!=h&&e.top+this.$element.height()>=c-h?"bottom":null!=g&&g>=d?"top":!1;this.affixed!==i&&(this.unpin&&this.$element.css("top",""),this.affixed=i,this.unpin="bottom"==i?e.top-d:null,this.$element.removeClass(b.RESET).addClass("affix"+(i?"-"+i:"")),"bottom"==i&&this.$element.offset({top:document.body.offsetHeight-h-this.$element.height()}))}};var c=a.fn.affix;a.fn.affix=function(c){return this.each(function(){var d=a(this),e=d.data("bs.affix"),f="object"==typeof c&&c;e||d.data("bs.affix",e=new b(this,f)),"string"==typeof c&&e[c]()})},a.fn.affix.Constructor=b,a.fn.affix.noConflict=function(){return a.fn.affix=c,this},a(window).on("load",function(){a('[data-spy="affix"]').each(function(){var b=a(this),c=b.data();c.offset=c.offset||{},c.offsetBottom&&(c.offset.bottom=c.offsetBottom),c.offsetTop&&(c.offset.top=c.offsetTop),b.affix(c)})})}(window.jQuery),angular.module("ui.event",[]).directive("uiEvent",["$parse",function(a){return function(b,c,d){var e=b.$eval(d.uiEvent);angular.forEach(e,function(d,e){var f=a(d);c.bind(e,function(a){var c=Array.prototype.slice.call(arguments);c=c.splice(1),f(b,{$event:a,$params:c}),b.$$phase||b.$apply()})})}}]),angular.module("ui.format",[]).filter("format",function(){return function(a,b){if(!a)return a;var c,d=a.toString();return void 0===b?d:angular.isArray(b)||angular.isObject(b)?(c=angular.isArray(b)&&"$"||":",angular.forEach(b,function(a,b){d=d.split(c+b).join(a)}),d):d.split("$0").join(b)}}),angular.module("ui.highlight",[]).filter("highlight",function(){return function(a,b,c){return b||angular.isNumber(b)?(a=a.toString(),b=b.toString(),c?a.split(b).join('<span class="ui-match">'+b+"</span>"):a.replace(new RegExp(b,"gi"),'<span class="ui-match">$&</span>')):a}}),angular.module("ui.indeterminate",[]).directive("uiIndeterminate",[function(){return{compile:function(a,b){return b.type&&"checkbox"===b.type.toLowerCase()?function(a,b,c){a.$watch(c.uiIndeterminate,function(a){b[0].indeterminate=!!a})}:angular.noop}}}]),angular.module("ui.inflector",[]).filter("inflector",function(){function a(a){return a.replace(/^([a-z])|\s+([a-z])/g,function(a){return a.toUpperCase()})}function b(a,b){return a.replace(/[A-Z]/g,function(a){return b+a})}var c={humanize:function(c){return a(b(c," ").split("_").join(" "))},underscore:function(a){return a.substr(0,1).toLowerCase()+b(a.substr(1),"_").toLowerCase().split(" ").join("_")},variable:function(b){return b=b.substr(0,1).toLowerCase()+a(b.split("_").join(" ")).substr(1).split(" ").join("")}};return function(a,b){return b!==!1&&angular.isString(a)?(b=b||"humanize",c[b](a)):a}}),angular.module("ui.jq",[]).value("uiJqConfig",{}).directive("uiJq",["uiJqConfig","$timeout",function(a,b){return{restrict:"A",compile:function(c,d){if(!angular.isFunction(c[d.uiJq]))throw new Error('ui-jq: The "'+d.uiJq+'" function does not exist');var e=a&&a[d.uiJq];return function(a,c,d){function f(){b(function(){c[d.uiJq].apply(c,g)},0,!1)}var g=[];d.uiOptions?(g=a.$eval("["+d.uiOptions+"]"),angular.isObject(e)&&angular.isObject(g[0])&&(g[0]=angular.extend({},e,g[0]))):e&&(g=[e]),d.ngModel&&c.is("select,input,textarea")&&c.bind("change",function(){c.trigger("input")}),d.uiRefresh&&a.$watch(d.uiRefresh,function(){f()}),f()}}}}]),angular.module("ui.keypress",[]).factory("keypressHelper",["$parse",function(a){var b={8:"backspace",9:"tab",13:"enter",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"insert",46:"delete"},c=function(a){return a.charAt(0).toUpperCase()+a.slice(1)};return function(d,e,f,g){var h,i=[];h=e.$eval(g["ui"+c(d)]),angular.forEach(h,function(b,c){var d,e;e=a(b),angular.forEach(c.split(" "),function(a){d={expression:e,keys:{}},angular.forEach(a.split("-"),function(a){d.keys[a]=!0}),i.push(d)})}),f.bind(d,function(a){var c=!(!a.metaKey||a.ctrlKey),f=!!a.altKey,g=!!a.ctrlKey,h=!!a.shiftKey,j=a.keyCode;"keypress"===d&&!h&&j>=97&&122>=j&&(j-=32),angular.forEach(i,function(d){var i=d.keys[b[a.keyCode]]||d.keys[a.keyCode.toString()],j=!!d.keys.meta,k=!!d.keys.alt,l=!!d.keys.ctrl,m=!!d.keys.shift;i&&j===c&&k===f&&l===g&&m===h&&e.$apply(function(){d.expression(e,{$event:a})})})})}}]),angular.module("ui.keypress").directive("uiKeydown",["keypressHelper",function(a){return{link:function(b,c,d){a("keydown",b,c,d)}}}]),angular.module("ui.keypress").directive("uiKeypress",["keypressHelper",function(a){return{link:function(b,c,d){a("keypress",b,c,d)}}}]),angular.module("ui.keypress").directive("uiKeyup",["keypressHelper",function(a){return{link:function(b,c,d){a("keyup",b,c,d)}}}]),angular.module("ui.mask",[]).directive("uiMask",[function(){var a={9:/\d/,A:/[a-zA-Z]/,"*":/[a-zA-Z0-9]/};return{priority:100,require:"ngModel",restrict:"A",link:function(b,c,d,e){function f(a){return angular.isDefined(a)?(p(a),K?(j(),k(),void 0):i()):i()}function g(a){return K?(D=n(a||""),F=m(D),e.$setValidity("mask",F),F&&D.length?o(D):void 0):a}function h(a){return K?(D=n(a||""),F=m(D),viewValue=D.length?o(D):"",e.$viewValue=viewValue,e.$setValidity("mask",F),""===D&&void 0!==e.$error.required&&e.$setValidity("required",!1),F?D:void 0):a}function i(){return K=!1,l(),angular.isDefined(M)?c.attr("placeholder",M):c.removeAttr("placeholder"),angular.isDefined(N)?c.attr("maxlength",N):c.removeAttr("maxlength"),c.val(e.$modelValue),e.$viewValue=e.$modelValue,!1}function j(){D=H=n(e.$modelValue||""),E=G=o(D),F=m(D),viewValue=F&&D.length?E:"",d.maxlength&&c.attr("maxlength",2*y[y.length-1]),c.attr("placeholder",A),c.val(viewValue),e.$viewValue=viewValue}function k(){return L?!0:(c.bind("blur",q),c.bind("mousedown mouseup",r),c.bind("input keyup click",t),L=!0,void 0)}function l(){return L?(c.unbind("blur",q),c.unbind("mousedown",r),c.unbind("mouseup",r),c.unbind("input",t),c.unbind("keyup",t),c.unbind("click",t),L=!1,void 0):!0}function m(a){return a.length?a.length>=C:!0}function n(a){var b="",c=z.slice();return a=a.toString(),angular.forEach(B,function(b){a=a.replace(b,"")}),angular.forEach(a.split(""),function(a){c.length&&c[0].test(a)&&(b+=a,c.shift())}),b}function o(a){var b="",c=y.slice();return angular.forEach(A.split(""),function(d,e){a.length&&e===c[0]?(b+=a.charAt(0)||"_",a=a.substr(1),c.shift()):b+=d}),b}function p(b){var c=0;if(y=[],z=[],A="","string"==typeof b){C=0;var d=!1;angular.forEach(b.split(""),function(b){a[b]?(y.push(c),A+="_",z.push(a[b]),c++,d||C++):"?"===b?d=!0:(A+=b,c++)})}y.push(y.slice().pop()+1),B=A.replace(/[_]+/g,"_").replace(/([^_]+)([a-zA-Z0-9])([^_])/g,"$1$2_$3").split("_"),K=y.length>1?!0:!1}function q(){I=0,J=0,F&&0!==D.length||(E="",c.val(""),b.$apply(function(){e.$setViewValue("")}))}function r(a){"mousedown"===a.type?c.bind("mouseout",s):c.unbind("mouseout",s)}function s(){J=x(this),c.unbind("mouseout",s)}function t(a){a=a||{};var d=a.which,f=a.type;if(16===d||91===d)return!0;var g,h=c.val(),i=G,j=n(h),k=H,l=!1,m=v(this)||0,p=I||0,q=m-p,r=y[0],s=y[j.length]||y.slice().shift(),t=x(this),z=J||0,A=t>0,B=z>0,C=h.length>i.length||z&&h.length>i.length-z,D=h.length<i.length||z&&h.length===i.length-z,E=d>=37&&40>=d&&a.shiftKey,F=37===d,K=8===d||"keyup"!==f&&D&&-1===q,L=46===d||"keyup"!==f&&D&&0===q&&!B,M=(F||K||"click"===f)&&m>r;if(J=t,E||A&&("click"===f||"keyup"===f))return!0;if("input"===f&&D&&!B&&j===k){for(;K&&m>r&&!u(m);)m--;for(;L&&s>m&&-1===y.indexOf(m);)m++;var N=y.indexOf(m);j=j.substring(0,N)+j.substring(N+1),l=!0}for(g=o(j),G=g,H=j,c.val(g),l&&b.$apply(function(){e.$setViewValue(j)}),C&&r>=m&&(m=r+1),M&&m--,m=m>s?s:r>m?r:m;!u(m)&&m>r&&s>m;)m+=M?-1:1;(M&&s>m||C&&!u(p))&&m++,I=m,w(this,m)}function u(a){return y.indexOf(a)>-1}function v(a){if(void 0!==a.selectionStart)return a.selectionStart;if(document.selection){a.focus();var b=document.selection.createRange();return b.moveStart("character",-a.value.length),b.text.length}}function w(a,b){if(0===a.offsetWidth||0===a.offsetHeight)return!0;if(a.setSelectionRange)a.focus(),a.setSelectionRange(b,b);else if(a.createTextRange){var c=a.createTextRange();c.collapse(!0),c.moveEnd("character",b),c.moveStart("character",b),c.select()}}function x(a){return void 0!==a.selectionStart?a.selectionEnd-a.selectionStart:document.selection?document.selection.createRange().text.length:void 0}var y,z,A,B,C,D,E,F,G,H,I,J,K=!1,L=!1,M=d.placeholder,N=d.maxlength;d.$observe("uiMask",f),e.$formatters.push(g),e.$parsers.push(h),c.bind("mousedown mouseup",r),Array.prototype.indexOf||(Array.prototype.indexOf=function(a){if(null===this)throw new TypeError;var b=Object(this),c=b.length>>>0;if(0===c)return-1;var d=0;if(arguments.length>1&&(d=Number(arguments[1]),d!==d?d=0:0!==d&&1/0!==d&&d!==-1/0&&(d=(d>0||-1)*Math.floor(Math.abs(d)))),d>=c)return-1;for(var e=d>=0?d:Math.max(c-Math.abs(d),0);c>e;e++)if(e in b&&b[e]===a)return e;return-1})}}}]),angular.module("ui.reset",[]).value("uiResetConfig",null).directive("uiReset",["uiResetConfig",function(a){var b=null;return void 0!==a&&(b=a),{require:"ngModel",link:function(a,c,d,e){var f;f=angular.element('<a class="ui-reset" />'),c.wrap('<span class="ui-resetwrap" />').after(f),f.bind("click",function(c){c.preventDefault(),a.$apply(function(){d.uiReset?e.$setViewValue(a.$eval(d.uiReset)):e.$setViewValue(b),e.$render()})})}}}]),angular.module("ui.route",[]).directive("uiRoute",["$location","$parse",function(a,b){return{restrict:"AC",scope:!0,compile:function(c,d){var e;if(d.uiRoute)e="uiRoute";else if(d.ngHref)e="ngHref";else{if(!d.href)throw new Error("uiRoute missing a route or href property on "+c[0]);e="href"}return function(c,d,f){function g(b){(hash=b.indexOf("#"))>-1&&(b=b.substr(hash+1)),j=function(){i(c,a.path().indexOf(b)>-1)},j()}function h(b){(hash=b.indexOf("#"))>-1&&(b=b.substr(hash+1)),j=function(){var d=new RegExp("^"+b+"$",["i"]);i(c,d.test(a.path()))},j()}var i=b(f.ngModel||f.routeModel||"$uiRoute").assign,j=angular.noop;switch(e){case"uiRoute":f.uiRoute?h(f.uiRoute):f.$observe("uiRoute",h);break;case"ngHref":f.ngHref?g(f.ngHref):f.$observe("ngHref",g);break;case"href":g(f.href)}c.$on("$routeChangeSuccess",function(){j()})}}}}]),angular.module("ui.scrollfix",[]).directive("uiScrollfix",["$window",function(a){return{require:"^?uiScrollfixTarget",link:function(b,c,d,e){var f=c[0].offsetTop,g=e&&e.$element||angular.element(a);d.uiScrollfix?"-"===d.uiScrollfix.charAt(0)?d.uiScrollfix=f-d.uiScrollfix.substr(1):"+"===d.uiScrollfix.charAt(0)&&(d.uiScrollfix=f+parseFloat(d.uiScrollfix.substr(1))):d.uiScrollfix=f,g.bind("scroll.ui-scrollfix",function(){var b;if(angular.isDefined(a.pageYOffset))b=a.pageYOffset;else{var e=document.compatMode&&"BackCompat"!==document.compatMode?document.documentElement:document.body;b=e.scrollTop}!c.hasClass("ui-scrollfix")&&b>d.uiScrollfix?c.addClass("ui-scrollfix"):c.hasClass("ui-scrollfix")&&b<d.uiScrollfix&&c.removeClass("ui-scrollfix")})}}}]).directive("uiScrollfixTarget",[function(){return{controller:function(a){this.$element=a}}}]),angular.module("ui.showhide",[]).directive("uiShow",[function(){return function(a,b,c){a.$watch(c.uiShow,function(a){a?b.addClass("ui-show"):b.removeClass("ui-show")})}}]).directive("uiHide",[function(){return function(a,b,c){a.$watch(c.uiHide,function(a){a?b.addClass("ui-hide"):b.removeClass("ui-hide")})}}]).directive("uiToggle",[function(){return function(a,b,c){a.$watch(c.uiToggle,function(a){a?b.removeClass("ui-hide").addClass("ui-show"):b.removeClass("ui-show").addClass("ui-hide")})}}]),angular.module("ui.unique",[]).filter("unique",["$parse",function(a){return function(b,c){if(c===!1)return b;if((c||angular.isUndefined(c))&&angular.isArray(b)){var d=[],e=angular.isString(c)?a(c):function(a){return a},f=function(a){return angular.isObject(a)?e(a):a};angular.forEach(b,function(a){for(var b=!1,c=0;c<d.length;c++)if(angular.equals(f(d[c]),f(a))){b=!0;break}b||d.push(a)}),b=d}return b}}]),angular.module("ui.validate",[]).directive("uiValidate",function(){return{restrict:"A",require:"ngModel",link:function(a,b,c,d){var e,f,g={},h=a.$eval(c.uiValidate);h&&(angular.isString(h)&&(h={validator:h}),angular.forEach(h,function(b,c){e=function(e){var f=a.$eval(b,{$value:e});return angular.isFunction(f.then)?(f.then(function(){d.$setValidity(c,!0)},function(){d.$setValidity(c,!1)}),e):f?(d.$setValidity(c,!0),e):(d.$setValidity(c,!1),void 0)},g[c]=e,d.$formatters.push(e),d.$parsers.push(e)}),c.uiValidateWatch&&(f=a.$eval(c.uiValidateWatch),angular.isString(f)?a.$watch(f,function(){angular.forEach(g,function(a){a(d.$modelValue)})}):angular.forEach(f,function(b,c){a.$watch(b,function(){g[c](d.$modelValue)})})))}}}),angular.module("ui.utils",["ui.event","ui.format","ui.highlight","ui.indeterminate","ui.inflector","ui.jq","ui.keypress","ui.mask","ui.reset","ui.route","ui.scrollfix","ui.showhide","ui.unique","ui.validate"]),function(m,g,n){function h(a){var d={};a=a.split(",");var c;for(c=0;c<a.length;c++)d[a[c]]=!0;return d}function C(a,d){function c(a,b,c,f){if(b=g.lowercase(b),r[b])for(;e.last()&&s[e.last()];)k("",e.last());t[b]&&e.last()==b&&k("",b),(f=u[b]||!!f)||e.push(b);var l={};c.replace(D,function(a,b,d,c,e){l[b]=p(d||c||e||"")}),d.start&&d.start(b,l,f)}function k(a,b){var k,c=0;if(b=g.lowercase(b))for(c=e.length-1;c>=0&&e[c]!=b;c--);if(c>=0){for(k=e.length-1;k>=c;k--)d.end&&d.end(e[k]);e.length=c}}var b,f,e=[],l=a;for(e.last=function(){return e[e.length-1]};a;){if(f=!0,e.last()&&v[e.last()]?(a=a.replace(RegExp("(.*)<\\s*\\/\\s*"+e.last()+"[^>]*>","i"),function(a,b){return b=b.replace(E,"$1").replace(F,"$1"),d.chars&&d.chars(p(b)),""}),k("",e.last())):(0===a.indexOf("<!--")?(b=a.indexOf("-->"),b>=0&&(d.comment&&d.comment(a.substring(4,b)),a=a.substring(b+3),f=!1)):G.test(a)?(b=a.match(w))&&(a=a.substring(b[0].length),b[0].replace(w,k),f=!1):H.test(a)&&(b=a.match(x))&&(a=a.substring(b[0].length),b[0].replace(x,c),f=!1),f&&(b=a.indexOf("<"),f=0>b?a:a.substring(0,b),a=0>b?"":a.substring(b),d.chars&&d.chars(p(f)))),a==l)throw I("badparse",a);l=a}k()}function p(a){return q.innerHTML=a.replace(/</g,"&lt;"),q.innerText||q.textContent||""}function y(a){return a.replace(/&/g,"&amp;").replace(J,function(a){return"&#"+a.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}function z(a){var d=!1,c=g.bind(a,a.push);return{start:function(a,b,f){a=g.lowercase(a),!d&&v[a]&&(d=a),d||1!=A[a]||(c("<"),c(a),g.forEach(b,function(a,b){var d=g.lowercase(b);1!=K[d]||!0===B[d]&&!a.match(L)||(c(" "),c(b),c('="'),c(y(a)),c('"'))}),c(f?"/>":">"))},end:function(a){a=g.lowercase(a),d||1!=A[a]||(c("</"),c(a),c(">")),a==d&&(d=!1)},chars:function(a){d||c(y(a))}}}var I=g.$$minErr("$sanitize"),x=/^<\s*([\w:-]+)((?:\s+[\w:-]+(?:\s*=\s*(?:(?:"[^"]*")|(?:'[^']*')|[^>\s]+))?)*)\s*(\/?)\s*>/,w=/^<\s*\/\s*([\w:-]+)[^>]*>/,D=/([\w:-]+)(?:\s*=\s*(?:(?:"((?:[^"])*)")|(?:'((?:[^'])*)')|([^>\s]+)))?/g,H=/^</,G=/^<\s*\//,E=/\x3c!--(.*?)--\x3e/g,F=/<!\[CDATA\[(.*?)]]\x3e/g,L=/^((ftp|https?):\/\/|mailto:|tel:|#)/i,J=/([^\#-~| |!])/g,u=h("area,br,col,hr,img,wbr");m=h("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),n=h("rp,rt");var t=g.extend({},n,m),r=g.extend({},m,h("address,article,aside,blockquote,caption,center,del,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,map,menu,nav,ol,pre,script,section,table,ul")),s=g.extend({},n,h("a,abbr,acronym,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,q,ruby,rp,rt,s,samp,small,span,strike,strong,sub,sup,time,tt,u,var")),v=h("script,style"),A=g.extend({},u,r,s,t),B=h("background,cite,href,longdesc,src,usemap"),K=g.extend({},B,h("abbr,align,alt,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,coords,dir,face,headers,height,hreflang,hspace,ismap,lang,language,nohref,nowrap,rel,rev,rows,rowspan,rules,scope,scrolling,shape,span,start,summary,target,title,type,valign,value,vspace,width")),q=document.createElement("pre");g.module("ngSanitize",[]).value("$sanitize",function(a){var d=[];return C(a,z(d)),d.join("")}),g.module("ngSanitize").filter("linky",function(){var a=/((ftp|https?):\/\/|(mailto:)?[A-Za-z0-9._%+-]+@)\S*[^\s\.\;\,\(\)\{\}\<\>]/,d=/^mailto:/;return function(c,k){if(!c)return c;var b,h,m,f=c,e=[],l=z(e),n={};for(g.isDefined(k)&&(n.target=k);b=f.match(a);)h=b[0],b[2]==b[3]&&(h="mailto:"+h),m=b.index,l.chars(f.substr(0,m)),n.href=h,l.start("a",n),l.chars(b[0].replace(d,"")),l.end("a"),f=f.substring(m+b[0].length);return l.chars(f),e.join("")}})}(window,window.angular),function(q,c){function x(c,f){return m(new(m(function(){},{prototype:c})),f)}function t(c,f,a,p,n){return{restrict:"ECA",terminal:!0,priority:1e3,transclude:"element",compile:function(g,m,D){return function(u,m,e){function g(){k&&(k.$destroy(),k=null),l&&(n.leave(l),l=null)}function s(){var h=c.current&&c.current.locals,y=h&&h.$template;if(y){var z=u.$new();D(z,function(d){g(),d.html(y),n.enter(d,null,m);var G=a(d.contents()),r=c.current;if(k=r.scope=z,l=d,r.controller){h.$scope=k;var e=p(r.controller,h);r.controllerAs&&(k[r.controllerAs]=e),d.data("$ngControllerController",e),d.contents().data("$ngControllerController",e)}G(k),k.$emit("$viewContentLoaded"),k.$eval(b),f()})}else g()}var k,l,b=e.onload||"";u.$on("$routeChangeSuccess",s),s()}}}}var A=c.copy,H=c.equals,m=c.extend,w=c.forEach,v=c.isDefined,B=c.isFunction,C=c.isString;q=c.module("ngRoute",["ng"]).provider("$route",function(){function c(a,p){var f=p.caseInsensitiveMatch,g={originalPath:a,regexp:a},m=g.keys=[];return a=a.replace(/([().])/g,"\\$1").replace(/(\/)?:(\w+)([\?|\*])?/g,function(a,c,p,e){return a="?"===e?e:null,e="*"===e?e:null,m.push({name:p,optional:!!a}),c=c||"",""+(a?"":c)+"(?:"+(a?c:"")+(e&&"(.+)?"||"([^/]+)?")+")"+(a||"")}).replace(/([\/$\*])/g,"\\$1"),g.regexp=RegExp("^"+a+"$",f?"i":""),g}var f={};this.when=function(a,p){if(f[a]=m({reloadOnSearch:!0},p,a&&c(a,p)),a){var n="/"==a[a.length-1]?a.substr(0,a.length-1):a+"/";f[n]=m({redirectTo:a},c(n,p))}return this},this.otherwise=function(a){return this.when(null,a),this},this.$get=["$rootScope","$location","$routeParams","$q","$injector","$http","$templateCache","$sce",function(a,c,n,g,s,q,u,t){function e(){var b=E(),h=l.current;b&&h&&b.$$route===h.$$route&&H(b.pathParams,h.pathParams)&&!b.reloadOnSearch&&!k?(h.params=b.params,A(h.params,n),a.$broadcast("$routeUpdate",h)):(b||h)&&(k=!1,a.$broadcast("$routeChangeStart",b,h),(l.current=b)&&b.redirectTo&&(C(b.redirectTo)?c.path(F(b.redirectTo,b.params)).search(b.params).replace():c.url(b.redirectTo(b.pathParams,c.path(),c.search())).replace()),g.when(b).then(function(){if(b){var c,d,a=m({},b.resolve);return w(a,function(b,c){a[c]=C(b)?s.get(b):s.invoke(b)}),v(c=b.template)?B(c)&&(c=c(b.params)):v(d=b.templateUrl)&&(B(d)&&(d=d(b.params)),d=t.getTrustedResourceUrl(d),v(d)&&(b.loadedTemplateUrl=d,c=q.get(d,{cache:u}).then(function(b){return b.data}))),v(c)&&(a.$template=c),g.all(a)}}).then(function(c){b==l.current&&(b&&(b.locals=c,A(b.params,n)),a.$broadcast("$routeChangeSuccess",b,h))},function(c){b==l.current&&a.$broadcast("$routeChangeError",b,h,c)}))}function E(){var b,a;return w(f,function(e){var d;if(d=!a){var f=c.path();d=e.keys;var r={};if(e.regexp)if(f=e.regexp.exec(f)){for(var g=1,l=f.length;l>g;++g){var n=d[g-1],q="string"==typeof f[g]?decodeURIComponent(f[g]):f[g];n&&q&&(r[n.name]=q)}d=r}else d=null;else d=null;d=b=d}d&&(a=x(e,{params:m({},c.search(),b),pathParams:b}),a.$$route=e)}),a||f[null]&&x(f[null],{params:{},pathParams:{}})}function F(b,c){var a=[];return w((b||"").split(":"),function(b,d){if(0===d)a.push(b);else{var e=b.match(/(\w+)(.*)/),f=e[1];a.push(c[f]),a.push(e[2]||""),delete c[f]}}),a.join("")}var k=!1,l={routes:f,reload:function(){k=!0,a.$evalAsync(e)}};return a.$on("$locationChangeSuccess",e),l}]}),q.provider("$routeParams",function(){this.$get=function(){return{}}}),q.directive("ngView",t),t.$inject=["$route","$anchorScroll","$compile","$controller","$animate"]}(window,window.angular),function(H,g,C){var A=g.$$minErr("$resource");g.module("ngResource",["ng"]).factory("$resource",["$http","$parse","$q",function(D,y,E){function n(g,h){this.template=g,this.defaults=h||{},this.urlParams={}}function u(l,h,d){function p(c,b){var e={};return b=v({},h,b),q(b,function(a,b){t(a)&&(a=a());var m;a&&a.charAt&&"@"==a.charAt(0)?(m=a.substr(1),m=y(m)(c)):m=a,e[b]=m}),e}function b(c){return c.resource}function e(c){z(c||{},this)}var F=new n(l);return d=v({},G,d),q(d,function(c,f){var h=/^(POST|PUT|PATCH)$/i.test(c.method);e[f]=function(a,f,m,l){var r,s,w,d={};switch(arguments.length){case 4:w=l,s=m;case 3:case 2:if(!t(f)){d=a,r=f,s=m;break}if(t(a)){s=a,w=f;break}s=f,w=m;case 1:t(a)?s=a:h?r=a:d=a;break;case 0:break;default:throw A("badargs",arguments.length)}var n=r instanceof e,k=n?r:c.isArray?[]:new e(r),x={},u=c.interceptor&&c.interceptor.response||b,y=c.interceptor&&c.interceptor.responseError||C;return q(c,function(a,c){"params"!=c&&"isArray"!=c&&"interceptor"!=c&&(x[c]=z(a))}),x.data=r,F.setUrlParams(x,v({},p(r,c.params||{}),d),c.url),d=D(x).then(function(a){var b=a.data,f=k.$promise;if(b){if(g.isArray(b)!=!!c.isArray)throw A("badcfg",c.isArray?"array":"object",g.isArray(b)?"array":"object");c.isArray?(k.length=0,q(b,function(a){k.push(new e(a))})):(z(b,k),k.$promise=f)}return k.$resolved=!0,(s||B)(k,a.headers),a.resource=k,a},function(a){return k.$resolved=!0,(w||B)(a),E.reject(a)}).then(u,y),n?d:(k.$promise=d,k.$resolved=!1,k)},e.prototype["$"+f]=function(a,c,b){return t(a)&&(b=c,c=a,a={}),a=e[f](a,this,c,b),a.$promise||a}}),e.bind=function(c){return u(l,v({},h,c),d)},e}var G={get:{method:"GET"},save:{method:"POST"},query:{method:"GET",isArray:!0},remove:{method:"DELETE"},"delete":{method:"DELETE"}},B=g.noop,q=g.forEach,v=g.extend,z=g.copy,t=g.isFunction;
return n.prototype={setUrlParams:function(l,h,d){var e,n,p=this,b=d||p.template,c=p.urlParams={};q(b.split(/\W/),function(f){!/^\d+$/.test(f)&&f&&RegExp("(^|[^\\\\]):"+f+"(\\W|$)").test(b)&&(c[f]=!0)}),b=b.replace(/\\:/g,":"),h=h||{},q(p.urlParams,function(c,d){e=h.hasOwnProperty(d)?h[d]:p.defaults[d],g.isDefined(e)&&null!==e?(n=encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"%20").replace(/%26/gi,"&").replace(/%3D/gi,"=").replace(/%2B/gi,"+"),b=b.replace(RegExp(":"+d+"(\\W|$)","g"),n+"$1")):b=b.replace(RegExp("(/?):"+d+"(\\W|$)","g"),function(a,c,b){return"/"==b.charAt(0)?b:c+b})}),b=b.replace(/\/+$/,""),b=b.replace(/\/\.(?=\w+($|\?))/,"."),l.url=b.replace(/\/\\\./,"/."),q(h,function(c,b){p.urlParams[b]||(l.params=l.params||{},l.params[b]=c)})}},u}])}(window,window.angular);var feed_settings=[],postworld=angular.module("postworld",["ngResource","ngRoute","ngSanitize","infinite-scroll","ui.bootstrap","monospaced.elastic","TimeAgoFilter","TruncateFilter","UserValidation","pwFilters","$strap.directives"]).config(function($routeProvider){var plugin_url=jsVars.pluginurl;$routeProvider.when("/live-feed-1/",{templateUrl:plugin_url+"/postworld/templates/samples/pwLiveFeed1Widget.html"}),$routeProvider.when("/live-feed-2/",{templateUrl:plugin_url+"/postworld/templates/samples/pwLiveFeed2Widget.html"}),$routeProvider.when("/live-feed-2-feeds/",{templateUrl:plugin_url+"/postworld/templates/samples/pwLiveFeed3Widget.html"}),$routeProvider.when("/live-feed-with-ads/",{templateUrl:plugin_url+"/postworld/templates/samples/pwLiveFeed6Widget.html"}),$routeProvider.when("/live-feed-2-feeds-auto/",{templateUrl:plugin_url+"/postworld/templates/samples/pwLiveFeed4Widget.html"}),$routeProvider.when("/live-feed-params/",{templateUrl:plugin_url+"/postworld/templates/samples/pwLiveFeed5Widget.html"}),$routeProvider.when("/load-feed-1/",{templateUrl:plugin_url+"/postworld/templates/samples/pwLoadFeed1Widget.html"}),$routeProvider.when("/load-feed-2/",{template:"<h2>Coming Soon</h2>"}),$routeProvider.when("/load-feed-2-feeds/",{templateUrl:plugin_url+"/postworld/templates/samples/pwLoadFeed3Widget.html"}),$routeProvider.when("/load-feed-cached-outline/",{templateUrl:plugin_url+"/postworld/templates/samples/pwLoadFeed4Widget.html"}),$routeProvider.when("/load-feed-ads/",{templateUrl:plugin_url+"/postworld/templates/samples/pwLoadFeed5Widget.html"}),$routeProvider.when("/load-panel/",{templateUrl:plugin_url+"/postworld/templates/samples/pwLoadPanelWidget.html"}),$routeProvider.when("/register-feed/",{templateUrl:plugin_url+"/postworld/templates/samples/pwRegisterFeedWidget.html"}),$routeProvider.when("/home/",{template:"<h2>Coming Soon</h2>"}),$routeProvider.when("/edit-post/",{templateUrl:plugin_url+"/postworld/templates/samples/editPost.html"}),$routeProvider.when("/load-comments/",{templateUrl:plugin_url+"/postworld/templates/samples/pwLoadCommentsWidget.html"}),$routeProvider.when("/embedly/",{templateUrl:plugin_url+"/postworld/templates/samples/pwEmbedlyWidget.html"}),$routeProvider.when("/load-post/",{templateUrl:plugin_url+"/postworld/templates/samples/pwLoadPostWidget.html"}),$routeProvider.when("/o-embed/",{templateUrl:plugin_url+"/postworld/templates/samples/pwEmbedWidget.html"}),$routeProvider.when("/media-modal/",{templateUrl:plugin_url+"/postworld/templates/samples/mediaModal.html"}),$routeProvider.when("/post-link/",{templateUrl:plugin_url+"/postworld/templates/samples/postLink.html"}),$routeProvider.when("/test-post/",{templateUrl:plugin_url+"/postworld/templates/samples/pwTestWidget.html"}),$routeProvider.when("/new/:post_type",{action:"new_post"}),$routeProvider.when("/edit/:post_id",{action:"edit_post"}),$routeProvider.when("/home/",{action:"default"})});postworld.run(function($rootScope,$window,$templateCache,$log,pwData){pwData.pw_get_templates(null).then(function(value){pwData.templates.resolve(value.data),pwData.templatesFinal=value.data,$rootScope.$broadcast("pwTemplatesLoaded",!0)})}),postworld.service("siteOptions",["$log",function(){return{taxOutlineMixed:function(){return{topic:{max_depth:2,fields:["term_id","name","slug"],filter:""},section:{max_depth:1,fields:["term_id","name","slug"],filter:""},hilight:{max_depth:2,fields:["term_id","name","slug"],filter:"label_group"}}}}}]),postworld.service("ext",["$log",function(){return{varExists:function(value){return"undefined"==typeof value?!1:!0},extract_parentheses:function(string){for(var match,pattern=/\((.+?)\)/g,matches=[];match=pattern.exec(string);)matches.push(match[1]);return matches},isNumber:function(n){return!isNaN(parseFloat(n))&&isFinite(n)},isInArray:function(value,array){return array?array.indexOf(value)>-1?!0:!1:!1},isEmpty:function(value){return"undefined"==typeof value||""==value?!0:!1},isEmptyObj:function(obj){for(var prop in obj)if(obj.hasOwnProperty(prop))return!1;return!0},mergeRecursiveObj:function(obj1,obj2){for(var p in obj2)try{obj1[p]=obj2[p].constructor==Object?MergeRecursive(obj1[p],obj2[p]):obj2[p]}catch(e){obj1[p]=obj2[p]}return obj1}}}]),postworld.service("pwPostOptions",["$window","$log","siteOptions","pwData",function($window,$log,$siteOptions,$pwData){return{getTaxTerms:function($scope,tax_obj){if("undefined"==typeof tax_obj)var tax_obj="tax_terms";var args=$siteOptions.taxOutlineMixed();$pwData.taxonomies_outline_mixed(args).then(function(response){$scope[tax_obj]=response.data},function(){})},pwGetPostTypeOptions:function(mode){if("read"==mode)return $window.pwGlobals.post_types;var userPostTypeOptions={};return angular.forEach($window.pwGlobals.post_types,function(name,slug){var cap_type=mode+"_"+slug+"s";1==$window.pwGlobals.current_user.allcaps[cap_type]&&(userPostTypeOptions[slug]=name)}),userPostTypeOptions},pwGetPostStatusOptions:function(post_type){if($window.pwGlobals.current_user&&$window.pwGlobals.current_user){var current_user_role=$window.pwGlobals.current_user.roles[0],post_status_options={publish:"Published",draft:"Draft",pending:"Pending"},post_status_role_options={administrator:{feature:["publish","draft","pending"],blog:["publish","draft","pending"],event:["publish","draft","pending"],announcement:["publish","draft","pending"],link:["publish"]},editor:{feature:["publish","draft","pending"],blog:["publish","draft","pending"],event:["publish","draft","pending"],announcement:[],link:["publish"]},author:{feature:["draft","pending"],blog:["publish","draft"],event:["publish","draft","pending"],announcement:[],link:["publish"]},contributor:{feature:[],blog:["publish","draft"],event:[],announcement:[],link:["publish"]}},post_status_menu={},user_role_options=post_status_role_options[current_user_role][post_type];return"undefined"!=typeof user_role_options?(angular.forEach(user_role_options,function(post_status_slug){post_status_menu[post_status_slug]=post_status_options[post_status_slug]}),post_status_menu):{publish:"Published"}}},pwGetPostFormatOptions:function(){return{standard:"Standard",link:"Link",video:"Video",audio:"Audio"}},pwGetPostClassOptions:function(){return{contributor:"Contributor",author:"Author",members:"Members Only"}},pwGetPostYearOptions:function(){return["2007","2008","2009","2010","2011","2012","2013"]},pwGetPostMonthOptionsPrimary:function(){return{1:"January",2:"Fabruary",3:"March",4:"April",5:"May",6:"June",7:"July",8:"August",9:"September",10:"October",11:"November",12:"December"}},pwGetPostMonthOptions:function(){return[{name:"January",number:"1"},{name:"February",number:"2"},{name:"March",number:"3"},{name:"April",number:"4"},{name:"May",number:"5"},{name:"June",number:"6"},{name:"July",number:"7"},{name:"August",number:"8"},{name:"September",number:"9"},{name:"October",number:"10"},{name:"November",number:"11"},{name:"December",number:"12"}]},pwGetPostFormatMeta:function(){return[{name:"",slug:"standard",domains:[],icon:"icon-circle-blank"},{name:"Link",slug:"link",domains:[],icon:"icon-link"},{name:"Video",slug:"video",domains:["youtube.com/","youtu.be/","vimeo.com/","hulu.com/","ted.com/","sapo.pt/","dailymotion.com","blip.tv/","ustream.tv/"],icon:"icon-youtube-play"},{name:"Audio",slug:"audio",domains:["soundcloud.com/","mixcloud.com/","official.fm/","shoudio.com/"],icon:"icon-headphones"}]}}}]),postworld.service("pwEditPostFilters",["$log","ext",function($log,ext){return{sortTaxTermsInput:function(post_data,tax_terms,sub_object){return angular.forEach(post_data[sub_object],function(selected_terms,taxonomy){if(selected_terms.length>1){var reorder=!0;angular.forEach(tax_terms[taxonomy],function(term_option){term_option.slug==selected_terms[0]&&(reorder=!1)}),1==reorder&&post_data[sub_object][taxonomy].reverse()}}),post_data},evalPostFormat:function(link_url,post_format_meta){var default_format="standard",set="";return ext.isEmpty(link_url)||ext.isEmpty(post_format_meta)?default_format:(angular.forEach(post_format_meta,function(post_format){angular.forEach(post_format.domains,function(domain){ext.isInArray(domain,link_url)&&(set=post_format.slug)})}),""==set?"link":set)},selected_tax_terms:function(tax_terms,tax_input){var selected_tax_terms={};return angular.forEach(tax_terms,function(terms,taxonomy){ext.isEmpty(tax_input[taxonomy])&&(tax_input[taxonomy]=[]),angular.forEach(terms,function(term){term.slug==tax_input[taxonomy][0]&&(selected_tax_terms[taxonomy]=term)})}),selected_tax_terms},clear_sub_terms:function(tax_terms,tax_input,selected_tax_terms){return angular.forEach(tax_terms,function(terms,taxonomy){var term_set=selected_tax_terms[taxonomy];if("undefined"!=typeof term_set)if("undefined"!=typeof term_set.terms)var term_has_children=!0;else var term_has_children=!1;else var term_has_children=!1;var child_term_is_set=!ext.isEmpty(tax_input[taxonomy][1]);if(term_has_children){var is_subterm=!1;angular.forEach(term_set.terms,function(child_term){child_term.slug==tax_input[taxonomy][1]&&(is_subterm=!0)}),0==is_subterm&&tax_input[taxonomy].splice(1,1)}else child_term_is_set&&tax_input[taxonomy].splice(1,1)}),tax_input}}}]);var postTypeMenu=function($scope,pwPostOptions){var postTypeOptionsMeta=[{name:"Feature",slug:"feature",icon:"icon-star",url:"/post/#/new/feature/"},{name:"Blog",slug:"blog",icon:"icon-pencil",url:"/post/#/new/blog/"},{name:"Link",slug:"link",icon:"icon-link",url:"/post/#/new/link/"},{name:"Event",slug:"event",icon:"icon-calendar",url:"/post/#/new/event/"},{name:"Announcement",slug:"announcement",icon:"icon-sun",url:"/post/#/new/announcement/"}],userPostTypeOptions=pwPostOptions.pwGetPostTypeOptions("create");$scope.userPostTypeOptionsMenu=[],angular.forEach(userPostTypeOptions,function(name,slug){angular.forEach(postTypeOptionsMeta,function(meta){meta.slug===slug&&$scope.userPostTypeOptionsMenu.push(meta)})})};postworld.controller("searchFields",["$scope","pwPostOptions","pwEditPostFilters",function($scope,$pwPostOptions,$pwEditPostFilters){$scope.post_type_options=$pwPostOptions.pwGetPostTypeOptions("read"),$scope.post_year_options=$pwPostOptions.pwGetPostYearOptions(),$scope.post_month_options=$pwPostOptions.pwGetPostMonthOptions(),$scope.post_status_options=$pwPostOptions.pwGetPostStatusOptions(),$scope.post_format_options=$pwPostOptions.pwGetPostFormatOptions(),$scope.post_format_meta=$pwPostOptions.pwGetPostFormatMeta(),$scope.post_class_options=$pwPostOptions.pwGetPostClassOptions(),$pwPostOptions.getTaxTerms($scope,"tax_terms"),$scope.selected_tax_terms={},$scope.$watch("taxInput",function(){$scope.selected_tax_terms=$pwEditPostFilters.selected_tax_terms($scope.tax_terms,$scope.taxInput)},1)}]),postworld.service("pwRoleAccess",["$log","$window",function($log,$window){return{setRoleAccess:function($scope){$scope.current_user=$window.pwGlobals.current_user,$scope.roles={},$scope.roles.editor="administrator"==$scope.current_user.roles[0]||"editor"==$scope.current_user.roles[0]?!0:!1,$scope.roles.author="author"==$scope.current_user.roles[0]?!0:!1,$scope.roles.contributor="contributor"==$scope.current_user.roles[0]?!0:!1}}}]);var postActions=function($scope,pwData){$scope.$watch("post.viewer",function(){$scope.isFavorite=1==$scope.post.viewer.is_favorite?"selected":"",$scope.isViewLater=1==$scope.post.viewer.is_view_later?"selected":""},1),$scope.setFavorite=function(){$scope.togglePostRelationship("favorites")},$scope.setViewLater=function(){$scope.togglePostRelationship("view_later")},$scope.spinnerClass="",$scope.togglePostRelationship=function(postRelationship){var viewer=$scope.post.viewer;$scope.spinnerClass="icon-spin";var setTo;"favorites"==postRelationship&&(setTo=1==viewer.is_favorite?!1:!0,$scope.favoriteStatus="busy"),"view_later"==postRelationship&&(setTo=1==viewer.is_view_later?!1:!0,$scope.viewLaterStatus="busy");var args={relationship:postRelationship,"switch":setTo,post_id:$scope.post.ID};pwData.set_post_relationship(args).then(function(response){"favorites"==postRelationship&&(response.data===!1?$scope.post.viewer.is_favorite=!1:response.data===!0&&($scope.post.viewer.is_favorite=!0),$scope.favoriteStatus="done",$scope.spinnerClass=""),"view_later"==postRelationship&&(response.data===!1?$scope.post.viewer.is_view_later=!1:response.data===!0&&($scope.post.viewer.is_view_later=!0),$scope.viewLaterStatus="done",$scope.spinnerClass="")},function(){})}},postVote=function($window,$rootScope,$scope,$log,pwData){$scope.$watch("post.viewer.has_voted",function(){$scope.hasVotedUp=$scope.post.viewer.has_voted>0?"selected":"",$scope.hasVotedDown=$scope.post.viewer.has_voted<0?"selected":"",0==$scope.post.viewer.has_voted&&($scope.hasVotedUp="",$scope.hasVotedDown="")},1),$scope.spinnerClass="",$scope.votePost=function(points){if("undefined"!=typeof $window.pwGlobals.current_user.postworld)var vote_power=parseInt($window.pwGlobals.current_user.postworld.vote_power);if("undefined"==typeof vote_power)return alert("Must be logged in to vote."),!1;var has_voted=parseInt($scope.post.viewer.has_voted),setPoints=has_voted+points;Math.abs(setPoints)>vote_power&&(setPoints=vote_power*points);var args={post_id:$scope.post.ID,points:setPoints};$scope.voteStatus="busy",$scope.spinnerClass="icon-spin",pwData.set_post_points(args).then(function(response){$log.debug("VOTE RETURN : "+JSON.stringify(response)),response.data.id==$scope.post.ID&&($scope.post.post_points=response.data.points_total,$scope.post.viewer.has_voted=parseInt($scope.post.viewer.has_voted)+parseInt(response.data.points_added)),$scope.voteStatus="done",$scope.spinnerClass=""},function(){$scope.voteStatus="done",$scope.spinnerClass=""})}};postworld.directive("ngTextareaFilter",function(){return function($scope,element,attributes){var model=attributes.ngModel,readmore=attributes.readmore;$scope.$watch(model,function(){var modelObjArray=model.split("."),textarea_contents=$scope[modelObjArray[0]][modelObjArray[1]];if("undefined"==typeof attributes.maxlength)var maxChars=40;else var maxChars=attributes.maxlength;if("undefined"==typeof readmore)var readMore="";else var readMore=readmore;"undefined"!=typeof textarea_contents&&(textarea_contents.length>maxChars&&textarea_contents.length>maxChars-readMore.length&&(textarea_contents=textarea_contents.slice(0,maxChars-readMore.length)+readMore),$scope[modelObjArray[0]][modelObjArray[1]]=textarea_contents)},1)}}),postworld.directive("ngEnter",function(){return function(scope,element){element.bind("keydown keypress",function(event){13===event.which&&(scope.$apply(function(){scope.$eval("submit()")}),event.preventDefault())})}}),postworld.directive("preventDefaultClick",function(){return{restrict:"A",link:function(scope,element){element.bind("click",function(event){event.stopPropagation()})}}}),postworld.directive("selectOnClick",function(){return function(scope,element){element.bind("click",function(){this.select()})}}),angular.module("monospaced.elastic",[]).constant("msdElasticConfig",{append:""}).directive("msdElastic",["$timeout","$window","msdElasticConfig",function($timeout,$window,config){return{require:"ngModel",restrict:"A, C",link:function(scope,element,attrs,ngModel){function initMirror(){mirrored=ta,taStyle=getComputedStyle(ta),angular.forEach(copyStyle,function(val){mirror.style[val]=taStyle.getPropertyValue(val)})}function adjust(){var taHeight,mirrorHeight,width,overflow;mirrored!==ta&&initMirror(),active||(active=!0,mirror.value=ta.value+append,mirror.style.overflowY=ta.style.overflowY,taHeight=""===ta.style.height?"auto":parseInt(ta.style.height,10),width=parseInt(borderBox?ta.offsetWidth:getComputedStyle(ta).getPropertyValue("width"),10)-boxOuter.width,mirror.style.width=width+"px",mirrorHeight=mirror.scrollHeight,mirrorHeight>maxHeight?(mirrorHeight=maxHeight,overflow="scroll"):minHeight>mirrorHeight&&(mirrorHeight=minHeight),mirrorHeight+=boxOuter.height,ta.style.overflowY=overflow||"hidden",taHeight!==mirrorHeight&&(ta.style.height=mirrorHeight+"px"),$timeout(function(){active=!1},1))}function forceAdjust(){active=!1,adjust()}var ta=element[0],$ta=element;if("TEXTAREA"===ta.nodeName&&$window.getComputedStyle){$ta.css({overflow:"hidden","overflow-y":"hidden","word-wrap":"break-word"});var text=ta.value;ta.value="",ta.value=text;var mirrored,active,appendText=attrs.msdElastic||config.append,append="\\n"===appendText?"\n":appendText,$win=angular.element($window),$mirror=angular.element('<textarea tabindex="-1" style="position: absolute; top: -999px; right: auto; bottom: auto; left: 0 ;overflow: hidden; -webkit-box-sizing: content-box; -moz-box-sizing: content-box; box-sizing: content-box; min-height: 0!important; height: 0!important; padding: 0;word-wrap: break-word; border: 0;"/>').data("elastic",!0),mirror=$mirror[0],taStyle=getComputedStyle(ta),resize=taStyle.getPropertyValue("resize"),borderBox="border-box"===taStyle.getPropertyValue("box-sizing")||"border-box"===taStyle.getPropertyValue("-moz-box-sizing")||"border-box"===taStyle.getPropertyValue("-webkit-box-sizing"),boxOuter=borderBox?{width:parseInt(taStyle.getPropertyValue("border-right-width"),10)+parseInt(taStyle.getPropertyValue("padding-right"),10)+parseInt(taStyle.getPropertyValue("padding-left"),10)+parseInt(taStyle.getPropertyValue("border-left-width"),10),height:parseInt(taStyle.getPropertyValue("border-top-width"),10)+parseInt(taStyle.getPropertyValue("padding-top"),10)+parseInt(taStyle.getPropertyValue("padding-bottom"),10)+parseInt(taStyle.getPropertyValue("border-bottom-width"),10)}:{width:0,height:0},minHeightValue=parseInt(taStyle.getPropertyValue("min-height"),10),heightValue=parseInt(taStyle.getPropertyValue("height"),10),minHeight=Math.max(minHeightValue,heightValue)-boxOuter.height,maxHeight=parseInt(taStyle.getPropertyValue("max-height"),10),copyStyle=["font-family","font-size","font-weight","font-style","letter-spacing","line-height","text-transform","word-spacing","text-indent"];$ta.data("elastic")||(maxHeight=maxHeight&&maxHeight>0?maxHeight:9e4,mirror.parentNode!==document.body&&angular.element(document.body).append(mirror),$ta.css({resize:"none"===resize||"vertical"===resize?"none":"horizontal"}).data("elastic",!0),ta.oninput="onpropertychange"in ta&&"oninput"in ta?ta.onkeyup=adjust:adjust,$win.bind("resize",forceAdjust),scope.$watch(function(){return ngModel.$modelValue},function(){forceAdjust()}),scope.$on("$destroy",function(){$mirror.remove(),$win.unbind("resize",forceAdjust)}))}}}}]);var mediaModalCtrl=function($scope,$modal,$log,$window,pwData){$scope.launch=function(post){var modalInstance=$modal.open({templateUrl:pwData.pw_get_template("panels","","media_modal"),controller:MediaModalInstanceCtrl,windowClass:"media_modal",resolve:{post:function(){return post}}});modalInstance.result.then(function(){},function(){$log.debug("Modal dismissed at: "+new Date)})}},MediaModalInstanceCtrl=function($scope,$sce,$modalInstance,post,pwData){$scope.post=post,$scope.status="loading",$scope.oEmbed="";var link_url=post.link_url,args={link_url:link_url};pwData.wp_ajax("ajax_oembed_get",args).then(function(response){$scope.oEmbed=$sce.trustAsHtml(response.data),$scope.status="done"},function(){$scope.status="error"}),$scope.close=function(){$modalInstance.dismiss("close")}};postworld.directive("launchMediaModal",["$sce",function(){return{controller:"mediaModalCtrl"}}]);var mediaEmbed=function($scope,$sce,pwData){$scope.oEmbed="",$scope.oEmbedGet=function(link_url){var args={link_url:link_url};pwData.wp_ajax("ajax_oembed_get",args).then(function(response){$scope.oEmbed=$sce.trustAsHtml(response.data)},function(){})},("video"==$scope.post.post_format||"audio"==$scope.post.post_format)&&($scope.oEmbed=$scope.oEmbedGet($scope.post.link_url))};postworld.directive("oEmbed-old",["$sce","pwData",function($scope,$sce,pwData){return{link:function($scope,element,attributes){$scope.status="loading",$scope.oEmbed="embed code for : "+attributes.oEmbed;var link_url=attributes.oEmbed,args={link_url:link_url};$scope.oEmbedGet=function(){pwData.wp_ajax("ajax_oembed_get",args).then(function(response){return $scope.status="done",$sce.trustAsHtml(response.data)},function(){$scope.status="error"})},$scope.oEmbed=$scope.oEmbedGet()}}}]),postworld.directive("oEmbed",["$sce",function(){return{controller:"pwOEmbedController",link:function($scope,element){$scope.$watch("oEmbed",function(value){console.log("test",value),element.html(value)})}}}]),postworld.controller("pwOEmbedController",function($scope,$attrs,$sce,pwData){$scope.status="loading",$scope.oEmbed="embed code for : "+$attrs.oEmbed;var link_url=$attrs.oEmbed,args={link_url:link_url};$scope.oEmbedGet=function(){pwData.wp_ajax("ajax_oembed_get",args).then(function(response){$scope.status="done",console.log("return",response.data),$scope.oEmbed=response.data},function(){$scope.status="error"})},$scope.oEmbedGet()}),postworld.run(function($rootScope,$templateCache){$rootScope.$on("$viewContentLoaded",function(){$templateCache.removeAll()})});var DatepickerDemoCtrl=function($scope){$scope.today=function(){$scope.dt=new Date},$scope.today(),$scope.showWeeks=!1,$scope.clear=function(){$scope.dt=null},$scope.dateOptions={"year-format":"'yy'","starting-day":1}},testController=function($scope,pwData,siteOptions,pwPostOptions2){$scope.promise="empty",$scope.getTaxOutlineMixed=function(){$scope.promise=pwPostOptions2.taxOutlineMixed()}};postworld.factory("embedly",function($resource,$q,$log){var embedlyKey="512f7d063fc1490d9bcc7504c764a6dd",embedlyUrl="http://api.embed.ly/1/:action",resource=$resource(embedlyUrl,{key:embedlyKey,url:""},{embedly_call:{method:"GET",isArray:!1,params:{action:"extract"}}});return{embedly_call:function(action,url,options){$log.debug("embedly.embedly_call",action,url,options);var deferred=$q.defer();return resource.embedly_call({action:action,url:url,options:options},function(data){deferred.resolve(data)},function(response){deferred.reject(response)}),deferred.promise},liveEmbedlyExtract:function(link_url,options){if(!link_url)throw{message:"embedly:link_url not provided"};return escape(link_url),this.embedly_call("extract",link_url,options)},translateToPostData:function(embedly_extract){if("undefined"!=typeof embedly_extract.images[0])var link_url_set=embedly_extract.images[0].url;else var link_url_set="";return{post_title:embedly_extract.title,post_excerpt:embedly_extract.description,link_url:embedly_extract.url,thumbnail_url:link_url_set}},embedlyExtractImageMeta:function(embedly_extract){if(embedly_extract.images.length>=1)var image_status_set=!0;else var image_status_set=!1;return{image_status:image_status_set,image_count:embedly_extract.images.length,images:embedly_extract.images}}}}),postworld.controller("pwEmbedly",function($scope,$location,$log,pwData,$attrs,embedly){$scope.embedlyGet=function(){embedly.liveEmbedlyExtract($scope.link_url).then(function(response){console.log(response),$scope.embedlyResponse=response},function(response){throw{message:"Embedly Error"+response}})}}),postworld.service("pwQuickEdit",["$log","$modal","pwData",function($log,$modal,pwData){return{openQuickEdit:function(post){console.log("Launch Quick Edit : ",post);var modalInstance=$modal.open({templateUrl:pwData.pw_get_template("panels","","quick_edit"),controller:quickEditInstanceCtrl,windowClass:"quick_edit",resolve:{post:function(){return post}}});modalInstance.result.then(function(){},function(){$log.debug("Modal dismissed at: "+new Date)})},trashPost:function(post_id,scope){window.confirm("Are you sure you want to trash : \n"+scope.post.post_title)&&pwData.pw_trash_post(post_id).then(function(response){if(200==response.status)if($log.debug("Post Trashed RETURN : ",response.data),1==response.data){if(void 0!=typeof scope){{"/wp-admin/edit.php?post_status=trash&post_type="+scope.post.post_type}scope.post.post_status="trash"}}else alert("Error trashing post : "+response.data)},function(){})}}}]);var quickEdit=function($scope,$modal,$log,$window){$scope.openQuickEdit=function(post){console.log("Launch Quick Edit : ",post);var modalInstance=$modal.open({templateUrl:$window.pwGlobals.paths.plugin_url+"/postworld/templates/panels/quick_edit.html",controller:quickEditInstanceCtrl,windowClass:"quick_edit",resolve:{post:function(){return post}}});modalInstance.result.then(function(){},function(){$log.debug("Modal dismissed at: "+new Date)})}},quickEditInstanceCtrl=function($scope,$rootScope,$sce,$modalInstance,post,pwData,$timeout,pwQuickEdit){$scope.post=post,$timeout(function(){$scope.$broadcast("loadPostData",post.ID)},1),$scope.close=function(){$modalInstance.dismiss("close")},$scope.trashPost=function(){pwQuickEdit.trashPost($scope.post.ID,$scope)},$scope.$watch("post.post_status",function(){"trash"==$scope.post.post_status&&$modalInstance.dismiss("close")})},postController=function($scope,$rootScope,$window,pwData){"undefined"!=typeof $window.pwGlobals.paths&&"undefined"!=typeof $window.pwGlobals.language&&"undefined"!=typeof $window.pwGlobals.current_user&&"undefined"!=typeof $scope.post&&($scope.share_link=$window.pwGlobals.paths.home_url+"/?u="+$window.pwGlobals.current_user.ID+"&p="+$scope.post.ID,$scope.language=$window.pwGlobals.language,$scope.current_user_id=$window.pwGlobals.current_user.ID),$scope.setClass=function(){"undefined"!=typeof $scope.post&&"undefined"!=typeof $scope.post.taxonomy&&"undefined"!=typeof $scope.post.taxonomy.topic&&angular.forEach($scope.post.taxonomy.topic,function(term){"0"==term.parent&&($scope.topic=term.slug)})},$scope.setClass(),$scope.expanded="";var clickTip="Click to expand";$scope.clickTip=clickTip,$scope.toggleExpanded=function(){$scope.expanded=""==$scope.expanded?"expanded":"",$scope.clickTip=""!=$scope.clickTip?"":clickTip},$rootScope.$on("postUpdated",function(event,post_id){if($scope.post.ID==post_id){var args={post_id:post_id,fields:"all"};pwData.pw_get_post(args).then(function(response){200==response.status&&($scope.post=response.data,$scope.setClass())},function(){})}})},avatarCtrl=function($scope,$rootScope,pwData){$scope.status="empty",$scope.updateAvatarImage=function(selected_image_obj){$scope.status="saving";var args={user_id:$scope.user_id,image_object:selected_image_obj};pwData.pw_set_avatar(args).then(function(response){$scope.avatar_image=response.data,$scope.status="done"},function(){}),$scope.status="setting"},$scope.loadAvatarObj=function(user_id){$scope.status="loading";var args={user_id:user_id};pwData.pw_get_avatar(args).then(function(response){$scope.avatar_image=response.data,$scope.status="done"},function(){})},$scope.$watch("user_id",function(){"undefined"!=typeof $scope.user_id&&$scope.loadAvatarObj($scope.user_id)}),$scope.deleteAvatarImage=function(){$scope.status="deleting";var selected_image_obj={id:$scope.avatar_image.id,action:"delete"},args={user_id:$scope.user_id,image_object:selected_image_obj};pwData.pw_set_avatar(args).then(function(response){1==response.data&&($scope.avatar_image={}),$scope.status="done"},function(){}),$scope.status="setting"},$scope.loadAvatarImg=function(){$scope.status="loading"}},pwUserSignup=function($scope,$rootScope,pwData,$timeout,$log,pwUsers){$scope.formData={name:"",username:"",password:"",email:"",agreement:""},$scope.fieldStatus={username:"empty",password:"empty",email:"empty"},$scope.mode="signup",$scope.status="done",$scope.validateUsername=function(username){if($scope.signupForm.username.$error.minLength||$scope.signupForm.username.$error.maxLength||$scope.signupForm.username.$error.pattern||!$scope.signupForm.username.$dirty)$scope.fieldStatus.username="done";else{""==username&&(username="0");var query_args={number:1,search_columns:["user_nicename"],fields:["user_nicename"],search:username};$scope.fieldStatus.username="busy",$scope.signupForm.username.$setValidity("available",!1),pwData.wp_user_query(query_args).then(function(response){$log.debug("QUERY : "+username,response.data.results),response.data.results.length>0?response.data.results[0].user_nicename===username?($scope.fieldStatus.username="taken",$scope.signupForm.username.$setValidity("available",!1)):($scope.fieldStatus.username="done",$scope.signupForm.username.$setValidity("available",!0)):($scope.fieldStatus.username="done",$scope.signupForm.username.$setValidity("available",!0))},function(response){throw{message:"Error: "+JSON.stringify(response)}})}},"undefined"!=typeof $scope.formData.username&&$scope.$watch("formData.username",function(){$scope.validateUsername($scope.formData.username)},1),$scope.validateEmail=function(email){if($scope.signupForm.email.$error.required||$scope.signupForm.email.$error.email||!$scope.signupForm.email.$dirty)$scope.fieldStatus.email="done";else{$scope.signupForm.email.$setValidity("available",!1),""==email&&(email="0");var query_args={number:1,search_columns:["user_email"],fields:["user_email"],search:email};$scope.fieldStatus.email="busy",pwData.wp_user_query(query_args).then(function(response){$log.debug("QUERY : "+email,response.data.results),response.data.results.length>0?response.data.results[0].user_email===email?($scope.fieldStatus.email="taken",$scope.signupForm.email.$setValidity("available",!1)):($scope.fieldStatus.email="done",$scope.signupForm.email.$setValidity("available",!0)):($scope.fieldStatus.email="done",$scope.signupForm.email.$setValidity("available",!0))},function(response){throw{message:"Error: "+JSON.stringify(response)}})}},"undefined"!=typeof $scope.formData.email&&$scope.$watch("formData.email",function(){$scope.validateEmail($scope.formData.email)},1),$scope.insertUser=function(){$scope.status="inserting";var signupForm=$scope.signupForm,userdata={user_login:signupForm.username.$modelValue,user_pass:signupForm.password.$modelValue,user_email:signupForm.email.$modelValue,display_name:signupForm.name.$modelValue};$log.debug("INSERTING USER : ",userdata),pwData.pw_insert_user(userdata).then(function(response){$log.debug("USER INSERT SUCCESSFUL : ",response.data),"undefined"!=typeof response.data.ID&&(isNaN(response.data.ID)||($scope.userdata=response.data,$scope.status="done",$scope.mode="activate"))},function(response){throw{message:"Error: "+JSON.stringify(response)}})},$scope.sendActivationLink=function(user_email){pwUsers.sendActivationLink($scope,user_email)}};angular.module("UserValidation",[]).directive("validPasswordC",function(){return{require:"ngModel",link:function(scope,elm,attrs,ctrl){ctrl.$parsers.unshift(function(viewValue){var noMatch=viewValue!=scope.signupForm.password.$viewValue;ctrl.$setValidity("noMatch",!noMatch)})}}});var pwUserActivate=function($scope,$rootScope,pwData,$timeout,$log,pwUsers){$scope.status="done",$scope.formData={email:""},$scope.fieldStatus={email:"empty"},$scope.sendActivationLink=function(user_email){pwUsers.sendActivationLink($scope,user_email)},$scope.activateUserKey=function(auth_key){$scope.mode="activate",$scope.status="activating",$scope.auth_key=auth_key,"undefined"==typeof $scope.auth_key_animate&&($scope.auth_key_animate=" "),pwData.pw_activate_user(auth_key).then(function(response){$log.debug("ACTIVATION RETURN : ",response.data),"undefined"!=typeof response.data.data?($scope.userdata=response.data,$scope.animateAuthKey()):$scope.mode="error"},function(response){throw{message:"Error: "+JSON.stringify(response)}
})},$scope.animateAuthKey=function(){var position=$scope.auth_key_animate.length;$scope.auth_key_animate.length+1<=$scope.auth_key.length?($scope.auth_key_animate=$scope.auth_key.slice(0,position+1)+"|",$timeout(function(){$scope.animateAuthKey()},50)):($scope.status="activated",$timeout(function(){$scope.mode="welcome"},2e3))},$scope.resendActivationKeyScreen=function(){$scope.mode="resend"},$scope.validateEmailExists=function(email){var formName="resendKey",callback="validateEmailExistsCallback";pwUsers.validateEmailExists($scope,email,formName,callback)},$scope.validateEmailExistsCallback=function(response){response.data.results.length>0?"subscriber"!=response.data.results[0].roles[0]?($scope.fieldStatus.email="activated",$scope[formName].email.$setValidity("exists",!1)):($scope.fieldStatus.email="done",$scope[formName].email.$setValidity("exists",!0)):($scope.fieldStatus.email="unregistered",$scope[formName].email.$setValidity("exists",!1))},"undefined"!=typeof $scope.formData.email&&$scope.$watch("formData.email",function(){$scope.validateEmailExists($scope.formData.email)},1)},pwUserPasswordReset=function($scope,$rootScope,pwData,$timeout,$log,pwUsers){$scope.status="done",$scope.formName="resetPassword",$scope.formData={email:"",password:""},$scope.fieldStatus={email:"empty"},$scope.pwPasswordResetEmailInputScreen=function(){$scope.mode="emailInput"},$scope.pwPasswordResetScreen=function(auth_key){$scope.mode="resetPassword",$scope.authKey=auth_key},$scope.sendResetPasswordLink=function(email){pwUsers.sendResetPasswordLink($scope,email)},$scope.validateEmailExists=function(email){var callback="validateEmailExistsCallback";pwUsers.validateEmailExists($scope,email,$scope.formName,callback)},$scope.validateEmailExistsCallback=function(response){response.data.results.length>0?($scope[$scope.formName].email.$setValidity("exists",!0),$scope.fieldStatus.email="done"):($scope.fieldStatus.email="unregistered",$scope[$scope.formName].email.$setValidity("exists",!1))},"undefined"!=typeof $scope.formData.email&&$scope.$watch("formData.email",function(){$scope.validateEmailExists($scope.formData.email)},1),$scope.submitNewPassword=function(password){$scope.status="busy";var userdata={user_pass:password,auth_key:$scope.authKey};$scope.signupForm.$setValidity("busy",!1),$log.debug("SENDING NEW PASSWORD : ",userdata),pwData.reset_password_submit(userdata).then(function(response){$log.debug("NEW PASSWORD RETURN : ",response.data),isNaN(response.data.ID)?($scope.status="error",$timeout(function(){$scope.status="done",$scope.signupForm.$setValidity("busy",!0)},5e3)):($scope.status="done",$timeout(function(){$scope.mode="login"},1e3),$scope.signupForm.$setValidity("success",!0))},function(response){throw{message:"Error: "+JSON.stringify(response)}})}};postworld.service("pwUsers",["$log","$timeout","pwData",function($log,$timeout,pwData){return{sendActivationLink:function($scope,user_email){$scope.status="busy";var userdata={email:user_email};$log.debug("SENDING ACTIVATION LINK : ",userdata),pwData.send_activation_link(userdata).then(function(response){$log.debug("ACTIVATION LINK RETURN : ",response.data),1==response.data&&($scope.status="success",$timeout(function(){$scope.status="done"},1e4))},function(response){throw{message:"Error: "+JSON.stringify(response)}})},sendResetPasswordLink:function($scope,user_email){$scope.status="busy";var userdata={email:user_email};$log.debug("SENDING ACTIVATION LINK : ",userdata),pwData.send_reset_password_link(userdata).then(function(response){$log.debug("ACTIVATION LINK RETURN : ",response.data),1==response.data&&($scope.status="success",$timeout(function(){$scope.status="done"},1e4))},function(response){throw{message:"Error: "+JSON.stringify(response)}})},validateEmailExists:function($scope,email,formName,callback){if($scope[formName].email.$error.required||$scope[formName].email.$error.email||!$scope[formName].email.$dirty)$scope.fieldStatus.email="done";else{$scope[formName].email.$setValidity("exists",!1),""==email&&(email="0");var query_args={number:1,search_columns:["user_email"],fields:"all",search:email};$scope.fieldStatus.email="busy",pwData.wp_user_query(query_args).then(function(response){$log.debug("QUERY : "+email,response.data.results),$scope[callback](response)},function(response){throw{message:"Error: "+JSON.stringify(response)}})}}}}]),angular.module("pwFilters",[]).filter("htmlToPlaintext",function(){return function(text){return String(text).replace(/<(?:.|\n)*?>/gm,"")}}),angular.module("$strap.config",[]).value("$strapConfig",{}),angular.module("$strap.filters",["$strap.config"]),angular.module("$strap.directives",["$strap.config"]),angular.module("$strap",["$strap.filters","$strap.directives","$strap.config"]),angular.module("$strap.directives").directive("bsButton",["$parse","$timeout",function($parse){return{restrict:"A",require:"?ngModel",link:function(scope,element,attrs,controller){if(controller){element.parent('[data-toggle="buttons-checkbox"], [data-toggle="buttons-radio"]').length||element.attr("data-toggle","button");var startValue=!!scope.$eval(attrs.ngModel);startValue&&element.addClass("active"),scope.$watch(attrs.ngModel,function(newValue,oldValue){var bNew=!!newValue,bOld=!!oldValue;bNew!==bOld?$.fn.button.Constructor.prototype.toggle.call(button):bNew&&!startValue&&element.addClass("active")})}element.hasClass("btn")||element.on("click.button.data-api",function(){element.button("toggle")}),element.button();var button=element.data("button");button.toggle=function(){if(!controller)return $.fn.button.Constructor.prototype.toggle.call(this);var $parent=element.parent('[data-toggle="buttons-radio"]');$parent.length?(element.siblings("[ng-model]").each(function(k,v){$parse($(v).attr("ng-model")).assign(scope,!1)}),scope.$digest(),controller.$modelValue||(controller.$setViewValue(!controller.$modelValue),scope.$digest())):scope.$apply(function(){controller.$setViewValue(!controller.$modelValue)})}}}}]).directive("bsButtonsCheckbox",["$parse",function(){return{restrict:"A",require:"?ngModel",compile:function(tElement){tElement.attr("data-toggle","buttons-checkbox").find("a, button").each(function(k,v){$(v).attr("bs-button","")})}}}]).directive("bsButtonsRadio",["$timeout",function($timeout){return{restrict:"A",require:"?ngModel",compile:function(tElement,tAttrs){return tElement.attr("data-toggle","buttons-radio"),tAttrs.ngModel||tElement.find("a, button").each(function(k,v){$(v).attr("bs-button","")}),function(scope,iElement,iAttrs,controller){controller&&($timeout(function(){iElement.find("[value]").button().filter('[value="'+controller.$viewValue+'"]').addClass("active")}),iElement.on("click.button.data-api",function(ev){scope.$apply(function(){controller.$setViewValue($(ev.target).closest("button").attr("value"))})}),scope.$watch(iAttrs.ngModel,function(newValue,oldValue){if(newValue!==oldValue){var $btn=iElement.find('[value="'+scope.$eval(iAttrs.ngModel)+'"]');$btn.length&&$btn.button("toggle")}}))}}}}]),angular.module("$strap.directives").directive("bsPopover",["$parse","$compile","$http","$timeout","$q","$templateCache",function($parse,$compile,$http,$timeout,$q,$templateCache){return $("body").on("keyup",function(ev){27===ev.keyCode&&$(".popover.in").each(function(){$(this).popover("hide")})}),{restrict:"A",scope:!0,link:function(scope,element,attr){var getter=$parse(attr.bsPopover),value=(getter.assign,getter(scope)),options={};angular.isObject(value)&&(options=value),$q.when(options.content||$templateCache.get(value)||$http.get(value,{cache:!0})).then(function(template){angular.isObject(template)&&(template=template.data),attr.unique&&element.on("show",function(){$(".popover.in").each(function(){var $this=$(this),popover=$this.data("popover");popover&&!popover.$element.is(element)&&$this.popover("hide")})}),attr.hide&&scope.$watch(attr.hide,function(newValue,oldValue){newValue?popover.hide():newValue!==oldValue&&popover.show()}),attr.show&&scope.$watch(attr.show,function(newValue,oldValue){newValue?$timeout(function(){popover.show()}):newValue!==oldValue&&popover.hide()}),element.popover(angular.extend({},options,{content:template,html:!0}));var popover=element.data("popover");"undefined"!=typeof popover&&(popover.hasContent=function(){return this.getTitle()||template},popover.getPosition=function(){var r=$.fn.popover.Constructor.prototype.getPosition.apply(this,arguments);return $compile(this.$tip)(scope),scope.$digest(),this.$tip.data("popover",this),r}),scope.$popover=function(name){popover(name)},angular.forEach(["show","hide"],function(name){scope[name]=function(){popover[name]()}}),scope.dismiss=scope.hide,angular.forEach(["show","shown","hide","hidden"],function(name){element.on(name,function(ev){scope.$emit("popover-"+name,ev)})})})}}}]),angular.module("$strap.directives").directive("bsSelect",["$timeout",function($timeout){return{restrict:"A",require:"?ngModel",link:function(scope,element,attrs,controller){var options=scope.$eval(attrs.bsSelect)||{};$timeout(function(){element.selectpicker(options),element.next().removeClass("ng-scope")}),controller&&scope.$watch(attrs.ngModel,function(newValue,oldValue){angular.equals(newValue,oldValue)||element.selectpicker("refresh")})}}}]),postworld.controller("panelWidgetController",["$scope","$timeout","pwData","$compile",function($scope,$timeout,$pwData){$scope.status="loading",$scope.panel_id="",$scope.setPanelID=function(panel_id){$scope.panel_id=panel_id},$scope.$on("pwTemplatesLoaded",function(){$scope.panel_url=$pwData.pw_get_template("panels","",$scope.panel_id)})}]),postworld.controller("postShareReport",["$scope","$window","$timeout","pwData",function($scope,$window,$timeout,$pwData){if($scope.postShareReport={},"undefined"!=typeof $window.pwGlobals.current_view.post){$scope.post=$window.pwGlobals.current_view.post;var args={post_id:$scope.post.post_id};$pwData.post_share_report(args).then(function(response){$scope.postShareReport=response.data,$scope.status="done"},function(){})}}]),postworld.controller("userShareReportOutgoing",["$scope","$window","$timeout","pwData",function($scope,$window,$timeout,$pwData){if($scope.postShareReport={},"undefined"!=typeof $window.pwGlobals.displayed_user.user_id){$scope.displayed_user_id=$window.pwGlobals.displayed_user.user_id;var args={displayed_user_id:$scope.displayed_user_id};$pwData.user_share_report_outgoing(args).then(function(response){$scope.shareReportMetaOutgoing=response.data,$scope.status="done"},function(){})}}]),postworld.directive("pwLanguage",[function(){return{controller:"pwLanguageCtrl"}}]),postworld.controller("pwLanguageCtrl",["$scope","$window",function($scope,$window){$scope.language=$window.pwGlobals.language}]),postworld.filter("domain",function(){return function(input){var matches,output="",urls=/\w+:\/\/([\w|\.]+)/;return matches=urls.exec(input),null!==matches&&(output=matches[1]),output}});var adminPostDropdown=function($scope,$rootScope,$location,$window,$log,pwQuickEdit){$scope.menuOptions=[{name:"Quick Edit",icon:"icon-pencil",action:"quick-edit"},{name:"Edit",icon:"icon-edit",action:"pw-edit"},{name:"WP Edit",icon:"icon-edit-sign",action:"wp-edit"},{name:"Trash",icon:"icon-trash",action:"trash"}];var actionsByRole={administrator:{own:["quick-edit","pw-edit","wp-edit","trash"],other:["quick-edit","pw-edit","wp-edit","trash"]},editor:{own:["quick-edit","pw-edit","wp-edit","trash"],other:["quick-edit","pw-edit","wp-edit","trash"]},author:{own:["quick-edit","pw-edit","wp-edit","trash"],other:[]},contributor:{own:["quick-edit","pw-edit","wp-edit","trash"],other:[]},guest:{own:[],other:[]}};$scope.current_user=$window.pwGlobals.current_user,$scope.postPossession="undefined"!=typeof $scope.current_user.data&&"undefined"!=typeof $scope.post.author.ID?$scope.current_user.data.ID==$scope.post.author.ID?"own":"other":"other",0==$scope.current_user?$scope.currentRole="guest":void 0!=typeof $scope.current_user.roles&&($scope.currentRole=$scope.current_user.roles[0]),$scope.userOptions=[],angular.forEach($scope.menuOptions,function(option){"-1"!=actionsByRole[$scope.currentRole][$scope.postPossession].indexOf(option.action)&&$scope.userOptions.push(option)}),$scope.userOptions==[]&&($scope.userOptions="0"),$scope.menuAction=function(action){"wp-edit"==action&&($window.location.href=$scope.post.edit_post_link.replace("&amp;","&")),"pw-edit"==action&&($window.location.href="/post/#/edit/"+$scope.post.ID),"quick-edit"==action&&pwQuickEdit.openQuickEdit($scope.post),"trash"==action&&pwQuickEdit.trashPost($scope.post.ID,$scope)}},adminCommentDropdown=function($scope,$rootScope,$location,$window){var comment=$scope.child;$scope.menuOptions=[{name:"Edit",icon:"icon-edit",action:"edit"},{name:"Flag",icon:"icon-flag",action:"flag"},{name:"Trash",icon:"icon-trash",action:"trash"}];var actionsByRole={administrator:{own:["edit","flag","trash"],other:["edit","flag","trash"]},editor:{own:["edit","flag","trash"],other:["edit","flag","trash"]},author:{own:["edit","trash"],other:["flag"]},contributor:{own:["edit","trash"],other:["flag"]},guest:{own:[],other:[]}};$scope.current_user=$window.pwGlobals.current_user,$scope.postPossession="undefined"!=typeof $scope.current_user.data&&"undefined"!=typeof comment?$scope.current_user.data.ID==comment.user_id?"own":"other":"other",0==$scope.current_user?$scope.currentRole="guest":void 0!=typeof $scope.current_user.roles&&($scope.currentRole=$scope.current_user.roles[0]),$scope.userOptions=[],angular.forEach($scope.menuOptions,function(option){"-1"!=actionsByRole[$scope.currentRole][$scope.postPossession].indexOf(option.action)&&$scope.userOptions.push(option)}),$scope.userOptions==[]&&($scope.userOptions="0"),$scope.menuAction=function(action,child){if("edit"==action&&$scope.toggleEditBox(child),"flag"==action){$scope.flagComment(child);var updatedUserOptions=[];angular.forEach($scope.userOptions,function(option){"flag"!=option.action&&updatedUserOptions.push(option)}),$scope.userOptions=updatedUserOptions}"trash"==action&&window.confirm("Are you sure you want to delete this comment?")&&$scope.deleteComment(child)}};postworld.controller("editPost",["$scope","$rootScope","pwPostOptions","pwEditPostFilters","$timeout","$filter","embedly","pwData","$log","$route","$routeParams","$location","$http","siteOptions","ext","$window","pwRoleAccess",function($scope,$rootScope,$pwPostOptions,$pwEditPostFilters,$timeout,$filter,$embedly,$pwData,$log,$route,$routeParams,$location,$http,$siteOptions,$ext,$window,$pwRoleAccess){$scope.status="loading",$scope.post_data={},$scope.default_post_data={post_title:"",post_name:"",post_type:"blog",post_status:"draft",post_format:"standard",post_class:"contributor",link_url:"",post_date_gmt:"",post_permalink:"",tax_input:{topic:[],section:[],hilight:[],post_tag:[]},tags_input:"",post_meta:{}},$pwRoleAccess.setRoleAccess($scope),$scope.$on("$routeChangeSuccess",function(){if("new_post"==$route.current.action){"edit"==$scope.mode&&$scope.clear_post_data();var post_type=$routeParams.post_type||"";""!=post_type&&($scope.post_data.post_type=post_type),$scope.clear_post_data(),$scope.mode="new",$scope.status="done"}else"edit_post"==$route.current.action?$scope.load_post_data():"default"==$route.current.action&&$location.path("/new/blog")}),$scope.$on("loadPostData",function(event,post_id){$scope.load_post_data(post_id)}),$scope.load_post_data=function(post_id){if($scope.mode="edit","undefined"!=typeof $routeParams.post_id)var post_id=$routeParams.post_id;else var post_id=$scope.post.ID;$pwData.pw_get_post_edit(post_id).then(function(response){$log.debug("pwData.pw_get_post_edit : RESPONSE : ",response.data);var get_post_data=response.data,tax_input={},tax_obj=get_post_data.taxonomy;angular.forEach(tax_obj,function(terms,taxonomy){tax_input[taxonomy]=[],angular.forEach(terms,function(term){tax_input[taxonomy].push(term.slug)}),"post_tag"==taxonomy&&$scope.$broadcast("postTagsObject",terms)}),delete get_post_data.taxonomy,get_post_data.tax_input=tax_input,$scope.set_post_content(get_post_data.post_content),"undefined"!=typeof get_post_data.author.user_nicename&&(get_post_data.post_author_name=get_post_data.author.user_nicename,delete get_post_data.author),$scope.$broadcast("updateUsername",get_post_data.post_author_name),$scope.post_data=get_post_data,$scope.status="done"},function(){$scope.status="error"})},$scope.set_post_content=function(post_content){$timeout(function(){"undefined"!=typeof tinyMCE?"undefined"!=typeof tinyMCE.get("post_content")?tinyMCE.get("post_content").setContent(post_content):$scope.set_post_content(post_content):$scope.set_post_content(post_content)},250)},$scope.savePost=function(){if(""!=$scope.post_data.post_title||"undefined"!=typeof $scope.post_data.post_title){"undefined"!=typeof tinyMCE&&"undefined"!=typeof tinyMCE.get("post_content")&&($scope.post_data.post_content=tinyMCE.get("post_content").getContent()),"undefined"==typeof $scope.post_data.link_url&&($scope.post_data.link_url="");var post_data=$scope.post_data;$log.debug("pwData.pw_save_post : SUBMITTING : ",post_data),$scope.status="saving",$pwData.pw_save_post(post_data).then(function(response){if($log.debug("pwData.pw_save_post : RESPONSE : ",response.data),response.data===parseInt(response.data)){var post_id=response.data;$scope.status="success",$timeout(function(){$scope.status="done"},4e3),"new"==$scope.mode?$location.path("/edit/"+post_id):$scope.load_post_data(),$rootScope.$broadcast("postUpdated",post_id)}else"object"==typeof response.data?alert("Error : "+JSON.stringify(response.data)):alert("Error : "+response.data),$scope.status="done"},function(){$scope.status="error",$timeout(function(){$scope.status="done"},4e3)})}else alert("Post not saved : missing fields.")},$scope.clear_post_data=function(){$scope.post_data=$scope.default_post_data,$timeout(function(){"undefined"!=typeof tinyMCE&&"undefined"!=typeof tinyMCE.get("post_content")&&tinyMCE.get("post_content").setContent("")},1)},$scope.pw_get_post_object=function(){var post_data=$scope.default_post_data;return post_data.post_class=1==$scope.roles.author||1==$scope.roles.editor?"author":"contributor",post_data=$pwEditPostFilters.sortTaxTermsInput(post_data,$scope.tax_terms,"tax_input")},$scope.post_type_options=$pwPostOptions.pwGetPostTypeOptions("edit"),$scope.post_format_options=$pwPostOptions.pwGetPostFormatOptions(),$scope.post_format_meta=$pwPostOptions.pwGetPostFormatMeta(),$scope.post_class_options=$pwPostOptions.pwGetPostClassOptions(),$scope.$on("updateUsername",function(event,data){$scope.post_data.post_author_name=data}),$scope.$on("updateTagsInput",function(event,data){$scope.post_data.tax_input.post_tag=data}),$pwPostOptions.getTaxTerms($scope,"tax_terms"),$scope.selected_tax_terms={},$scope.$watch("[ post_data.tax_input, tax_terms ]",function(){"undefined"!=typeof $scope.tax_terms&&($scope.selected_tax_terms=$pwEditPostFilters.selected_tax_terms($scope.tax_terms,$scope.post_data.tax_input),$scope.post_data.tax_input=$pwEditPostFilters.clear_sub_terms($scope.tax_terms,$scope.post_data.tax_input,$scope.selected_tax_terms))},1),$scope.$watchCollection("[ post_data.link_url, post_data.post_format ]",function(){$scope.post_data.post_format=$pwEditPostFilters.evalPostFormat($scope.post_data.link_url,$scope.post_format_meta)}),$scope.$watch("post_data.post_type",function(){"new"==$scope.mode&&$location.path("/new/"+$scope.post_data.post_type),$rootScope.$broadcast("changePostType",$scope.post_data.post_type),$scope.post_status_options=$pwPostOptions.pwGetPostStatusOptions($scope.post_data.post_type),(null==$scope.post_data.post_status||""==$scope.post_data.post_status)&&angular.forEach($scope.post_status_options,function(value,key){$scope.post_data.post_status=key})},1),$scope.updateFeaturedImage=function(image_object){$scope.post_data.image={},$scope.post_data.image.meta=image_object,$scope.post_data.thumbnail_id=image_object.id,"undefined"!=typeof image_object&&($scope.hasFeaturedImage="true")},$scope.$watch("post_data.image",function(){$scope.hasFeaturedImage="undefined"!=typeof $scope.post_data.thumbnail_id&&""!==$scope.post_data.thumbnail_id&&"delete"!==$scope.post_data.thumbnail_id?"true":"false"},1),$scope.removeFeaturedImage=function(){$scope.post_data.image={},$scope.post_data.thumbnail_id="delete",$scope.hasFeaturedImage="false"},$scope.getTinyMCEContent=function(){},$scope.$watch("editPost.$valid",function(){},1),$scope.post_data=$scope.pw_get_post_object()}]),postworld.controller("eventInput",["$scope","$rootScope","pwPostOptions","pwEditPostFilters","$timeout","$filter","pwData","$log","siteOptions","ext",function($scope,$rootScope,$pwPostOptions,$pwEditPostFilters,$timeout,$filter){"undefined"==typeof $scope.post_data.post_meta&&($scope.post_data.post_meta={}),"undefined"==typeof $scope.post_data.post_meta.event_start_date_obj&&($scope.post_data.post_meta.event_start_date_obj=new Date),"undefined"==typeof $scope.post_data.post_meta.event_end_date_obj&&($scope.post_data.post_meta.event_end_date_obj=new Date),$scope.$watch("post_data.post_meta.event_start_date_obj",function(){$scope.post_data.post_meta.event_start_date=$filter("date")($scope.post_data.post_meta.event_start_date_obj,"yyyy-MM-dd HH:mm"),$scope.post_data.post_meta.event_end_date_obj<$scope.post_data.post_meta.event_start_date_obj&&($scope.post_data.post_meta.event_end_date_obj=$scope.post_data.post_meta.event_start_date_obj)},1),$scope.$watch("post_data.post_meta.event_end_date_obj",function(){$scope.post_data.post_meta.event_end_date=$filter("date")($scope.post_data.post_meta.event_end_date_obj,"yyyy-MM-dd HH:mm"),$scope.post_data.post_meta.event_start_date_obj>$scope.post_data.post_meta.event_end_date_obj&&($scope.post_data.post_meta.event_start_date_obj=$scope.post_data.post_meta.event_end_date_obj)},1),$scope.$on("changePostType",function(){$scope.post_data.post_meta={}}),$scope.showWeeks=!1,$scope.clear=function(){$scope.dt=null},$scope.dateOptions={"year-format":"'yy'","starting-day":1},$scope.minDate=new Date,$scope.mytime=new Date,$scope.hstep=1,$scope.mstep=1,$scope.options={hstep:[1,2,3],mstep:[1,5,10,15,25,30]},$scope.ismeridian=!0,$scope.toggleMode=function(){$scope.ismeridian=!$scope.ismeridian},$scope.changed=function(){},$scope.update=function(){var d=new Date;d.setHours(14),d.setMinutes(0),$scope.mytime=d},$scope.clear=function(){$scope.mytime=null}}]),postworld.controller("AuthorAutocomplete",["$scope",function($scope){$scope.selected=void 0,$scope.authors=["Erik Davis","Daniel Pinchbeck","Ken Jordan","Starhawk","Faye","Alex Grey","Nick Meador","Maureen Dawn Healy","Jonathon Miller Weisberger","Adam Elenbaas","Dan Phiffer","Michael Garfield","Jay Michaelson","Nathan Walters","Carolyn Elliott","Gary Lachman","Kourosh Ziabari","Adam Sommer"]}]),postworld.controller("postLink",["$scope","$log","$timeout","pwPostOptions","pwEditPostFilters","embedly","ext","pwData","$window","pwRoleAccess",function($scope,$log,$timeout,$pwPostOptions,$pwEditPostFilters,$embedly,$ext,$pwData,$window,$pwRoleAccess){$scope.link_url="",$scope.loaded="false",$scope.mode="url_input",$scope.status="done",$pwRoleAccess.setRoleAccess($scope),$scope.post_type_options=$pwPostOptions.pwGetPostTypeOptions("edit"),$scope.post_status_options=$pwPostOptions.pwGetPostStatusOptions("link"),$scope.post_format_options=$pwPostOptions.pwGetPostFormatOptions(),$scope.post_format_meta=$pwPostOptions.pwGetPostFormatMeta(),$scope.post_class_options=$pwPostOptions.pwGetPostClassOptions(),$pwPostOptions.getTaxTerms($scope,"tax_terms"),$scope.selected_tax_terms={},$scope.$watch("post_data.tax_input",function(){$scope.selected_tax_terms=$pwEditPostFilters.selected_tax_terms($scope.tax_terms,$scope.post_data.tax_input),$scope.post_data.tax_input=$pwEditPostFilters.clear_sub_terms($scope.tax_terms,$scope.post_data.tax_input,$scope.selected_tax_terms)},1),$scope.$on("updateUsername",function(event,data){$scope.post_data.post_author_name=data}),$scope.$on("updateTagsInput",function(event,data){$scope.post_data.tax_input.post_tag=data}),$scope.post_data={post_title:"Link Title",post_type:"link",link_url:"",post_format:"standard",post_class:"contributor",tags_input:"",post_status:"publish",tax_input:{topic:[],section:[],hilight:[],post_tag:[]}},(1==$scope.roles.editor||1==$scope.roles.author)&&($scope.post_data.post_class="author"),$scope.extract_url=function(){$scope.status="busy",$embedly.liveEmbedlyExtract($scope.link_url).then(function(response){console.log(response),$scope.embedly_extract=response,$scope.status="done"},function(response){throw{message:"Embedly Error"+response}})},$scope.reset_extract=function(){$scope.embedly_extract={}},$scope.ok=function(){$scope.mode="url_input"},$scope.embedly_extract={},$scope.$watch("embedly_extract",function(){$scope.mode="undefined"==typeof $scope.embedly_extract.title?"url_input":"post_input","post_input"==$scope.mode&&($scope.embedly_extract_translated=$embedly.translateToPostData($scope.embedly_extract),$scope.post_data=$ext.mergeRecursiveObj($scope.post_data,$scope.embedly_extract_translated),$scope.embedly_extract_image_meta=$embedly.embedlyExtractImageMeta($scope.embedly_extract),$scope.selected_image=0),$scope.loaded="true"},1),$scope.selected_image=0,$scope.previousImage=function(){0==$scope.selected_image?$scope.selected_image=$scope.embedly_extract_image_meta.image_count-1:$scope.selected_image--},$scope.nextImage=function(){$scope.selected_image>=$scope.embedly_extract_image_meta.image_count-1?$scope.selected_image=0:$scope.selected_image++},$scope.$watch("selected_image",function(newValue){$scope.post_data.thumbnail_url="undefined"!=typeof $scope.embedly_extract_image_meta?$scope.embedly_extract_image_meta.images[newValue].url:""},1),$scope.selected_tax_terms={},$scope.$watch("post_data.tax_input",function(){$scope.selected_tax_terms=$pwEditPostFilters.selected_tax_terms($scope.tax_terms,$scope.post_data.tax_input),$scope.post_data.tax_input=$pwEditPostFilters.clear_sub_terms($scope.tax_terms,$scope.post_data.tax_input,$scope.selected_tax_terms)},1),$scope.$watchCollection("[post_data.link_url, post_data.post_format]",function(){$scope.post_data.post_format=$pwEditPostFilters.evalPostFormat($scope.post_data.link_url,$scope.post_format_meta)}),$scope.savePost=function(){$scope.status="busy","undefined"==typeof $scope.post_data.link_url&&($scope.post_data.link_url="");var post_data=$scope.post_data;$log.debug("pwData.pw_save_post : POSTING LINK : ",post_data),$pwData.pw_save_post(post_data).then(function(response){if($log.debug("pwData.pw_save_post : RESPONSE : ",response.data),response.data===parseInt(response.data)){{response.data}$scope.status="success",$scope.mode="success",$timeout(function(){$scope.status="done"},2e3)}else $scope.status="done"},function(){$scope.status="error",$timeout(function(){$scope.status="done",$scope.postLinkForm.$setValidity("busy",!0)},2e3)})}}]),postworld.directive("feedItem",function(){return{restrict:"A",replace:!0,controller:"pwFeedItemController",scope:{feedItem:"=",post:"=",feedId:"="}}}),postworld.controller("pwFeedItemController",function($scope,$location,$log,pwData){pwData.templates.promise.then(function(){var type="post";$scope.post.post_type&&(type=$scope.post.post_type),$scope.templateUrl="ad"==type?pwData.pw_get_template("panels","",$scope.post.template):pwData.pw_get_template("posts",type,$scope.$parent.feed_item_view_type)}),$scope.decodeURI=function(URI){return URI=URI.replace("&amp;","&"),decodeURIComponent(URI)},$scope.$on("FEED_TEMPLATE_UPDATE",function(event,feed_item_view_type){pwData.templates.promise.then(function(){if("ad"!=$scope.post.post_type){var type=$scope.post.post_type;$scope.templateUrl=pwData.pw_get_template("posts",type,feed_item_view_type)}})})}),postworld.directive("filterFeed",function(){return{restrict:"EA",replace:!0,controller:"pwFilterFeedController",scope:{feedId:"=",feedQuery:"=",submit:"&"}}}),postworld.controller("pwFilterFeedController",function($scope,$location,$log,pwData,$attrs){var firstTime=!0;pwData.templates.promise.then(function(){var FeedID=$scope.feedId,template="feed_top";return $scope.feedId?($scope.feedQuery=pwData.convertFeedSettings($scope.feedId).feed_query,$scope.feedQuery.author_name="",$scope.taxInput={hilight:[],topic:[],section:[],type:[]},pwData.feed_settings[FeedID].panels[$attrs.filterFeed]&&(template=pwData.feed_settings[FeedID].panels[$attrs.filterFeed]),$scope.templateUrl=pwData.pw_get_template("panels","panel",template),void 0):($log.debug("no valid Feed ID provided in Feed Settings"),void 0)}),$scope.$on("updateUsername",function(event,data){$scope.feedQuery.author_name=data}),$scope.submit1=function(){},$scope.toggleOrder=function(){$scope.feedQuery.order="ASC"==$scope.feedQuery.order?"DESC":"ASC"},$scope.$watch("feedQuery.order_by",function(){}),$scope.$watch("feedQuery.order",function(value){$log.debug("pwFilterFeedController.changeFeedTemplate order changed",$scope.feedQuery.order),$scope.clsOrder="DESC"==value?"glyphicon-arrow-down":"glyphicon-arrow-up"}),$scope.$watch("taxInput",function(value){return firstTime?(firstTime=!1,void 0):($log.info("taxInput",value),$scope.feedQuery.tax_query=[],angular.forEach($scope.taxInput,function(terms,taxonomy){if(terms.length>0&&null!=terms[0]){angular.forEach(terms,function(term){if(null==term){var index=terms.indexOf(term);index>-1&&terms.splice(index,1)}});var termQueryObject={taxonomy:taxonomy,field:"slug",terms:terms};$scope.feedQuery.tax_query.push(termQueryObject)}}),$scope.submit(),void 0)},1),$scope.changeFeedTemplate=function(view){this.$emit("CHANGE_FEED_TEMPLATE",view)}}),postworld.directive("registerFeed",function(){return{restrict:"A",replace:!0,controller:"pwRegisterFeedController"}}),postworld.controller("pwRegisterFeedController",function($scope,$location,$log,pwData){$scope.args={},$scope.args.write_cache=!1,$scope.args.feed_id="",$scope.registerFeed=function(){$scope.args.feed_query=$scope.$parent.feedQuery,$log.debug("pwRegisterFeedController.pwRegisterFeed For",$scope.args),pwData.setNonce(78),pwData.pw_register_feed($scope.args).then(function(response){return void 0===response.status?(console.log("response format is not recognized"),$scope.message="Error in Feed Registration",void 0):200==response.status?($log.debug("pwRegisterFeedController.pwRegisterFeed Success",response.data),$scope.message="Feed Registered Successfully",response.data):(console.log("error",response.status,response.message),$scope.message="Error in Feed Registration"+response.message,void 0)},function(response){$log.error("pwRegisterFeedController.pwRegisterFeed Failure",response)})}}),postworld.directive("loadPanel",function(){return{restrict:"EA",controller:"pwLoadPanelController",scope:{},link:function($scope,element,attributes){$scope.panel_id=attributes.loadPanel,$scope.panel_grp="panels",$scope.post_type="",attributes.panelGroup&&($scope.panel_grp=attributes.panelGroup),attributes.postType&&($scope.post_type=attributes.postType)}}}),postworld.controller("pwLoadPanelController",function($scope,$timeout,$log,pwData){$scope.$on("pwTemplatesLoaded",function(){$scope.templateUrl=pwData.pw_get_template($scope.panel_grp,$scope.post_type,$scope.panel_id),$log.debug("setting loadpanel url",$scope.panel_grp,$scope.post_type,$scope.panel_id,$scope.templateUrl)})}),angular.module("TimeAgoFilter",[]).filter("timeago",function(){function pad(number,length){for(var str=""+number;str.length<length;)str="0"+str;return str}var offset=(new Date).getTimezoneOffset();offset=(0>offset?"+":"-")+pad(parseInt(Math.abs(offset/60)),2)+pad(Math.abs(offset%60),2),console.log("offset",offset);var thedate="2013-10-26T20:00:32.000Z";return console.log("time",new Date(thedate)),function(input,p_allowFuture){var words,substitute=function(stringOrFunction,number,strings){var string=$.isFunction(stringOrFunction)?stringOrFunction(number,dateDifference):stringOrFunction,value=strings.numbers&&strings.numbers[number]||number;return string.replace(/%d/i,value)},nowTime=(new Date).getTime(),date=new Date(input+"Z").getTime(),allowFuture=p_allowFuture||!1,strings={prefixAgo:null,prefixFromNow:null,suffixAgo:"ago",suffixFromNow:"from now",seconds:"less than a minute",minute:"about a minute",minutes:"%d minutes",hour:"about an hour",hours:"about %d hours",day:"a day",days:"%d days",month:"about a month",months:"%d months",year:"about a year",years:"%d years"},dateDifference=nowTime-date,seconds=Math.abs(dateDifference)/1e3,minutes=seconds/60,hours=minutes/60,days=hours/24,years=days/365,separator=void 0===strings.wordSeparator?" ":strings.wordSeparator,prefix=strings.prefixAgo,suffix=strings.suffixAgo;
return allowFuture&&0>dateDifference&&(prefix=strings.prefixFromNow,suffix=strings.suffixFromNow),words=45>seconds&&substitute(strings.seconds,Math.round(seconds),strings)||90>seconds&&substitute(strings.minute,1,strings)||45>minutes&&substitute(strings.minutes,Math.round(minutes),strings)||90>minutes&&substitute(strings.hour,1,strings)||24>hours&&substitute(strings.hours,Math.round(hours),strings)||42>hours&&substitute(strings.day,1,strings)||30>days&&substitute(strings.days,Math.round(days),strings)||45>days&&substitute(strings.month,1,strings)||365>days&&substitute(strings.months,Math.round(days/30),strings)||1.5>years&&substitute(strings.year,1,strings)||substitute(strings.years,Math.round(years),strings),$.trim([prefix,words,suffix].join(separator))}}),angular.module("TruncateFilter",[]).filter("truncate",function(){return function(text,length,end){return isNaN(length)&&(length=10),void 0===end&&(end="..."),text.length<=length||text.length-end.length<=length?text:String(text).substring(0,length-end.length)+end}}),postworld.controller("inputSearch",["$scope","$window","$timeout","pwData",function($scope,$window){$scope.input={},$scope.submit=function(){$window.location.href="/s/#/?s="+$scope.input.s}}]),postworld.config(function(){}),postworld.directive("liveFeed",function(){return{restrict:"A",replace:!0,controller:"pwFeedController",scope:{}}}),postworld.directive("loadFeed",function(){return{restrict:"A",controller:"pwFeedController",scope:{}}}),postworld.directive("loadPost",function(){return{restrict:"A",replace:!0,controller:"pwLoadPostController",scope:{}}}),postworld.controller("pwFeedController",function($scope,$location,$log,$attrs,$timeout,pwData){$scope.convertFeedQuery2QueryString=function(params){$log.info("Feed Query Override by Feed Query",params);var queryString="";for(var key in params)if(null!=params[key])if("tax_query"!=key)(0===params[key]||params[key]===!1||""!=params[key])&&(queryString+=key+"="+escape(params[key])+"&");else{var taxInput=escape(JSON.stringify(params[key]));queryString+=key+"="+taxInput+"&"}queryString=queryString.substring(0,queryString.length-1),$log.debug("path is ",$location.path());var path=$location.path();$location.path(path).search(queryString),$log.info("abslute path = ",$location.absUrl(),queryString)},$scope.getQueryStringArgs=function(){if(!$attrs.loadFeed){var params=$location.search();return params&&params.tax_query&&(params.tax_query=JSON.parse(params.tax_query)),params}},$scope.busy=!1,$scope.firstRun=!0,$scope.args={},$scope.args.feed_query={},$scope.feed_query={},$scope.scrollMessage="",$scope.items=[],$scope.message="",$attrs.liveFeed?($scope.directive="liveFeed",$scope.feed=$attrs.liveFeed,$scope.args.feed_id=$attrs.liveFeed):$attrs.loadFeed&&($scope.directive="loadFeed",$scope.feed=$attrs.loadFeed,$scope.args.feed_id=$attrs.loadFeed),pwData.templates.promise.then(function(){if(!$scope.feed)return $log.debug("no valid Feed ID provided in Feed Settings",$scope),void 0;$scope.title=pwData.feed_settings[$scope.feed].title?pwData.feed_settings[$scope.feed].title:"";var view="list";if(pwData.feed_settings[$scope.feed].view.current&&(view=pwData.feed_settings[$scope.feed].view.current),$scope.feed_item_view_type=view,!pwData.feed_settings[$scope.feed].feed_template)return"liveFeed"==$scope.directive?$scope.templateUrl=jsVars.pluginurl+"/postworld/templates/directives/liveFeed.html":"loadFeed"==$scope.directive&&($scope.templateUrl=jsVars.pluginurl+"/postworld/templates/directives/loadFeed.html"),void 0;var template=pwData.feed_settings[$scope.feed].feed_template;$scope.templateUrl=pwData.pw_get_template("panels","panel",template)}),$scope.$on("CHANGE_FEED_TEMPLATE",function(event,view){$log.debug("pwFeedController: Event Received:CHANGE_FEED_TEMPLATE",view),$scope.feed_item_view_type=view,$scope.$broadcast("FEED_TEMPLATE_UPDATE",$scope.feed_item_view_type)}),$scope.injectAds=function(){if(pwData.feed_settings[$scope.feed].blocks){$scope.adBlocks=0;var len=pwData.feed_data[$scope.feed].posts.length,offset=0;pwData.feed_settings[$scope.feed].blocks.offset&&(offset=pwData.feed_settings[$scope.feed].blocks.offset);var increment=10;pwData.feed_settings[$scope.feed].blocks.increment&&(increment=pwData.feed_settings[$scope.feed].blocks.increment);var max_blocks=5;pwData.feed_settings[$scope.feed].blocks.max_blocks&&(max_blocks=pwData.feed_settings[$scope.feed].blocks.max_blocks);var adTemplate="ad-block";pwData.feed_settings[$scope.feed].blocks.template&&(adTemplate=pwData.feed_settings[$scope.feed].blocks.template),$scope.adNextID=offset;for(var i=offset;i<len+$scope.adBlocks&&(console.log("Next Ad on ",$scope.adNextID),!(i>=len))&&!($scope.adBlocks>=max_blocks);i+=increment){var item={post_type:"ad",template:adTemplate};$scope.items.splice(i+$scope.adBlocks,0,item),$scope.adBlocks++,$scope.adNextID+=increment+1}}},$scope.injectNewAd=function(){if(pwData.feed_settings[$scope.feed].blocks){var max_blocks=5;pwData.feed_settings[$scope.feed].blocks.max_blocks&&(max_blocks=pwData.feed_settings[$scope.feed].blocks.max_blocks);var adTemplate="ad-block";pwData.feed_settings[$scope.feed].blocks.template&&(adTemplate=pwData.feed_settings[$scope.feed].blocks.template);var increment=10;if(pwData.feed_settings[$scope.feed].blocks.increment&&(increment=pwData.feed_settings[$scope.feed].blocks.increment),$scope.adBlocks>=max_blocks)return;var len=$scope.items.length;if($scope.adNextID==len){var item={post_type:"ad",template:adTemplate};$scope.items.push(item),$scope.adBlocks++,$scope.adNextID+=increment+1}}},$scope.resetFeedData=function(){if(pwData.feed_data[$scope.feed]={},pwData.feed_settings[$scope.feed].feed_outline){pwData.feed_data[$scope.feed].feed_outline=pwData.feed_settings[$scope.feed].feed_outline;var max=pwData.feed_settings[$scope.feed].max_posts;max<pwData.feed_settings[$scope.feed].feed_outline.length&&(pwData.feed_data[$scope.feed].feed_outline=pwData.feed_data[$scope.feed].feed_outline.splice(0,max)),pwData.feed_data[$scope.feed].count_feed_outline=pwData.feed_settings[$scope.feed].feed_outline.length}pwData.feed_data[$scope.feed].loaded=0,pwData.feed_data[$scope.feed].count_loaded=0,pwData.feed_data[$scope.feed].posts=[],$scope.items=JSON.parse(JSON.stringify(pwData.feed_data[$scope.feed].posts))},$scope.fillFeedData=function(response){if(pwData.feed_data[$scope.feed]={},"loadFeed"==$scope.directive&&pwData.feed_settings[$scope.feed].offset){var offset=pwData.feed_settings[$scope.feed].offset,len=response.data.feed_outline.length;response.data.feed_outline=response.data.feed_outline.splice(offset,len),response.data.post_data=response.data.post_data.splice(offset,len)}pwData.feed_data[$scope.feed].feed_outline=response.data.feed_outline;var max=pwData.feed_settings[$scope.feed].max_posts;max<=response.data.feed_outline.length&&(pwData.feed_data[$scope.feed].feed_outline=pwData.feed_data[$scope.feed].feed_outline.splice(0,max)),pwData.feed_data[$scope.feed].posts=response.data.post_data,pwData.feed_data[$scope.feed].loaded=response.data.post_data.length,pwData.feed_data[$scope.feed].count_loaded=response.data.post_data.length,pwData.feed_data[$scope.feed].count_feed_outline=pwData.feed_data[$scope.feed].feed_outline.length,pwData.feed_data[$scope.feed].count_loaded>=pwData.feed_data[$scope.feed].count_feed_outline?(pwData.feed_data[$scope.feed].status="all_loaded",$scope.scrollMessage="No more posts to load."):(pwData.feed_data[$scope.feed].status="loaded",$scope.scrollMessage="Scroll down to load more.")},$scope.getNext=function(){return $scope.message="",$scope.busy?($log.debug("pwFeedController.getNext: We're Busy, wait!"),void 0):($scope.busy=!0,$scope.firstRun?($scope.firstRun=!1,"liveFeed"==$scope.directive?$scope.pwLiveFeed():"loadFeed"==$scope.directive&&$scope.pwLoadFeed()):$scope.pwScrollFeed(),void 0)},$scope.pwRestart=function(){$scope.convertFeedQuery2QueryString($scope.args.feed_query),$scope.firstRun=!0,this.getNext()},$scope.pwLiveFeed=function(){$scope.args.feed_query||($scope.args.feed_query={}),$scope.items={},pwData.setNonce(78);var qsArgs=$scope.getQueryStringArgs(),argsValue=JSON.parse(JSON.stringify($scope.args)),qsArgsValue=JSON.parse(JSON.stringify(qsArgs));pwData.pw_live_feed(argsValue,qsArgsValue).then(function(response){return $scope.busy=!1,void 0===response.status?(console.log("response format is not recognized"),void 0):200==response.status?(response.data instanceof Array?($scope.message="No Data Returned",$log.debug("pwFeedController.pw_live_feed No Data Received")):($scope.fillFeedData(response),$scope.items=JSON.parse(JSON.stringify(response.data.post_data)),$scope.injectAds()),$scope.busy=!1,response.data):(console.log("error",response.status,response.message),void 0)},function(response){$scope.busy=!1,$log.error("pwFeedController.pw_live_feed Failure",response)})},$scope.pwLoadFeed=function(){$scope.args.feed_query||($scope.args.feed_query={}),$scope.items={},pwData.setNonce(78);var args={};return args.feed_id=$scope.feed,pwData.feed_settings[$scope.feed].feed_id&&(args.feed_id=pwData.feed_settings[$scope.feed].feed_id),args.preload=pwData.feed_settings[$scope.feed].preload,pwData.feed_settings[$scope.feed].feed_outline?($scope.resetFeedData(),$scope.pwScrollFeed(),void 0):(pwData.pw_load_feed(args).then(function(response){return $scope.busy=!1,void 0===response.status?(console.log("response format is not recognized"),void 0):200==response.status?(response.data instanceof Array?($scope.message="No Data Returned",$log.debug("pwFeedController.pw_load_feed No Data Received")):($scope.fillFeedData(response),$scope.items=JSON.parse(JSON.stringify(response.data.post_data)),$scope.injectAds()),$scope.busy=!1,response.data):(console.log("error",response.status,response.message),void 0)},function(response){$scope.busy=!1,$log.error("pwFeedController.pw_live_feed Failure",response)}),void 0)},$scope.pwScrollFeed=function(){return"all_loaded"==pwData.feed_data[$scope.feed].status?($scope.busy=!1,void 0):(pwData.feed_data[$scope.feed].status="loading",pwData.setNonce(78),pwData.pw_get_posts($scope.args).then(function(response){if($scope.busy=!1,void 0===response.status)return console.log("response format is not recognized"),void 0;if(200==response.status){for(var newItems=response.data,i=0;i<newItems.length;i++)pwData.feed_data[$scope.feed].posts.push(newItems[i]),$scope.injectNewAd(),$scope.items.push(JSON.parse(JSON.stringify(newItems[i])));return pwData.feed_data[$scope.feed].loaded+=newItems.length,pwData.feed_data[$scope.feed].count_loaded=pwData.feed_data[$scope.feed].posts.length,pwData.feed_data[$scope.feed].count_loaded>=pwData.feed_data[$scope.feed].count_feed_outline?(pwData.feed_data[$scope.feed].status="all_loaded",$scope.scrollMessage="No more posts to load!"):(pwData.feed_data[$scope.feed].status="loaded",$scope.scrollMessage="Scroll down to load more"),response.data}console.log("error",response.status,response.message)},function(response){$log.error("pwFeedController.pwScrollFeed Failure",response),$scope.busy=!1}),void 0)}}),postworld.controller("pwLoadPostController",function($scope,$location,$log,$attrs,$timeout,pwData){if($scope.postSettings=window.load_post,!$scope.postSettings)throw{message:"pwLoadPostController: no post settings defined"};if($scope.postArgs=$scope.postSettings[$attrs.loadPost],!$scope.postSettings[$attrs.loadPost])throw{message:"pwLoadPostController: no post settings for "+$attrs.loadPost+"defined"};$scope.args={},$scope.args.post_id=$scope.postArgs.post_id,$scope.args.fields=$scope.postArgs.fields,$scope.pwLoadPost=function(){pwData.pw_get_post($scope.args).then(function(response){return $scope.busy=!1,void 0===response.status?(console.log("response format is not recognized"),void 0):200==response.status?($scope.post=response.data,pwData.templates.promise.then(function(){if($scope.post){var template=$scope.postArgs.view,post_type="post";$scope.post.post_type&&(post_type=$scope.post.post_type),$scope.templateUrl=pwData.pw_get_template("posts",post_type,template)}else $scope.templateUrl=jsVars.pluginurl+"/postworld/templates/posts/post-full.html"}),response.data):void 0},function(){})},$scope.pwLoadPost()}),postworld.controller("pwTestController",function($scope,$location,$log,$attrs,$timeout,pwData){$scope.pwTestPost=function(){var post_data={post_title:"hello content",post_content:"sdsfdsfds",post_status:"publish",post_author:1,post_category:[8,39],post_class:"test",post_format:"ggggggg",link_url:"sssssss",external_image:"fgdfgdfgdf"};pwData.pw_save_post(post_data).then(function(response){$log.debug("pwData.pw_save_post : saved post id: ",response.data)},function(){})},$scope.pwTestPost()}),postworld.directive("ngShowMore",function(){function link(scope){scope.child.showMore=!1,scope.child.tall=!1,scope.child.comment_content.length>600&&(scope.child.showMore=!0,scope.child.tall=!0)}return{restrict:"A",link:link}}),postworld.directive("loadComments",function(){return{restrict:"A",replace:!0,controller:"pwTreeController",scope:{post:"="}}}),postworld.controller("pwTreeController",function($scope,$timeout,pwCommentsService,$rootScope,$sce,$attrs,pwData,$log,$window){$scope.json="",$scope.user_id="undefined"!=typeof $window.pwGlobals.current_user.ID?$window.pwGlobals.current_user.ID:0,$scope.startTime=0,$scope.endTime=0,$scope.treedata={children:[]},$scope.minimized=!1,$scope.treeUpdated=!1,$scope.commentsLoaded=!1,$scope.key=0,$scope.commentsCount=0,$scope.feed=$attrs.loadComments,$scope.pluginUrl=jsVars.pluginurl,$scope.templateLoaded=!1,console.log("post is",$scope.post);var settings=pwCommentsService.comments_settings[$scope.feed];$scope.post&&(settings.query.post_id=$scope.post.ID),$scope.minPoints=settings.min_points,$scope.orderBy=settings.query.orderby?settings.query.orderby:"comment_date_gmt",settings.order_options&&($scope.orderOptions=settings.order_options),pwData.templates.promise.then(function(){if(settings.view){var template="comment-"+settings.view;$scope.templateUrl=pwData.pw_get_template("comments","comment",template),$log.debug("pwLoadCommentsController Set Post Template to ",$scope.templateUrl)}else $scope.templateUrl=$window.pwGlobals.paths.plugin_url+"/postworld/templates/comments/comments-default.html"}),$scope.loadComments=function(){$scope.commentsLoaded=!1,settings.query.orderby=$scope.orderBy,pwCommentsService.pw_get_comments($scope.feed).then(function(value){$log.debug("Got Comments: ",value.data),$scope.treedata={children:value.data},$scope.commentsLoaded=!0,$scope.treeUpdated=!$scope.treeUpdated,$scope.commentsCount=value.data.length})},$scope.toggleMinimized=function(child){child.minimized=!child.minimized},$scope.OpenClose=function(child){child.minimized=parseInt(child.comment_points)>$scope.minPoints?!1:!0},$scope.trustHtml=function(child){child.trustedContent=$sce.trustAsHtml(child.comment_content)},$scope.voteUpSelected=function(child){return child.viewer_points>0?"selected":void 0},$scope.voteDownSelected=function(child){return child.viewer_points<0?"selected":void 0},$scope.voteComment=function(points,child){if("undefined"!=typeof $window.pwGlobals.current_user.postworld)var vote_power=parseInt($window.pwGlobals.current_user.postworld.vote_power);if("undefined"==typeof vote_power)return alert("Must be logged in to vote."),!1;var has_voted=parseInt(child.viewer_points),setPoints=has_voted+points;Math.abs(setPoints)>vote_power&&(setPoints=vote_power*points);var args={comment_id:child.comment_ID,points:setPoints};child.voteStatus="busy",pwData.set_comment_points(args).then(function(response){$log.debug("VOTE RETURN : "+JSON.stringify(response)),response.data.id==child.comment_ID&&(child.comment_points=response.data.points_total,child.viewer_points=parseInt(child.viewer_points)+parseInt(response.data.points_added)),child.voteStatus="done"},function(){child.voteStatus="done"})},$scope.addChild=function(child,data){child.children||(child.children=[]),child.children.push(data),$scope.treeUpdated=!$scope.treeUpdated},$scope.updateChild=function(child,data){for(var key in data)child[key]=data[key];$scope.treeUpdated=!$scope.treeUpdated},$scope.toggleReplyBox=function(child){child.editInProgress||child.deleteInProgress||child.replyInProgress||(child.editMode=!1,child.deleteBox=!1,child.replyBox=!child.replyBox,child.replyBoxSelected=""==child.replyBoxSelected?"selected":"")},$scope.toggleEditBox=function(child){child.editInProgress||child.deleteInProgress||child.replyInProgress||(child.deleteBox=!1,child.replyBox=!1,child.editMode=!child.editMode)},$scope.toggleDeleteBox=function(child){child.editInProgress||child.deleteInProgress||child.replyInProgress||(child.editMode=!1,child.replyBox=!1,child.deleteBox=!child.deleteBox)},$scope.replyComment=function(child){child.replyInProgress=!0,child.replyError="";var args={};args.comment_data={},args.comment_data.comment_content=child.replyText,args.comment_data.comment_post_ID=child.comment_post_ID,args.comment_data.comment_date=new Date,args.comment_data.comment_parent=child==$scope.treedata?0:child.comment_ID,args.return_value="data",pwCommentsService.pw_save_comment(args).then(function(response){200==response.status&&response.data?(child.replyInProgress=!1,child.replyText="",child.replyBox=!1,child.replyBoxSelected="",child.replyError="",console.log("added",response),$scope.addChild(child,response.data)):(child.replyInProgress=!1,child.replyError="Error adding new comment",console.log("error adding new comment",response))},function(response){child.replyInProgress=!1,child.replyError="Error adding new comment",console.log("error adding new comment",response)})},$scope.editComment=function(child){child.editInProgress=!0,child.editError="";var args={};args.comment_data={comment_ID:child.comment_ID,comment_content:child.editText,user_id:child.user_id},args.return_value="data",pwCommentsService.pw_save_comment(args).then(function(response){200==response.status&&response.data?(child.editMode=!1,child.editInProgress=!1,child.editText="",child.editBox=!1,child.editError="",$scope.updateChild(child,response.data)):(child.editMode=!1,child.editInProgress=!1,child.editError="Error editing comment",console.log("error editing comment",response))},function(response){child.editMode=!1,child.editInProgress=!1,child.editError="Error editing comment",console.log("error editing comment",response)})},$scope.deleteComment=function(child){child.deleteInProgress=!0,child.deleteError="";var args={};args.comment_id=child.comment_ID,pwCommentsService.pw_delete_comment(args).then(function(response){200==response.status&&response.data?(child.deleteInProgress=!1,child.deleteBox=!1,child.deleteError="",console.log("deleted",response),$scope.removeChild(child)):(child.deleteInProgress=!1,child.deleteError="Error deleting comment",console.log("error deleting comment",response))},function(response){child.deleteInProgress=!1,child.deleteError="Error deleting comment",console.log("error deleting comment",response)})},$scope.flagComment=function(child){var args={comment_ID:child.comment_ID};pwCommentsService.flag_comment(args).then(function(response){200==response.status&&1==response.data?alert("Comment flagged for moderation."):alert("Comment not flagged for moderation.")},function(){alert("Comment not flagged for moderation.")})},$scope.removeChild=function(child){function walk(target){var i,children=target.children;if(children)for(i=children.length;i--;){if(children[i]===child)return children.splice(i,1);walk(children[i])}}walk($scope.treedata),$scope.treeUpdated=!$scope.treeUpdated},$scope.setRoles=function(child){var current_user=$window.pwGlobals.current_user;child.roles={},child.roles.isGuest=0==current_user?!0:!1,child.roles.isUser=0!=current_user.user_id?!0:!1,child.roles.isOwner=current_user.data.ID==child.user_id?!0:!1,child.roles.isAdmin="administrator"==current_user.roles[0]||"editor"==current_user.roles[0]?!0:!1}});var mod;mod=angular.module("infinite-scroll",[]),mod.directive("infiniteScroll",["$rootScope","$window","$timeout",function($rootScope,$window,$timeout){return{link:function(scope,elem,attrs){var checkWhenEnabled,container,handler,scrollDistance,scrollEnabled;return $window=angular.element($window),scrollDistance=0,null!=attrs.infiniteScrollDistance&&scope.$watch(attrs.infiniteScrollDistance,function(value){return scrollDistance=parseInt(value,10)}),scrollEnabled=!0,checkWhenEnabled=!1,null!=attrs.infiniteScrollDisabled&&scope.$watch(attrs.infiniteScrollDisabled,function(value){return scrollEnabled=!value,scrollEnabled&&checkWhenEnabled?(checkWhenEnabled=!1,handler()):void 0}),container=$window,null!=attrs.infiniteScrollContainer&&scope.$watch(attrs.infiniteScrollContainer,function(value){if(value=angular.element(value),null!=value)return container=value;throw new Exception("invalid infinite-scroll-container attribute.")}),null!=attrs.infiniteScrollParent&&(container=elem.parent(),scope.$watch(attrs.infiniteScrollParent,function(){return container=elem.parent()})),handler=function(){var containerBottom,elementBottom,remaining,shouldScroll;return container[0]===$window[0]?(containerBottom=container.height()+container.scrollTop(),elementBottom=elem.offset().top+elem.height()):(containerBottom=container.height(),elementBottom=elem.offset().top-container.offset().top+elem.height()),remaining=elementBottom-containerBottom,shouldScroll=remaining<=container.height()*scrollDistance,shouldScroll&&scrollEnabled?$rootScope.$$phase?scope.$eval(attrs.infiniteScroll):scope.$apply(attrs.infiniteScroll):shouldScroll?checkWhenEnabled=!0:void 0},container.on("scroll",handler),scope.$on("$destroy",function(){return container.off("scroll",handler)}),$timeout(function(){return attrs.infiniteScrollImmediateCheck?scope.$eval(attrs.infiniteScrollImmediateCheck)?handler():void 0:handler()},0)}}}]),postworld.directive("yaTree",function(){return{restrict:"A",transclude:"element",priority:1e3,terminal:!0,compile:function(tElement,tAttrs,transclude){var repeatExpr,childExpr,rootExpr,childrenExpr,branchExpr;return repeatExpr=tAttrs.yaTree.match(/^(.*) in ((?:.*\.)?(.*)) at (.*)$/),childExpr=repeatExpr[1],rootExpr=repeatExpr[2],childrenExpr=repeatExpr[3],branchExpr=repeatExpr[4],function(scope,element){function lookup(child){for(var i=cache.length;i--;)if(cache[i].scope[childExpr]===child)return cache.splice(i,1)[0]}function treeChange(root){if(scope.commentsLoaded){root=scope.treedata.children;var currentCache=[];!function walk(children,parentNode,parentScope,depth){for(var cursor,child,cached,childScope,grandchildren,i=0,n=children.length,last=n-1;n>i;++i)cursor=parentNode.childNodes[i],child=children[i],cached=lookup(child),cached&&cached.parentScope!==parentScope&&(cache.push(cached),cached=null),cached?cached.element!==cursor&&parentNode.insertBefore(cached.element,cursor):transclude(parentScope.$new(),function(clone,childScope){childScope[childExpr]=child,cached={scope:childScope,parentScope:parentScope,element:clone[0],branch:clone.find(branchExpr)[0]},parentNode.insertBefore(cached.element,cursor)}),childScope=cached.scope,childScope.$depth=depth,childScope.$index=i,childScope.$first=0===i,childScope.$last=i===last,childScope.$middle=!(childScope.$first||childScope.$last),currentCache.push(cached),grandchildren=child[childrenExpr],grandchildren&&grandchildren.length&&walk(grandchildren,cached.branch,childScope,depth+1)}(root,rootElement,scope,0);var i;for(i=cache.length;i--;){var cached=cache[i];cached.scope&&cached.scope.$destroy(),cached.element&&cached.element.parentNode.removeChild(cached.element)}cache=currentCache}}var rootElement=element[0].parentNode,cache=[];scope.$watch("treeUpdated",treeChange,!0)}}}}),postworld.factory("pwCommentsService",function($resource,$q,$log,pwData){var validSettings=!0,comments_settings=window.load_comments;null==comments_settings&&(validSettings=!1,$log.error("pwCommentsService() no valid comments_settings defined"));var comments_data={};return $log.debug("pwCommentsService() Registering comments_settings",comments_settings),{comments_settings:comments_settings,comments_data:comments_data,pw_get_comments:function(feed){var settings=this.comments_settings[feed];if(!settings)throw{message:"comments settings not initialized properly"};if(!settings.query)throw{message:"query for comments settings is not initialized properly"};return $log.debug("pwCommentsService.pw_get_comments",settings),pwData.wp_ajax("pw_get_comments",settings)},pw_save_comment:function(args){if(!args.comment_data)throw{message:"pw_save_comment - argument comment_data not initialized properly"};return $log.debug("pwCommentsService.pw_save_comment",args),pwData.wp_ajax("pw_save_comment",args)},pw_delete_comment:function(args){if(!args.comment_id)throw{message:"pw_delete_comment - argument comment_id not initialized properly"};return $log.debug("pwCommentsService.pw_delete_comment",args),pwData.wp_ajax("pw_delete_comment",args)},flag_comment:function(args){$log.debug("pwCommentsService.flag_comment",args);var params={args:args};return pwData.wp_ajax("flag_comment",params)}}}),postworld.factory("pwData",function($resource,$q,$log,$window){var nonce=0,validSettings=!0,feed_settings=window.feed_settings;null==feed_settings&&(validSettings=!1,$log.error("Service: pwData Method:Constructor  no valid feed_settings defined"));var feed_data={},getTemplate=function(pwData,grp,type,name){var template;switch(grp){case"posts":template=type?pwData.templatesFinal.posts[type][name]:jsVars.pluginurl+"/postworld/templates/posts/post-list.html";break;case"panels":template=pwData.templatesFinal.panels[name];break;case"comments":template=pwData.templatesFinal.comments[name];break;default:template=jsVars.pluginurl+"/postworld/templates/panels/feed_top.html"}return template},resource=$resource($window.pwGlobals.paths.ajax_url,{action:"wp_action"},{wp_ajax:{method:"POST",isArray:!1}});return{feed_settings:feed_settings,feed_data:feed_data,templates:$q.defer(),templatesFinal:{},setNonce:function(val){nonce=val},getNonce:function(){return nonce},wp_ajax:function(fname,args){var deferred=$q.defer();return resource.wp_ajax({action:fname},{args:args,nonce:this.getNonce()},function(data){deferred.resolve(data)},function(response){deferred.reject(response)}),deferred.promise},pw_live_feed:function(args,qsArgs){var fargs=this.convertFeedSettings(args.feed_id,args);fargs=this.mergeQueryString(fargs,qsArgs),fargs=this.removeEmptyArgs(fargs);var feedSettings=feed_settings[args.feed_id];feedSettings.finalFeedQuery=fargs.feed_query;var params={args:fargs};return this.wp_ajax("pw_live_feed",params)},pw_scroll_feed:function(args){$log.debug("pwData.pw_scroll_feed",args);var params={args:args};return this.wp_ajax("pw_scroll_feed",params)},o_embed:function(url,args){$log.debug("pwData.o_embed",args);var params={url:url,args:args};return this.wp_ajax("o_embed",params)},pw_get_posts:function(args){var feedSettings=feed_settings[args.feed_id],feedData=feed_data[args.feed_id];if("all_loaded"==feedData.status){$log.debug("pwData.pw_get_posts ALL LOADED");var response=$q.defer();return response.promise.resolve(1),response.promise}var idBegin=feedData.loaded,idEnd=idBegin+feedSettings.load_increment;0==feedData.loaded&&(idEnd=feedSettings.preload?idBegin+feedSettings.preload:idBegin+10);var fields,postIDs=feedData.feed_outline.slice(idBegin,idEnd);feedSettings.query_args&&null!=feedSettings.query_args.fields&&(fields=feedSettings.query_args.fields);var params={feed_id:args.feed_id,post_ids:postIDs,fields:fields};return $log.debug("pwData.pw_get_posts",params),this.wp_ajax("pw_get_posts",params)},pw_get_templates:function(templates_object){$log.debug("pwData.pw_get_templates",templates_object);var params={templates_object:templates_object};return this.wp_ajax("pw_get_templates",params)},pw_register_feed:function(args){$log.debug("pwData.pw_register_feed",args);var params={args:args};return this.wp_ajax("pw_register_feed",params)},pw_load_feed:function(args){$log.debug("pwData.pw_load_feed",args);var params={args:args};return this.wp_ajax("pw_load_feed",params)},pw_get_post:function(args){return $log.debug("pwData.pw_get_post",args),this.wp_ajax("pw_get_post",args)},pw_get_template:function(grp,type,name){var template=getTemplate(this,grp,type,name);return template},convertFeedSettings:function(feedID){var fargs={};fargs.feed_query={};var feed=feed_settings[feedID];return $log.info("Feed Query Override by Feed Settings",feedID,feed.query_args),null!=feed.query_args&&(fargs.feed_query=feed.query_args),fargs.preload=null!=feed.preload?feed.preload:10,fargs.offset=null!=feed.offset?feed.offset:0,fargs.feed_query.posts_per_page=null!=feed.max_posts?feed.max_posts:1e3,null!=feed.order_by&&(fargs.feed_query.order="+"==feed.order_by.charAt(0)?"ASC":"-"==feed.order_by.charAt(0)?"DESC":"ASC",("+"==feed.order_by.charAt(0)||"-"==feed.order_by.charAt(0))&&(fargs.feed_query.order_by=feed.order_by.slice(1))),null!=feed.offset&&(fargs.feed_query.offset=feed.offset),fargs.feed_id=feedID,fargs},mergeQueryString:function(fargs,args){$log.info("Feed Query Override by Query String",args);for(var key in args)fargs.feed_query[key]=args[key];return fargs},mergeFeedQuery:function(fargs,args){if(args.feed_query){$log.info("Feed Query Override by Search feedQuery",args.feed_query);for(var prop in args.feed_query)fargs.feed_query[prop]=args.feed_query[prop]}return fargs},removeEmptyArgs:function(args){$log.info("Feed Query Remove Empty Args",args);for(var key in args.feed_query)"null"!=args.feed_query[key]||"s"==key?0!==args.feed_query[key]&&args.feed_query[key]!==!1&&""==args.feed_query[key]&&delete args.feed_query[key]:delete args.feed_query[key];return args},pw_get_post_types:function(args){var params={args:args};return this.wp_ajax("pw_get_post_types",params)},ajax_oembed_get:function(args){$log.debug("pwData.ajax_oembed_get",args);var params={args:args};return this.wp_ajax("ajax_oembed_get",params)},pw_save_post:function(args){$log.debug("pwData.pw_save_post",args);var params={args:args};return this.wp_ajax("pw_save_post",params)},pw_trash_post:function(args){$log.debug("pwData.pw_trash_post",args);var params={args:args};return this.wp_ajax("pw_trash_post",params)},pw_get_post_edit:function(args){$log.debug("pwData.pw_get_post_edit",args);var params={args:args};return this.wp_ajax("pw_get_post_edit",params)},taxonomies_outline_mixed:function(args){$log.debug("pwData.taxonomies_outline_mixed",args);var params={args:args};return this.wp_ajax("taxonomies_outline_mixed",params)},user_query_autocomplete:function(args){$log.debug("pwData.user_query_autocomplete",args);var params={args:args};return this.wp_ajax("user_query_autocomplete",params)},tags_autocomplete:function(args){$log.debug("pwData.tags_autocomplete",args);var params={args:args};return this.wp_ajax("tags_autocomplete",params)},set_post_relationship:function(args){$log.debug("pwData.set_post_relationship",args);var params={args:args};return this.wp_ajax("set_post_relationship",params)},set_post_points:function(args){$log.debug("pwData.set_post_points",args);var params={args:args};return this.wp_ajax("set_post_points",params)},set_comment_points:function(args){$log.debug("pwData.set_comment_points",args);var params={args:args};return this.wp_ajax("set_comment_points",params)},pw_set_avatar:function(args){$log.debug("pwData.pw_set_avatar",args);var params={args:args};return this.wp_ajax("pw_set_avatar",params)},pw_get_avatar:function(args){$log.debug("pwData.pw_get_avatar",args);var params={args:args};return this.wp_ajax("pw_get_avatar",params)},wp_user_query:function(args){$log.debug("pwData.wp_user_query",args);var params={args:args};return this.wp_ajax("wp_user_query",params)},pw_insert_user:function(args){$log.debug("pwData.pw_insert_user",args);var params={args:args};return this.wp_ajax("pw_insert_user",params)},send_activation_link:function(args){$log.debug("pwData.send_activation_link",args);var params={args:args};return this.wp_ajax("send_activation_link",params)},pw_activate_user:function(args){$log.debug("pwData.pw_activate_user",args);
var params={args:args};return this.wp_ajax("pw_activate_user",params)},send_reset_password_link:function(args){$log.debug("pwData.send_reset_password_link",args);var params={args:args};return this.wp_ajax("send_reset_password_link",params)},reset_password_submit:function(args){$log.debug("pwData.reset_password_submit",args);var params={args:args};return this.wp_ajax("reset_password_submit",params)},post_share_report:function(args){$log.debug("pwData.post_share_report",args);var params={args:args};return this.wp_ajax("post_share_report",params)},user_share_report_outgoing:function(args){$log.debug("pwData.user_share_report_outgoing",args);var params={args:args};return this.wp_ajax("user_share_report_outgoing",params)}}});