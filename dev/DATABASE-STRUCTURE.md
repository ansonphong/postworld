Postworld Database Structure
======

## Post Meta
__Default Table Name:__ *wp_posworld_* __post_meta__

------

## User Meta
__Default Table Name:__ *wp_posworld_* __user_meta__

### Columns

#### __user_id__ : *integer*
- Wordpress User ID

#### __post_points__ : *integer* (cached)
- Total points which have been voted to the user's posts

#### __post_points_meta__ : *integer* (cached)
- Cached data which breaks down the attribution of points by post_type

__Anatomy:__

``` javascript
{
	post_type : {
		post : 242,
		link : 523,
		blog : 123,
		event : 12
	}
}
```


#### __comment_points__ : *integer* (cached)
- Total points which have been voted to the user's comments

#### __share_points__ : *integer* (cached)
- Total number of share points of the user's shares (my_shares + my_post_shares)

#### __share_points_meta__ : *JSON* (cached)
- Cached JSON Object which breaks down the user's share points by:
  - __my_shares__ : From posts that I have shared
  - __my_post_shares__ : Number of share points to my posts

- Generated by : `user_share_report($used_id)`
- Cached by : `cache_user_share_report($used_id)`

__Anatomy:__

``` javascript
{
	overview : {
		my_shares : 312,
		my_post_shares : 512
	},
	details : {
		my_shares : {
			{
				post_id : 8723,	// post_id
				shares : 385,	// shares
				last_time : 	// UNIX Timestamp of the last share
			},
			{
				post_id : 3498,
				shares : 551,
				last_time :
			},
			...
		}
		my_post_shares : { // others who have shared my posts
			{
				post_id : 9348,
				shares : 385,
				users_shares:{ 
					{
						user_id : 843,
						shares : 235,
						last_time : 
					},
					{
						user_id : 843,
						shares : 984,
						last_time : 
					},
					...
				}
			},
			{
				post_id : 1252, // post_id
				shares : 385, // shares
				users_shares:{ 
					{
						user_id : 2352,
						shares : 456,
						last_time : 
					},
					{
						user_id : 2632,
						shares : 234,
						last_time : 
					},
					...
				}
			},
		}
	}

}
```

#### __post_relationships__ : *JSON*

- __viewed__ : Used to generate a report of which content the user has viewed

- __has_voted.recent__ : Used to calculate how often a user is commenting on the post
  - If the user is voting on comments too often, disable comment voting temporarily

__Anatomy:__

``` javascript
{
	viewed:[12,25,23,16,47,24,58,112,462,78,234,25,128],
	favorites:[12,16,25],
	read_later:[58,78],
	has_voted:{
		recent : { 
			{
				post_id:242,
				points:1,
				time_voted:{{UNIX TIMESTAMP}}
			},
			{
				post_id:942,
				points:-1,
				time_voted:{{UNIX TIMESTAMP}}
			},
		}
	}
}
```

#### __comment_relationships__ : *JSON*

- __has_voted.recent__ : Used to calculate how often a user is commenting on the post
  - If the user is voting on comments too often, disable comment voting temporarily

__Anatomy:__

``` javascript
{
	has_voted:{
		recent : {
			{
				comment_id:24152,
				points:1,
				time_voted:{{UNIX TIMESTAMP}}
			},
			{
				comment_id:43532,
				points:-1,
				time_voted:{{UNIX TIMESTAMP}}
			},
		}
	}
}
```