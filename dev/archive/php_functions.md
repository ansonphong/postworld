
------

### cache_user_posts_share_report( *$user_id* )
- Run `generate_user_posts_share_report($user_id)`
- Save the result in __User Meta__ table, __share_report__ column

__return__ : *Array* (same as `generate_user_posts_share_report()`)

------

### cache_user_share_report( *$user_id* )
- Run `generate_user_share_report($user_id)` and save the result in __User Meta__ table, __share_report__ column

__return__ : *Array* (same as `generate_user_share_report()`)



------

CONDENSE BOTH INTO ONE FUNCTION FOR LOAD

------

### load_user_share_report( *$user_id, [$real_time]* )
- Loads the user share report

#### Parameters

__$user_id__ : *integer*
- ID of the user of whose share report is being loaded

__$real_time__ : *boolean*  
Default : *false*

#### Process
- Check value of `$real_time`
  - If __true__ : Load by running `generate_user_share_report()`
  - If __false__ : Load by getting column __share_report__ in table __User Meta__  
  - If the __share_report__ column is empty, run `cache_user_share_report()` and return the result

__return__ : *Array* (same as `generate_user_share_report()`)  
See : Database Structure on __share_report__ column in __User Meta__ table



------

### cache_post_share_report ( *$post_id* )

- Run `post_share_report()`
- Store the result in __post_shares_meta__ column in __Post Meta__ table

__return__ : *Array* (same as `post_share_report()`)

------

DATA STRUCTURE

------


#### __share_meta__ : *JSON*
- Cached JSON Object which documents all share activity on behalf of the user, including:
  - __shares__ : From posts that the user has shared
  - __post_shares__ : Number of share points to the user's posts

__Data__ : *cached*
  - Generated by : `user_share_report($user_id)`
  - Cached by : `cache_user_share_report($user_id)`

``` javascript
{
	shares : {
		{
			post_id : 8723,	// post_id
			shares : 385,	// shares
			last_time : 	// UNIX Timestamp of the last share
		},
		{
			post_id : 3498,
			shares : 551,
			last_time :
		},
		...
	}

	post_shares : { // others who have shared my posts
		{
			post_id : 9348,
			total_shares : 385,
			users_shares:{ 
				{
					user_id : 843,
					shares : 235,
					last_time : 
				},
				{
					user_id : 843,
					shares : 984,
					last_time : 
				},
				...
			}
		},
		{
			post_id : 1252,
			total_shares : 385,
			users_shares:{ 
				{
					user_id : 2352,
					shares : 456,
					last_time : 
				},
				{
					user_id : 2632,
					shares : 234,
					last_time : 
				},
				...
			}
		},
	}
}

```

------


#### __post_shares_meta__ : *string*
- JSON object with a breakdown of the post shares by user
- Generated by `post_share_report()`

``` javascript
[
	{
		user_id : {{integer}},
		shares : {{integer}},
		last_time : {{integer}}
	},
	{
		user_id : {{integer}},
		shares : {{integer}},
		last_time : {{integer}}
	},
	...
]
```

------



